/*! jQuery v2.0.1 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
*/
/* FLOT - Javascript plotting library for jQuery, version 0.8.0-beta.

Copyright (c) 2007-2013 IOLA and Ole Laursen.
Licensed under the MIT license.
**
 * Flot plugin for adding 'events' to the plot.
 * @author Joel Oughton
 *
*/
/*
Package name    : libjs-jumflot
Version         : 2013-04-03
Upstream Author : Juergen Marsch
URL             : http://jumflot.jumware.com/
Source          : https://github.com/jumjum123/JUMFlot
License         : MIT
Programming Lang: JavaScript
Description     : plugins for the flot plotting library
Depends         : libjs-jquery, libjs-flot (0.8)
*/
/*!
 * Pusher JavaScript Library v2.1.2
 * http://pusherapp.com/
 *
 * Copyright 2013, Pusher
 * Released under the MIT licence.
 */
/* jQuery v2.0.1 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-2.0.1.min.map
*/

/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});
/*! jQuery UI - v1.10.3 - 2013-05-03
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(g){return function(h,k){return typeof h==="number"?this.each(function(){var l=this;setTimeout(function(){b(l).focus();if(k){k.call(l)}},h)}):g.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(l){if(l!==f){return this.css("zIndex",l)}if(this.length){var h=b(this[0]),g,k;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){k=parseInt(h.css("zIndex"),10);if(!isNaN(k)&&k!==0){return k}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(k,g){var m,l,h,o=k.nodeName.toLowerCase();if("area"===o){m=k.parentNode;l=m.name;if(!k.href||!l||m.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+l+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(o)?!k.disabled:"a"===o?k.href||g:g)&&c(k)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(k,h,g){return !!b.data(k,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(k){var g=b.attr(k,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(k,!h)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(k,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],l=g.toLowerCase(),o={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function m(r,q,p,s){b.each(h,function(){q-=parseFloat(b.css(r,"padding"+this))||0;if(p){q-=parseFloat(b.css(r,"border"+this+"Width"))||0}if(s){q-=parseFloat(b.css(r,"margin"+this))||0}});return q}b.fn["inner"+g]=function(p){if(p===f){return o["inner"+g].call(this)}return this.each(function(){b(this).css(l,m(this,p)+"px")})};b.fn["outer"+g]=function(p,q){if(typeof p!=="number"){return o["outer"+g].call(this,p)}return this.each(function(){b(this).css(l,m(this,p,true,q)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,k,m){var g,l=b.ui[h].prototype;for(g in m){l.plugins[g]=l.plugins[g]||[];l.plugins[g].push([k,m[g]])}},call:function(g,k,h){var l,m=g.plugins[k];if(!m||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(l=0;l<m.length;l++){if(g.options[m[l][0]]){m[l][1].apply(g.element,h)}}}},hasScroll:function(l,h){if(b(l).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",k=false;if(l[g]>0){return true}l[g]=1;k=(l[g]>0);l[g]=0;return k}})})(jQuery);(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(k){}}c(f)};b.widget=function(f,g,q){var m,o,k,p,h={},l=f.split(".")[0];f=f.split(".")[1];m=l+"-"+f;if(!q){q=g;g=b.Widget}b.expr[":"][m.toLowerCase()]=function(r){return !!b.data(r,m)};b[l]=b[l]||{};o=b[l][f];k=b[l][f]=function(r,s){if(!this._createWidget){return new k(r,s)}if(arguments.length){this._createWidget(r,s)}};b.extend(k,o,{version:q.version,_proto:b.extend({},q),_childConstructors:[]});p=new g();p.options=b.widget.extend({},p.options);b.each(q,function(s,r){if(!b.isFunction(r)){h[s]=r;return}h[s]=(function(){var t=function(){return g.prototype[s].apply(this,arguments)},u=function(v){return g.prototype[s].apply(this,v)};return function(){var x=this._super,v=this._superApply,w;this._super=t;this._superApply=u;w=r.apply(this,arguments);this._super=x;this._superApply=v;return w}})()});k.prototype=b.widget.extend(p,{widgetEventPrefix:o?p.widgetEventPrefix:f},h,{constructor:k,namespace:l,widgetName:f,widgetFullName:m});if(o){b.each(o._childConstructors,function(s,t){var r=t.prototype;b.widget(r.namespace+"."+r.widgetName,k,t._proto)});delete o._childConstructors}else{g._childConstructors.push(k)}b.widget.bridge(f,k)};b.widget.extend=function(m){var g=d.call(arguments,1),l=0,f=g.length,h,k;for(;l<f;l++){for(h in g[l]){k=g[l][h];if(g[l].hasOwnProperty(h)&&k!==e){if(b.isPlainObject(k)){m[h]=b.isPlainObject(m[h])?b.widget.extend({},m[h],k):b.widget.extend({},k)}else{m[h]=k}}}}return m};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(m){var k=typeof m==="string",l=d.call(arguments,1),o=this;m=!k&&l.length?b.widget.extend.apply(null,[m].concat(l)):m;if(k){this.each(function(){var q,p=b.data(this,h);if(!p){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+m+"'")}if(!b.isFunction(p[m])||m.charAt(0)==="_"){return b.error("no such method '"+m+"' for "+g+" widget instance")}q=p[m].apply(p,l);if(q!==p&&q!==e){o=q&&q.jquery?o.pushStack(q.get()):q;return false}})}else{this.each(function(){var p=b.data(this,h);if(p){p.option(m||{})._init()}else{b.data(this,h,new f(m,this))}})}return o}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(k,l){var f=k,m,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof k==="string"){f={};m=k.split(".");k=m.shift();if(m.length){h=f[k]=b.widget.extend({},this.options[k]);for(g=0;g<m.length-1;g++){h[m[g]]=h[m[g]]||{};h=h[m[g]]}k=m.pop();if(l===e){return h[k]===e?null:h[k]}h[k]=l}else{if(l===e){return this.options[k]===e?null:this.options[k]}f[k]=l}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(k,h,g){var l,f=this;if(typeof k!=="boolean"){g=h;h=k;k=false}if(!g){g=h;h=this.element;l=this.widget()}else{h=l=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(s,r){function p(){if(!k&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof r==="string"?f[r]:r).apply(f,arguments)}if(typeof r!=="string"){p.guid=r.guid=r.guid||p.guid||b.guid++}var q=s.match(/^(\w+)\s*(.*)$/),o=q[1]+f.eventNamespace,m=q[2];if(m){l.delegate(m,o,p)}else{h.bind(o,p)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(k,h){function g(){return(typeof k==="string"?f[k]:k).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var m,l,k=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];l=g.originalEvent;if(l){for(m in l){if(!(m in g)){g[m]=l[m]}}}this.element.trigger(g,h);return !(b.isFunction(k)&&k.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(l,k,o){if(typeof k==="string"){k={effect:k}}var m,h=!k?g:k===true||typeof k==="number"?f:k.effect||f;k=k||{};if(typeof k==="number"){k={duration:k}}m=!b.isEmptyObject(k);k.complete=o;if(k.delay){l.delay(k.delay)}if(m&&b.effects&&b.effects.effect[h]){l[g](k)}else{if(h!==g&&l[h]){l[h](k.duration,k.easing,o)}else{l.queue(function(p){b(this)[g]();if(o){o.call(l[0])}p()})}}}})})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(){a=false});b.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));this._setContainment();if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(c,e){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(d){var c=this,e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,d)}if(this.dropped){e=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!a.contains(this.element[0].ownerDocument,this.element[0])){return false}if((this.options.revert==="invalid"&&!e)||(this.options.revert==="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",d)!==false){c._clear()}})}else{if(this._trigger("stop",d)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){return this.options.handle?!!a(c.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(d){var e=this.options,c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo==="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!==this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c==="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){var c=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,g,d,f=this.options;if(!f.containment){this.containment=null;return}if(f.containment==="window"){this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(f.containment==="document"){this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(f.containment.constructor===Array){this.containment=f.containment;return}if(f.containment==="parent"){f.containment=this.helper[0].parentNode}g=a(f.containment);d=g[0];if(!d){return}e=g.css("overflow")!=="hidden";this.containment=[(parseInt(g.css("borderLeftWidth"),10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=g},_convertPositionTo:function(f,g){if(!g){g=this.position}var e=f==="absolute"?1:-1,c=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:c.scrollTop(),left:c.scrollLeft()}}return{top:(g.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*e)),left:(g.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*e))}},_generatePosition:function(d){var c,k,l,f,e=this.options,m=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=d.pageX,g=d.pageY;if(!this.offset.scroll){this.offset.scroll={top:m.scrollTop(),left:m.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){k=this.relative_container.offset();c=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top}}if(e.grid){l=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?((l-this.offset.click.top>=c[1]||l-this.offset.click.top>c[3])?l:((l-this.offset.click.top>=c[1])?l-e.grid[1]:l+e.grid[1])):l;f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?((f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2])?f:((f-this.offset.click.left>=c[0])?f-e.grid[0]:f+e.grid[0])):f}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("ui-draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"ui-sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("ui-draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,f){var e=a(this).data("ui-draggable"),c=this;a.each(e.sortables,function(){var g=false,h=this;this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){g=true;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this!==h&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(h.instance.element[0],this.instance.element[0])){g=false}return g})}if(g){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",d);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",d);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;if(c.css("cursor")){d._cursor=c.css("cursor")}c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;if(c._cursor){a("body").css("cursor",c._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");if(c.scrollParent[0]!==document&&c.scrollParent[0].tagName!=="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e){var d=a(this).data("ui-draggable"),f=d.options,c=false;if(d.scrollParent[0]!==document&&d.scrollParent[0].tagName!=="HTML"){if(!f.axis||f.axis!=="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+f.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!=="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!=="x"){if(e.pageY-a(document).scrollTop()<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!=="y"){if(e.pageX-a(document).scrollLeft()<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!==String?(d.snap.items||":data(ui-draggable)"):d.snap).each(function(){var f=a(this),e=f.offset();if(this!==c.element[0]){c.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:e.top,left:e.left})}})},drag:function(w,s){var c,B,k,m,v,q,p,C,x,h,g=a(this).data("ui-draggable"),u=g.options,A=u.snapTolerance,z=s.offset.left,y=z+g.helperProportions.width,f=s.offset.top,e=f+g.helperProportions.height;for(x=g.snapElements.length-1;x>=0;x--){v=g.snapElements[x].left;q=v+g.snapElements[x].width;p=g.snapElements[x].top;C=p+g.snapElements[x].height;if(y<v-A||z>q+A||e<p-A||f>C+A||!a.contains(g.snapElements[x].item.ownerDocument,g.snapElements[x].item)){if(g.snapElements[x].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})))}g.snapElements[x].snapping=false;continue}if(u.snapMode!=="inner"){c=Math.abs(p-e)<=A;B=Math.abs(C-f)<=A;k=Math.abs(v-y)<=A;m=Math.abs(q-z)<=A;if(c){s.position.top=g._convertPositionTo("relative",{top:p-g.helperProportions.height,left:0}).top-g.margins.top}if(B){s.position.top=g._convertPositionTo("relative",{top:C,left:0}).top-g.margins.top}if(k){s.position.left=g._convertPositionTo("relative",{top:0,left:v-g.helperProportions.width}).left-g.margins.left}if(m){s.position.left=g._convertPositionTo("relative",{top:0,left:q}).left-g.margins.left}}h=(c||B||k||m);if(u.snapMode!=="outer"){c=Math.abs(p-f)<=A;B=Math.abs(C-e)<=A;k=Math.abs(v-z)<=A;m=Math.abs(q-y)<=A;if(c){s.position.top=g._convertPositionTo("relative",{top:p,left:0}).top-g.margins.top}if(B){s.position.top=g._convertPositionTo("relative",{top:C-g.helperProportions.height,left:0}).top-g.margins.top}if(k){s.position.left=g._convertPositionTo("relative",{top:0,left:v}).left-g.margins.left}if(m){s.position.left=g._convertPositionTo("relative",{top:0,left:q-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[x].snapping&&(c||B||k||m||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})))}g.snapElements[x].snapping=(c||B||k||m||h)}}});a.ui.plugin.add("draggable","stack",{start:function(){var c,e=this.data("ui-draggable").options,d=a.makeArray(a(e.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});if(!d.length){return}c=parseInt(a(d[0]).css("zIndex"),10)||0;a(d).each(function(f){a(this).css("zIndex",c+f)});this.css("zIndex",(c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(b,c){function a(e,d,f){return(e>d)&&(e<(d+f))}b.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,d=e.accept;this.isover=false;this.isout=true;this.accept=b.isFunction(d)?d:function(f){return f.is(d)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[e.scope]=b.ui.ddmanager.droppables[e.scope]||[];b.ui.ddmanager.droppables[e.scope].push(this);(e.addClasses&&this.element.addClass("ui-droppable"))},_destroy:function(){var e=0,d=b.ui.ddmanager.droppables[this.options.scope];for(;e<d.length;e++){if(d[e]===this){d.splice(e,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,e){if(d==="accept"){this.accept=b.isFunction(e)?e:function(f){return f.is(e)}}b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(d){this._trigger("activate",e,this.ui(d))}},_deactivate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(d){this._trigger("deactivate",e,this.ui(d))}},_over:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",e,this.ui(d))}},_out:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",e,this.ui(d))}},_drop:function(e,f){var d=f||b.ui.ddmanager.current,g=false;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=b.data(this,"ui-droppable");if(h.options.greedy&&!h.options.disabled&&h.options.scope===d.options.scope&&h.accept.call(h.element[0],(d.currentItem||d.element))&&b.ui.intersect(d,b.extend(h,{offset:h.element.offset()}),h.options.tolerance)){g=true;return false}});if(g){return false}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",e,this.ui(d));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});b.ui.intersect=function(v,m,s){if(!m.offset){return false}var h,k,f=(v.positionAbs||v.position.absolute).left,e=f+v.helperProportions.width,q=(v.positionAbs||v.position.absolute).top,p=q+v.helperProportions.height,g=m.offset.left,d=g+m.proportions.width,u=m.offset.top,o=u+m.proportions.height;switch(s){case"fit":return(g<=f&&e<=d&&u<=q&&p<=o);case"intersect":return(g<f+(v.helperProportions.width/2)&&e-(v.helperProportions.width/2)<d&&u<q+(v.helperProportions.height/2)&&p-(v.helperProportions.height/2)<o);case"pointer":h=((v.positionAbs||v.position.absolute).left+(v.clickOffset||v.offset.click).left);k=((v.positionAbs||v.position.absolute).top+(v.clickOffset||v.offset.click).top);return a(k,u,m.proportions.height)&&a(h,g,m.proportions.width);case"touch":return((q>=u&&q<=o)||(p>=u&&p<=o)||(q<u&&p>o))&&((f>=g&&f<=d)||(e>=g&&e<=d)||(f<g&&e>d));default:return false}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(g,k){var f,e,d=b.ui.ddmanager.droppables[g.options.scope]||[],h=k?k.type:null,l=(g.currentItem||g.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(f=0;f<d.length;f++){if(d[f].options.disabled||(g&&!d[f].accept.call(d[f].element[0],(g.currentItem||g.element)))){continue}for(e=0;e<l.length;e++){if(l[e]===d[f].element[0]){d[f].proportions.height=0;continue droppablesLoop}}d[f].visible=d[f].element.css("display")!=="none";if(!d[f].visible){continue}if(h==="mousedown"){d[f]._activate.call(d[f],k)}d[f].offset=d[f].element.offset();d[f].proportions={width:d[f].element[0].offsetWidth,height:d[f].element[0].offsetHeight}}},drop:function(d,e){var f=false;b.each((b.ui.ddmanager.droppables[d.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&b.ui.intersect(d,this,this.options.tolerance)){f=this._drop.call(this,e)||f}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(d.currentItem||d.element))){this.isout=true;this.isover=false;this._deactivate.call(this,e)}});return f},dragStart:function(d,e){d.element.parentsUntil("body").bind("scroll.droppable",function(){if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}})},drag:function(d,e){if(d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var k,g,f,h=b.ui.intersect(d,this,this.options.tolerance),l=!h&&this.isover?"isout":(h&&!this.isover?"isover":null);if(!l){return}if(this.options.greedy){g=this.options.scope;f=this.element.parents(":data(ui-droppable)").filter(function(){return b.data(this,"ui-droppable").options.scope===g});if(f.length){k=b.data(f[0],"ui-droppable");k.greedyChild=(l==="isover")}}if(k&&l==="isover"){k.isover=false;k.isout=true;k._out.call(k,e)}this[l]=true;this[l==="isout"?"isover":"isout"]=false;this[l==="isover"?"_over":"_out"].call(this,e);if(k&&l==="isout"){k.isout=false;k.isover=true;k._over.call(k,e)}})},dragStop:function(d,e){d.element.parentsUntil("body").unbind("scroll.droppable");if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}}}})(jQuery);(function(c,d){function b(e){return parseInt(e,10)||0}function a(e){return !isNaN(parseInt(e,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var m,f,k,g,e,h=this,l=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(l.aspectRatio),aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=l.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}m=this.handles.split(",");this.handles={};for(f=0;f<m.length;f++){k=c.trim(m[f]);e="ui-resizable-"+k;g=c("<div class='ui-resizable-handle "+e+"'></div>");g.css({zIndex:l.zIndex});if("se"===k){g.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[k]=".ui-resizable-"+k;this.element.append(g)}}this._renderAxis=function(s){var p,q,o,r;s=s||this.element;for(p in this.handles){if(this.handles[p].constructor===String){this.handles[p]=c(this.handles[p],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){q=c(this.handles[p],this.element);r=/sw|ne|nw|se|n|s/.test(p)?q.outerHeight():q.outerWidth();o=["padding",/ne|nw|n/.test(p)?"Top":/se|sw|s/.test(p)?"Bottom":/^e$/.test(p)?"Right":"Left"].join("");s.css(o,r);this._proportionallyResize()}if(!c(this.handles[p]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className){g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=g&&g[1]?g[1]:"se"}});if(l.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(l.disabled){return}c(this).removeClass("ui-resizable-autohide");h._handles.show()}).mouseleave(function(){if(l.disabled){return}if(!h.resizing){c(this).addClass("ui-resizable-autohide");h._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var f,e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);f=this.element;this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f);f.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(g){var f,h,e=false;for(f in this.handles){h=c(this.handles[f])[0];if(h===g.target||c.contains(h,g.target)){e=true}}return !this.options.disabled&&e},_mouseStart:function(g){var m,h,l,k=this.options,f=this.element.position(),e=this.element;this.resizing=true;if((/absolute/).test(e.css("position"))){e.css({position:"absolute",top:e.css("top"),left:e.css("left")})}else{if(e.is(".ui-draggable")){e.css({position:"absolute",top:f.top,left:f.left})}}this._renderProxy();m=b(this.helper.css("left"));h=b(this.helper.css("top"));if(k.containment){m+=c(k.containment).scrollLeft()||0;h+=c(k.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:m,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:m,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof k.aspectRatio==="number")?k.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);l=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",l==="auto"?this.axis+"-resize":l);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var m,g=this.helper,o={},k=this.originalMousePosition,p=this.axis,r=this.position.top,f=this.position.left,q=this.size.width,l=this.size.height,t=(e.pageX-k.left)||0,s=(e.pageY-k.top)||0,h=this._change[p];if(!h){return false}m=h.apply(this,[e,t,s]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){m=this._updateRatio(m,e)}m=this._respectSize(m,e);this._updateCache(m);this._propagate("resize",e);if(this.position.top!==r){o.top=this.position.top+"px"}if(this.position.left!==f){o.left=this.position.left+"px"}if(this.size.width!==q){o.width=this.size.width+"px"}if(this.size.height!==l){o.height=this.size.height+"px"}g.css(o);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!c.isEmptyObject(o)){this._trigger("resize",e,this.ui())}return false},_mouseStop:function(h){this.resizing=false;var g,e,f,m,r,l,q,k=this.options,p=this;if(this._helper){g=this._proportionallyResizeElements;e=g.length&&(/textarea/i).test(g[0].nodeName);f=e&&c.ui.hasScroll(g[0],"left")?0:p.sizeDiff.height;m=e?0:p.sizeDiff.width;r={width:(p.helper.width()-m),height:(p.helper.height()-f)};l=(parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left))||null;q=(parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top))||null;if(!k.animate){this.element.css(c.extend(r,{top:q,left:l}))}p.helper.height(p.size.height);p.helper.width(p.size.width);if(this._helper&&!k.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(g){var k,h,f,m,e,l=this.options;e={minWidth:a(l.minWidth)?l.minWidth:0,maxWidth:a(l.maxWidth)?l.maxWidth:Infinity,minHeight:a(l.minHeight)?l.minHeight:0,maxHeight:a(l.maxHeight)?l.maxHeight:Infinity};if(this._aspectRatio||g){k=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;m=e.maxWidth/this.aspectRatio;if(k>e.minWidth){e.minWidth=k}if(f>e.minHeight){e.minHeight=f}if(h<e.maxWidth){e.maxWidth=h}if(m<e.maxHeight){e.maxHeight=m}}this._vBoundaries=e},_updateCache:function(e){this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(g){var h=this.position,f=this.size,e=this.axis;if(a(g.height)){g.width=(g.height*this.aspectRatio)}else{if(a(g.width)){g.height=(g.width/this.aspectRatio)}}if(e==="sw"){g.left=h.left+(f.width-g.width);g.top=null}if(e==="nw"){g.top=h.top+(f.height-g.height);g.left=h.left+(f.width-g.width)}return g},_respectSize:function(l){var g=this._vBoundaries,q=this.axis,s=a(l.width)&&g.maxWidth&&(g.maxWidth<l.width),m=a(l.height)&&g.maxHeight&&(g.maxHeight<l.height),h=a(l.width)&&g.minWidth&&(g.minWidth>l.width),r=a(l.height)&&g.minHeight&&(g.minHeight>l.height),f=this.originalPosition.left+this.originalSize.width,p=this.position.top+this.size.height,k=/sw|nw|w/.test(q),e=/nw|ne|n/.test(q);if(h){l.width=g.minWidth}if(r){l.height=g.minHeight}if(s){l.width=g.maxWidth}if(m){l.height=g.maxHeight}if(h&&k){l.left=f-g.minWidth}if(s&&k){l.left=f-g.maxWidth}if(r&&e){l.top=p-g.minHeight}if(m&&e){l.top=p-g.maxHeight}if(!l.width&&!l.height&&!l.left&&l.top){l.top=null}else{if(!l.width&&!l.height&&!l.top&&l.left){l.left=null}}return l},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var h,f,l,e,k,g=this.helper||this.element;for(h=0;h<this._proportionallyResizeElements.length;h++){k=this._proportionallyResizeElements[h];if(!this.borderDif){this.borderDif=[];l=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")];e=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")];for(f=0;f<l.length;f++){this.borderDif[f]=(parseInt(l[f],10)||0)+(parseInt(e[f],10)||0)}}k.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,f=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e){return{width:this.originalSize.width+e}},w:function(g,e){var f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(h,f,e){var g=this.originalSize,k=this.originalPosition;return{top:k.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!=="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(h){var q=c(this).data("ui-resizable"),l=q.options,g=q._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:q.sizeDiff.height,p=e?0:q.sizeDiff.width,k={width:(q.size.width-p),height:(q.size.height-f)},m=(parseInt(q.element.css("left"),10)+(q.position.left-q.originalPosition.left))||null,r=(parseInt(q.element.css("top"),10)+(q.position.top-q.originalPosition.top))||null;q.element.animate(c.extend(k,r&&m?{top:r,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var o={width:parseInt(q.element.css("width"),10),height:parseInt(q.element.css("height"),10),top:parseInt(q.element.css("top"),10),left:parseInt(q.element.css("left"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}q._updateCache(o);q._propagate("resize",h)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var r,g,t,e,q,h,u,s=c(this).data("ui-resizable"),m=s.options,l=s.element,f=m.containment,k=(f instanceof c)?f.get(0):(/parent/.test(f))?l.parent().get(0):f;if(!k){return}s.containerElement=c(k);if(/document/.test(f)||f===document){s.containerOffset={left:0,top:0};s.containerPosition={left:0,top:0};s.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{r=c(k);g=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){g[p]=b(r.css("padding"+o))});s.containerOffset=r.offset();s.containerPosition=r.position();s.containerSize={height:(r.innerHeight()-g[3]),width:(r.innerWidth()-g[1])};t=s.containerOffset;e=s.containerSize.height;q=s.containerSize.width;h=(c.ui.hasScroll(k,"left")?k.scrollWidth:q);u=(c.ui.hasScroll(k)?k.scrollHeight:e);s.parentData={element:k,left:t.left,top:t.top,width:h,height:u}}},resize:function(f){var m,t,l,k,p=c(this).data("ui-resizable"),h=p.options,r=p.containerOffset,q=p.position,s=p._aspectRatio||f.shiftKey,e={top:0,left:0},g=p.containerElement;if(g[0]!==document&&(/static/).test(g.css("position"))){e=r}if(q.left<(p._helper?r.left:0)){p.size.width=p.size.width+(p._helper?(p.position.left-r.left):(p.position.left-e.left));if(s){p.size.height=p.size.width/p.aspectRatio}p.position.left=h.helper?r.left:0}if(q.top<(p._helper?r.top:0)){p.size.height=p.size.height+(p._helper?(p.position.top-r.top):p.position.top);if(s){p.size.width=p.size.height*p.aspectRatio}p.position.top=p._helper?r.top:0}p.offset.left=p.parentData.left+p.position.left;p.offset.top=p.parentData.top+p.position.top;m=Math.abs((p._helper?p.offset.left-e.left:(p.offset.left-e.left))+p.sizeDiff.width);t=Math.abs((p._helper?p.offset.top-e.top:(p.offset.top-r.top))+p.sizeDiff.height);l=p.containerElement.get(0)===p.element.parent().get(0);k=/relative|absolute/.test(p.containerElement.css("position"));if(l&&k){m-=p.parentData.left}if(m+p.size.width>=p.parentData.width){p.size.width=p.parentData.width-m;if(s){p.size.height=p.size.width/p.aspectRatio}}if(t+p.size.height>=p.parentData.height){p.size.height=p.parentData.height-t;if(s){p.size.width=p.size.height*p.aspectRatio}}},stop:function(){var m=c(this).data("ui-resizable"),f=m.options,p=m.containerOffset,e=m.containerPosition,g=m.containerElement,k=c(m.helper),r=k.offset(),q=k.outerWidth()-m.sizeDiff.width,l=k.outerHeight()-m.sizeDiff.height;if(m._helper&&!f.animate&&(/relative/).test(g.css("position"))){c(this).css({left:r.left-e.left-p.left,width:q,height:l})}if(m._helper&&!f.animate&&(/static/).test(g.css("position"))){c(this).css({left:r.left-e.left-p.left,width:q,height:l})}}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("ui-resizable"),g=e.options,f=function(h){c(h).each(function(){var k=c(this);k.data("ui-resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10)})})};if(typeof(g.alsoResize)==="object"&&!g.alsoResize.parentNode){if(g.alsoResize.length){g.alsoResize=g.alsoResize[0];f(g.alsoResize)}else{c.each(g.alsoResize,function(h){f(h)})}}else{f(g.alsoResize)}},resize:function(g,k){var f=c(this).data("ui-resizable"),l=f.options,h=f.originalSize,p=f.originalPosition,m={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-p.top)||0,left:(f.position.left-p.left)||0},e=function(o,q){c(o).each(function(){var t=c(this),u=c(this).data("ui-resizable-alsoresize"),s={},r=q&&q.length?q:t.parents(k.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(r,function(v,x){var w=(u[x]||0)+(m[x]||0);if(w&&w>=0){s[x]=w||null}});t.css(s)})};if(typeof(l.alsoResize)==="object"&&!l.alsoResize.nodeType){c.each(l.alsoResize,function(o,q){e(o,q)})}else{e(l.alsoResize)}},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",{start:function(){var f=c(this).data("ui-resizable"),g=f.options,e=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof g.ghost==="string"?g.ghost:"");f.ghost.appendTo(f.helper)},resize:function(){var e=c(this).data("ui-resizable");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=c(this).data("ui-resizable");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(){var u=c(this).data("ui-resizable"),k=u.options,v=u.size,m=u.originalSize,r=u.originalPosition,w=u.axis,f=typeof k.grid==="number"?[k.grid,k.grid]:k.grid,s=(f[0]||1),q=(f[1]||1),h=Math.round((v.width-m.width)/s)*s,g=Math.round((v.height-m.height)/q)*q,p=m.width+h,e=m.height+g,l=k.maxWidth&&(k.maxWidth<p),x=k.maxHeight&&(k.maxHeight<e),t=k.minWidth&&(k.minWidth>p),y=k.minHeight&&(k.minHeight>e);k.grid=f;if(t){p=p+s}if(y){e=e+q}if(l){p=p-s}if(x){e=e-q}if(/^(se|s|e)$/.test(w)){u.size.width=p;u.size.height=e}else{if(/^(ne)$/.test(w)){u.size.width=p;u.size.height=e;u.position.top=r.top-g}else{if(/^(sw)$/.test(w)){u.size.width=p;u.size.height=e;u.position.left=r.left-h}else{u.size.width=p;u.size.height=e;u.position.top=r.top-g;u.position.left=r.left-h}}}}})})(jQuery);(function(a,b){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var d,c=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){d=a(c.options.filter,c.element[0]);d.addClass("ui-selectee");d.each(function(){var e=a(this),f=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:f.left,top:f.top,right:f.left+e.outerWidth(),bottom:f.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(e){var d=this,c=this.options;this.opos=[e.pageX,e.pageY];if(this.options.disabled){return}this.selectees=a(c.filter,this.element[0]);this._trigger("start",e);a(c.appendTo).append(this.helper);this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0});if(c.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=true;if(!e.metaKey&&!e.ctrlKey){f.$element.removeClass("ui-selected");f.selected=false;f.$element.addClass("ui-unselecting");f.unselecting=true;d._trigger("unselecting",e,{unselecting:f.element})}});a(e.target).parents().addBack().each(function(){var f,g=a.data(this,"selectable-item");if(g){f=(!e.metaKey&&!e.ctrlKey)||!g.$element.hasClass("ui-selected");g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting");g.unselecting=!f;g.selecting=f;g.selected=f;if(f){d._trigger("selecting",e,{selecting:g.element})}else{d._trigger("unselecting",e,{unselecting:g.element})}return false}})},_mouseDrag:function(l){this.dragged=true;if(this.options.disabled){return}var g,k=this,e=this.options,d=this.opos[0],h=this.opos[1],c=l.pageX,f=l.pageY;if(d>c){g=c;c=d;d=g}if(h>f){g=f;f=h;h=g}this.helper.css({left:d,top:h,width:c-d,height:f-h});this.selectees.each(function(){var m=a.data(this,"selectable-item"),o=false;if(!m||m.element===k.element[0]){return}if(e.tolerance==="touch"){o=(!(m.left>c||m.right<d||m.top>f||m.bottom<h))}else{if(e.tolerance==="fit"){o=(m.left>d&&m.right<c&&m.top>h&&m.bottom<f)}}if(o){if(m.selected){m.$element.removeClass("ui-selected");m.selected=false}if(m.unselecting){m.$element.removeClass("ui-unselecting");m.unselecting=false}if(!m.selecting){m.$element.addClass("ui-selecting");m.selecting=true;k._trigger("selecting",l,{selecting:m.element})}}else{if(m.selecting){if((l.metaKey||l.ctrlKey)&&m.startselected){m.$element.removeClass("ui-selecting");m.selecting=false;m.$element.addClass("ui-selected");m.selected=true}else{m.$element.removeClass("ui-selecting");m.selecting=false;if(m.startselected){m.$element.addClass("ui-unselecting");m.unselecting=true}k._trigger("unselecting",l,{unselecting:m.element})}}if(m.selected){if(!l.metaKey&&!l.ctrlKey&&!m.startselected){m.$element.removeClass("ui-selected");m.selected=false;m.$element.addClass("ui-unselecting");m.unselecting=true;k._trigger("unselecting",l,{unselecting:m.element})}}}});return false},_mouseStop:function(d){var c=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;c._trigger("unselected",d,{unselected:e.element})});a(".ui-selecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;c._trigger("selected",d,{selected:e.element})});this._trigger("stop",d);this.helper.remove();return false}})})(jQuery);(function(b,d){function a(f,e,g){return(f>e)&&(f<(e+g))}function c(e){return(/left|right/).test(e.css("float"))||(/inline|table-cell/).test(e.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?e.axis==="x"||c(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_setOption:function(e,f){if(e==="disabled"){this.options[e]=f;this.widget().toggleClass("ui-sortable-disabled",!!f)}else{b.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,h){var e=null,k=false,f=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(g);b(g.target).parents().each(function(){if(b.data(this,f.widgetName+"-item")===f){e=b(this);return false}});if(b.data(g.target,f.widgetName+"-item")===f){e=b(g.target)}if(!e){return false}if(this.options.handle&&!h){b(this.options.handle,e).find("*").addBack().each(function(){if(this===g.target){k=true}});if(!k){return false}}this.currentItem=e;this._removeCurrentsFromItems();return true},_mouseStart:function(h,k,f){var g,e,l=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(h);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(h);this.originalPageX=h.pageX;this.originalPageY=h.pageY;(l.cursorAt&&this._adjustOffsetFromHelper(l.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(l.containment){this._setContainment()}if(l.cursor&&l.cursor!=="auto"){e=this.document.find("body");this.storedCursor=e.css("cursor");e.css("cursor",l.cursor);this.storedStylesheet=b("<style>*{ cursor: "+l.cursor+" !important; }</style>").appendTo(e)}if(l.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",l.opacity)}if(l.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",l.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",h,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!f){for(g=this.containers.length-1;g>=0;g--){this.containers[g]._trigger("activate",h,this._uiHash(this))}}if(b.ui.ddmanager){b.ui.ddmanager.current=this}if(b.ui.ddmanager&&!l.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,h)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(h);return true},_mouseDrag:function(k){var g,h,f,m,l=this.options,e=false;this.position=this._generatePosition(k);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-k.pageY<l.scrollSensitivity){this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+l.scrollSpeed}else{if(k.pageY-this.overflowOffset.top<l.scrollSensitivity){this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-l.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-k.pageX<l.scrollSensitivity){this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+l.scrollSpeed}else{if(k.pageX-this.overflowOffset.left<l.scrollSensitivity){this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-l.scrollSpeed}}}else{if(k.pageY-b(document).scrollTop()<l.scrollSensitivity){e=b(document).scrollTop(b(document).scrollTop()-l.scrollSpeed)}else{if(b(window).height()-(k.pageY-b(document).scrollTop())<l.scrollSensitivity){e=b(document).scrollTop(b(document).scrollTop()+l.scrollSpeed)}}if(k.pageX-b(document).scrollLeft()<l.scrollSensitivity){e=b(document).scrollLeft(b(document).scrollLeft()-l.scrollSpeed)}else{if(b(window).width()-(k.pageX-b(document).scrollLeft())<l.scrollSensitivity){e=b(document).scrollLeft(b(document).scrollLeft()+l.scrollSpeed)}}}if(e!==false&&b.ui.ddmanager&&!l.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,k)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(g=this.items.length-1;g>=0;g--){h=this.items[g];f=h.item[0];m=this._intersectsWithPointer(h);if(!m){continue}if(h.instance!==this.currentContainer){continue}if(f!==this.currentItem[0]&&this.placeholder[m===1?"next":"prev"]()[0]!==f&&!b.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!b.contains(this.element[0],f):true)){this.direction=m===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(h)){this._rearrange(k,h)}else{break}this._trigger("change",k,this._uiHash());break}}this._contactContainers(k);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,k)}this._trigger("sort",k,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(g,k){if(!g){return}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,g)}if(this.options.revert){var f=this,l=this.placeholder.offset(),e=this.options.axis,h={};if(!e||e==="x"){h.left=l.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!e||e==="y"){h.top=l.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;b(this.helper).animate(h,parseInt(this.options.revert,10)||500,function(){f._clear(g)})}else{this._clear(g,k)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem)}else{b(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(g){var e=this._getItemsAsjQuery(g&&g.connected),f=[];g=g||{};b(e).each(function(){var h=(b(g.item||this).attr(g.attribute||"id")||"").match(g.expression||(/(.+)[\-=_](.+)/));if(h){f.push((g.key||h[1]+"[]")+"="+(g.key&&g.expression?h[1]:h[2]))}});if(!f.length&&g.key){f.push(g.key+"=")}return f.join("&")},toArray:function(g){var e=this._getItemsAsjQuery(g&&g.connected),f=[];g=g||{};e.each(function(){f.push(b(g.item||this).attr(g.attribute||"id")||"")});return f},_intersectsWith:function(v){var g=this.positionAbs.left,f=g+this.helperProportions.width,s=this.positionAbs.top,q=s+this.helperProportions.height,h=v.left,e=h+v.width,w=v.top,p=w+v.height,x=this.offset.click.top,o=this.offset.click.left,m=(this.options.axis==="x")||((s+x)>w&&(s+x)<p),u=(this.options.axis==="y")||((g+o)>h&&(g+o)<e),k=m&&u;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>v[this.floating?"width":"height"])){return k}else{return(h<g+(this.helperProportions.width/2)&&f-(this.helperProportions.width/2)<e&&w<s+(this.helperProportions.height/2)&&q-(this.helperProportions.height/2)<p)}},_intersectsWithPointer:function(g){var h=(this.options.axis==="x")||a(this.positionAbs.top+this.offset.click.top,g.top,g.height),f=(this.options.axis==="y")||a(this.positionAbs.left+this.offset.click.left,g.left,g.width),l=h&&f,e=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();if(!l){return false}return this.floating?(((k&&k==="right")||e==="down")?2:1):(e&&(e==="down"?2:1))},_intersectsWithSides:function(h){var f=a(this.positionAbs.top+this.offset.click.top,h.top+(h.height/2),h.height),g=a(this.positionAbs.left+this.offset.click.left,h.left+(h.width/2),h.width),e=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();if(this.floating&&k){return((k==="right"&&g)||(k==="left"&&!g))}else{return e&&((e==="down"&&f)||(e==="up"&&!f))}},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(l){var h,g,o,m,e=[],f=[],k=this._connectWith();if(k&&l){for(h=k.length-1;h>=0;h--){o=b(k[h]);for(g=o.length-1;g>=0;g--){m=b.data(o[g],this.widgetFullName);if(m&&m!==this&&!m.options.disabled){f.push([b.isFunction(m.options.items)?m.options.items.call(m.element):b(m.options.items,m.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),m])}}}}f.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(h=f.length-1;h>=0;h--){f[h][0].each(function(){e.push(this)})}return b(e)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(g){for(var f=0;f<e.length;f++){if(e[f]===g.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var k,g,q,l,p,f,s,r,m=this.items,h=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):b(this.options.items,this.element),this]],o=this._connectWith();if(o&&this.ready){for(k=o.length-1;k>=0;k--){q=b(o[k]);for(g=q.length-1;g>=0;g--){l=b.data(q[g],this.widgetFullName);if(l&&l!==this&&!l.options.disabled){h.push([b.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):b(l.options.items,l.element),l]);this.containers.push(l)}}}}for(k=h.length-1;k>=0;k--){p=h[k][1];f=h[k][0];for(g=0,r=f.length;g<r;g++){s=b(f[g]);s.data(this.widgetName+"-item",p);m.push({item:s,instance:p,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var g,h,f,k;for(g=this.items.length-1;g>=0;g--){h=this.items[g];if(h.instance!==this.currentContainer&&this.currentContainer&&h.item[0]!==this.currentItem[0]){continue}f=this.options.toleranceElement?b(this.options.toleranceElement,h.item):h.item;if(!e){h.width=f.outerWidth();h.height=f.outerHeight()}k=f.offset();h.left=k.left;h.top=k.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(g=this.containers.length-1;g>=0;g--){k=this.containers[g].element.offset();this.containers[g].containerCache.left=k.left;this.containers[g].containerCache.top=k.top;this.containers[g].containerCache.width=this.containers[g].element.outerWidth();this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}}return this},_createPlaceholder:function(f){f=f||this;var e,g=f.options;if(!g.placeholder||g.placeholder.constructor===String){e=g.placeholder;g.placeholder={element:function(){var k=f.currentItem[0].nodeName.toLowerCase(),h=b("<"+k+">",f.document[0]).addClass(e||f.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(k==="tr"){f.currentItem.children().each(function(){b("<td>&#160;</td>",f.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(h)})}else{if(k==="img"){h.attr("src",f.currentItem.attr("src"))}}if(!e){h.css("visibility","hidden")}return h},update:function(h,k){if(e&&!g.forcePlaceholderSize){return}if(!k.height()){k.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10))}if(!k.width()){k.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||0,10))}}}}f.placeholder=b(g.placeholder.element.call(f.element,f.currentItem));f.currentItem.after(f.placeholder);g.placeholder.update(f,f.placeholder)},_contactContainers:function(e){var l,h,q,m,o,s,f,t,k,p,g=null,r=null;for(l=this.containers.length-1;l>=0;l--){if(b.contains(this.currentItem[0],this.containers[l].element[0])){continue}if(this._intersectsWith(this.containers[l].containerCache)){if(g&&b.contains(this.containers[l].element[0],g.element[0])){continue}g=this.containers[l];r=l}else{if(this.containers[l].containerCache.over){this.containers[l]._trigger("out",e,this._uiHash(this));this.containers[l].containerCache.over=0}}}if(!g){return}if(this.containers.length===1){if(!this.containers[r].containerCache.over){this.containers[r]._trigger("over",e,this._uiHash(this));this.containers[r].containerCache.over=1}}else{q=10000;m=null;p=g.floating||c(this.currentItem);o=p?"left":"top";s=p?"width":"height";f=this.positionAbs[o]+this.offset.click[o];for(h=this.items.length-1;h>=0;h--){if(!b.contains(this.containers[r].element[0],this.items[h].item[0])){continue}if(this.items[h].item[0]===this.currentItem[0]){continue}if(p&&!a(this.positionAbs.top+this.offset.click.top,this.items[h].top,this.items[h].height)){continue}t=this.items[h].item.offset()[o];k=false;if(Math.abs(t-f)>Math.abs(t+this.items[h][s]-f)){k=true;t+=this.items[h][s]}if(Math.abs(t-f)<q){q=Math.abs(t-f);m=this.items[h];this.direction=k?"up":"down"}}if(!m&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[r]){return}m?this._rearrange(e,m,null,true):this._rearrange(e,null,this.containers[r].element,true);this._trigger("change",e,this._uiHash());this.containers[r]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[r];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[r]._trigger("over",e,this._uiHash(this));this.containers[r].containerCache.over=1}},_createHelper:function(f){var g=this.options,e=b.isFunction(g.helper)?b(g.helper.apply(this.element[0],[f,this.currentItem])):(g.helper==="clone"?this.currentItem.clone():this.currentItem);if(!e.parents("body").length){b(g.appendTo!=="parent"?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0])}if(e[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!e[0].style.width||g.forceHelperSize){e.width(this.currentItem.width())}if(!e[0].style.height||g.forceHelperSize){e.height(this.currentItem.height())}return e},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(b.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left" in e){this.offset.click.left=e.left+this.margins.left}if("right" in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top" in e){this.offset.click.top=e.top+this.margins.top}if("bottom" in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&b.ui.ie)){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,h,e,g=this.options;if(g.containment==="parent"){g.containment=this.helper[0].parentNode}if(g.containment==="document"||g.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(g.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(g.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)){f=b(g.containment)[0];h=b(g.containment).offset();e=(b(f).css("overflow")!=="hidden");this.containment=[h.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(b(f).css("borderTopWidth"),10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,h.left+(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(g,k){if(!k){k=this.position}var f=g==="absolute"?1:-1,e=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(e[0].tagName);return{top:(k.top+this.offset.relative.top*f+this.offset.parent.top*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(h?0:e.scrollTop()))*f)),left:(k.left+this.offset.relative.left*f+this.offset.parent.left*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())*f))}},_generatePosition:function(h){var l,k,m=this.options,g=h.pageX,f=h.pageY,e=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,p=(/(html|body)/i).test(e[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){g=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){f=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){g=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){f=this.containment[3]+this.offset.click.top}}if(m.grid){l=this.originalPageY+Math.round((f-this.originalPageY)/m.grid[1])*m.grid[1];f=this.containment?((l-this.offset.click.top>=this.containment[1]&&l-this.offset.click.top<=this.containment[3])?l:((l-this.offset.click.top>=this.containment[1])?l-m.grid[1]:l+m.grid[1])):l;k=this.originalPageX+Math.round((g-this.originalPageX)/m.grid[0])*m.grid[0];g=this.containment?((k-this.offset.click.left>=this.containment[0]&&k-this.offset.click.left<=this.containment[2])?k:((k-this.offset.click.left>=this.containment[0])?k-m.grid[0]:k+m.grid[0])):k}}return{top:(f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(p?0:e.scrollTop())))),left:(g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():p?0:e.scrollLeft())))}},_rearrange:function(k,h,f,g){f?f[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?h.item[0]:h.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){if(e===this.counter){this.refreshPositions(!g)}})},_clear:function(f,g){this.reverting=false;var e,h=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS){if(this._storedCSS[e]==="auto"||this._storedCSS[e]==="static"){this._storedCSS[e]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!g){h.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!g){h.push(function(k){this._trigger("update",k,this._uiHash())})}if(this!==this.currentContainer){if(!g){h.push(function(k){this._trigger("remove",k,this._uiHash())});h.push((function(k){return function(l){k._trigger("receive",l,this._uiHash(this))}}).call(this,this.currentContainer));h.push((function(k){return function(l){k._trigger("update",l,this._uiHash(this))}}).call(this,this.currentContainer))}}for(e=this.containers.length-1;e>=0;e--){if(!g){h.push((function(k){return function(l){k._trigger("deactivate",l,this._uiHash(this))}}).call(this,this.containers[e]))}if(this.containers[e].containerCache.over){h.push((function(k){return function(l){k._trigger("out",l,this._uiHash(this))}}).call(this,this.containers[e]));this.containers[e].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",f,this._uiHash());for(e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return false}if(!g){this._trigger("beforeStop",f,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!g){for(e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(b.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var f=e||this;return{helper:f.helper,placeholder:f.placeholder||b([]),position:f.position,originalPosition:f.originalPosition,offset:f.positionAbs,item:f.currentItem,sender:e?e.element:null}}})})(jQuery);(function(a,c){var b="ui-effects-";a.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(u,g){var q="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",m=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(v){return[v[1],v[2],v[3],v[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(v){return[v[1]*2.55,v[2]*2.55,v[3]*2.55,v[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(v){return[parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(v){return[parseInt(v[1]+v[1],16),parseInt(v[2]+v[2],16),parseInt(v[3]+v[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(v){return[v[1],v[2]/100,v[3]/100,v[4]]}}],h=u.Color=function(w,x,v,y){return new u.Color.fn.parse(w,x,v,y)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},t={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},s=h.support={},e=u("<p>")[0],d,r=u.each;e.style.cssText="background-color:rgba(1,1,1,.5)";s.rgba=e.style.backgroundColor.indexOf("rgba")>-1;r(p,function(v,w){w.cache="_"+v;w.props.alpha={idx:3,type:"percent",def:1}});function o(w,y,x){var v=t[y.type]||{};if(w==null){return(x||!y.def)?null:y.def}w=v.floor?~~w:parseFloat(w);if(isNaN(w)){return y.def}if(v.mod){return(w+v.mod)%v.mod}return 0>w?0:v.max<w?v.max:w}function k(v){var x=h(),w=x._rgba=[];v=v.toLowerCase();r(l,function(C,D){var A,B=D.re.exec(v),z=B&&D.parse(B),y=D.space||"rgba";if(z){A=x[y](z);x[p[y].cache]=A[p[y].cache];w=x._rgba=A._rgba;return false}});if(w.length){if(w.join()==="0,0,0,0"){u.extend(w,d.transparent)}return x}return d[v]}h.fn=u.extend(h.prototype,{parse:function(B,z,v,A){if(B===g){this._rgba=[null,null,null,null];return this}if(B.jquery||B.nodeType){B=u(B).css(z);z=g}var y=this,x=u.type(B),w=this._rgba=[];if(z!==g){B=[B,z,v,A];x="array"}if(x==="string"){return this.parse(k(B)||d._default)}if(x==="array"){r(p.rgba.props,function(C,D){w[D.idx]=o(B[D.idx],D)});return this}if(x==="object"){if(B instanceof h){r(p,function(C,D){if(B[D.cache]){y[D.cache]=B[D.cache].slice()}})}else{r(p,function(D,E){var C=E.cache;r(E.props,function(F,G){if(!y[C]&&E.to){if(F==="alpha"||B[F]==null){return}y[C]=E.to(y._rgba)}y[C][G.idx]=o(B[F],G,true)});if(y[C]&&u.inArray(null,y[C].slice(0,3))<0){y[C][3]=1;if(E.from){y._rgba=E.from(y[C])}}})}return this}},is:function(x){var v=h(x),y=true,w=this;r(p,function(z,B){var C,A=v[B.cache];if(A){C=w[B.cache]||B.to&&B.to(w._rgba)||[];r(B.props,function(D,E){if(A[E.idx]!=null){y=(A[E.idx]===C[E.idx]);return y}})}return y});return y},_space:function(){var v=[],w=this;r(p,function(x,y){if(w[y.cache]){v.push(x)}});return v.pop()},transition:function(w,C){var x=h(w),y=x._space(),z=p[y],A=this.alpha()===0?h("transparent"):this,B=A[z.cache]||z.to(A._rgba),v=B.slice();x=x[z.cache];r(z.props,function(G,I){var F=I.idx,E=B[F],D=x[F],H=t[I.type]||{};if(D===null){return}if(E===null){v[F]=D}else{if(H.mod){if(D-E>H.mod/2){E+=H.mod}else{if(E-D>H.mod/2){E-=H.mod}}}v[F]=o((D-E)*C+E,I)}});return this[y](v)},blend:function(y){if(this._rgba[3]===1){return this}var x=this._rgba.slice(),w=x.pop(),v=h(y)._rgba;return h(u.map(x,function(z,A){return(1-w)*v[A]+w*z}))},toRgbaString:function(){var w="rgba(",v=u.map(this._rgba,function(x,y){return x==null?(y>2?1:0):x});if(v[3]===1){v.pop();w="rgb("}return w+v.join()+")"},toHslaString:function(){var w="hsla(",v=u.map(this.hsla(),function(x,y){if(x==null){x=y>2?1:0}if(y&&y<3){x=Math.round(x*100)+"%"}return x});if(v[3]===1){v.pop();w="hsl("}return w+v.join()+")"},toHexString:function(v){var w=this._rgba.slice(),x=w.pop();if(v){w.push(~~(x*255))}return"#"+u.map(w,function(y){y=(y||0).toString(16);return y.length===1?"0"+y:y}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});h.fn.parse.prototype=h.fn;function f(x,w,v){v=(v+1)%1;if(v*6<1){return x+(w-x)*v*6}if(v*2<1){return w}if(v*3<2){return x+(w-x)*((2/3)-v)*6}return x}p.hsla.to=function(x){if(x[0]==null||x[1]==null||x[2]==null){return[null,null,null,x[3]]}var v=x[0]/255,A=x[1]/255,B=x[2]/255,D=x[3],C=Math.max(v,A,B),y=Math.min(v,A,B),E=C-y,F=C+y,w=F*0.5,z,G;if(y===C){z=0}else{if(v===C){z=(60*(A-B)/E)+360}else{if(A===C){z=(60*(B-v)/E)+120}else{z=(60*(v-A)/E)+240}}}if(E===0){G=0}else{if(w<=0.5){G=E/F}else{G=E/(2-F)}}return[Math.round(z)%360,G,w,D==null?1:D]};p.hsla.from=function(z){if(z[0]==null||z[1]==null||z[2]==null){return[null,null,null,z[3]]}var y=z[0]/360,x=z[1],w=z[2],v=z[3],A=w<=0.5?w*(1+x):w+x-w*x,B=2*w-A;return[Math.round(f(B,A,y+(1/3))*255),Math.round(f(B,A,y)*255),Math.round(f(B,A,y-(1/3))*255),v]};r(p,function(w,y){var x=y.props,v=y.cache,A=y.to,z=y.from;h.fn[w]=function(F){if(A&&!this[v]){this[v]=A(this._rgba)}if(F===g){return this[v].slice()}var C,E=u.type(F),B=(E==="array"||E==="object")?F:arguments,D=this[v].slice();r(x,function(G,I){var H=B[E==="object"?G:I.idx];if(H==null){H=D[I.idx]}D[I.idx]=o(H,I)});if(z){C=h(z(D));C[v]=D;return C}else{return h(D)}};r(x,function(B,C){if(h.fn[B]){return}h.fn[B]=function(G){var I=u.type(G),F=(B==="alpha"?(this._hsla?"hsla":"rgba"):w),E=this[F](),H=E[C.idx],D;if(I==="undefined"){return H}if(I==="function"){G=G.call(this,H);I=u.type(G)}if(G==null&&C.empty){return this}if(I==="string"){D=m.exec(G);if(D){G=H+parseFloat(D[2])*(D[1]==="+"?1:-1)}}E[C.idx]=G;return this[F](E)}})});h.hook=function(w){var v=w.split(" ");r(v,function(x,y){u.cssHooks[y]={set:function(C,D){var A,B,z="";if(D!=="transparent"&&(u.type(D)!=="string"||(A=k(D)))){D=h(A||D);if(!s.rgba&&D._rgba[3]!==1){B=y==="backgroundColor"?C.parentNode:C;while((z===""||z==="transparent")&&B&&B.style){try{z=u.css(B,"backgroundColor");B=B.parentNode}catch(E){}}D=D.blend(z&&z!=="transparent"?z:"_default")}D=D.toRgbaString()}try{C.style[y]=D}catch(E){}}};u.fx.step[y]=function(z){if(!z.colorInit){z.start=h(z.elem,y);z.end=h(z.end);z.colorInit=true}u.cssHooks[y].set(z.elem,z.start.transition(z.end,z.pos))}})};h.hook(q);u.cssHooks.borderColor={expand:function(w){var v={};r(["Top","Right","Bottom","Left"],function(y,x){v["border"+x+"Color"]=w});return v}};d=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(h,k){a.fx.step[k]=function(l){if(l.end!=="none"&&!l.setAttr||l.pos===1&&!l.setAttr){jQuery.style(l.elem,k,l.end);l.setAttr=true}}});function g(o){var k,h,l=o.ownerDocument.defaultView?o.ownerDocument.defaultView.getComputedStyle(o,null):o.currentStyle,m={};if(l&&l.length&&l[0]&&l[l[0]]){h=l.length;while(h--){k=l[h];if(typeof l[k]==="string"){m[a.camelCase(k)]=l[k]}}}else{for(k in l){if(typeof l[k]==="string"){m[k]=l[k]}}}return m}function d(h,l){var o={},k,m;for(k in l){m=l[k];if(h[k]!==m){if(!f[k]){if(a.fx.step[k]||!isNaN(parseFloat(m))){o[k]=m}}}}return o}if(!a.fn.addBack){a.fn.addBack=function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}}a.effects.animateClass=function(h,k,p,m){var l=a.speed(k,p,m);return this.queue(function(){var r=a(this),o=r.attr("class")||"",q,s=l.children?r.find("*").addBack():r;s=s.map(function(){var t=a(this);return{el:t,start:g(this)}});q=function(){a.each(e,function(t,u){if(h[u]){r[u+"Class"](h[u])}})};q();s=s.map(function(){this.end=g(this.el[0]);this.diff=d(this.start,this.end);return this});r.attr("class",o);s=s.map(function(){var v=this,t=a.Deferred(),u=a.extend({},l,{queue:false,complete:function(){t.resolve(v)}});this.el.animate(this.diff,u);return t.promise()});a.when.apply(a,s.get()).done(function(){q();a.each(arguments,function(){var t=this.el;a.each(this.diff,function(u){t.css(u,"")})});l.complete.call(r[0])})})};a.fn.extend({addClass:(function(h){return function(l,k,o,m){return k?a.effects.animateClass.call(this,{add:l},k,o,m):h.apply(this,arguments)}})(a.fn.addClass),removeClass:(function(h){return function(l,k,o,m){return arguments.length>1?a.effects.animateClass.call(this,{remove:l},k,o,m):h.apply(this,arguments)}})(a.fn.removeClass),toggleClass:(function(h){return function(m,l,k,p,o){if(typeof l==="boolean"||l===c){if(!k){return h.apply(this,arguments)}else{return a.effects.animateClass.call(this,(l?{add:m}:{remove:m}),k,p,o)}}else{return a.effects.animateClass.call(this,{toggle:m},l,k,p)}}})(a.fn.toggleClass),switchClass:function(h,l,k,o,m){return a.effects.animateClass.call(this,{add:l,remove:h},k,o,m)}})})();(function(){a.extend(a.effects,{version:"1.10.3",save:function(g,h){for(var f=0;f<h.length;f++){if(h[f]!==null){g.data(b+h[f],g[0].style[h[f]])}}},restore:function(g,k){var h,f;for(f=0;f<k.length;f++){if(k[f]!==null){h=g.data(b+k[f]);if(h===c){h=""}g.css(k[f],h)}}},setMode:function(f,g){if(g==="toggle"){g=f.is(":hidden")?"show":"hide"}return g},getBaseline:function(g,h){var k,f;switch(g[0]){case"top":k=0;break;case"middle":k=0.5;break;case"bottom":k=1;break;default:k=g[0]/h.height}switch(g[1]){case"left":f=0;break;case"center":f=0.5;break;case"right":f=1;break;default:f=g[1]/h.width}return{x:f,y:k}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper")){return g.parent()}var h={width:g.outerWidth(true),height:g.outerHeight(true),"float":g.css("float")},m=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:g.width(),height:g.height()},l=document.activeElement;try{l.id}catch(k){l=document.body}g.wrap(m);if(g[0]===l||a.contains(g[0],l)){a(l).focus()}m=g.parent();if(g.css("position")==="static"){m.css({position:"relative"});g.css({position:"relative"})}else{a.extend(h,{position:g.css("position"),zIndex:g.css("z-index")});a.each(["top","left","bottom","right"],function(o,p){h[p]=g.css(p);if(isNaN(parseInt(h[p],10))){h[p]="auto"}});g.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}g.css(f);return m.css(h).show()},removeWrapper:function(f){var g=document.activeElement;if(f.parent().is(".ui-effects-wrapper")){f.parent().replaceWith(f);if(f[0]===g||a.contains(f[0],g)){a(g).focus()}}return f},setTransition:function(g,k,f,h){h=h||{};a.each(k,function(m,l){var o=g.cssUnit(l);if(o[0]>0){h[l]=o[0]*f+o[1]}});return h}});function d(g,f,h,k){if(a.isPlainObject(g)){f=g;g=g.effect}g={effect:g};if(f==null){f={}}if(a.isFunction(f)){k=f;h=null;f={}}if(typeof f==="number"||a.fx.speeds[f]){k=h;h=f;f={}}if(a.isFunction(h)){k=h;h=null}if(f){a.extend(g,f)}h=h||f.duration;g.duration=a.fx.off?0:typeof h==="number"?h:h in a.fx.speeds?a.fx.speeds[h]:a.fx.speeds._default;g.complete=k||f.complete;return g}function e(f){if(!f||typeof f==="number"||a.fx.speeds[f]){return true}if(typeof f==="string"&&!a.effects.effect[f]){return true}if(a.isFunction(f)){return true}if(typeof f==="object"&&!f.effect){return true}return false}a.fn.extend({effect:function(){var h=d.apply(this,arguments),l=h.mode,f=h.queue,g=a.effects.effect[h.effect];if(a.fx.off||!g){if(l){return this[l](h.duration,h.complete)}else{return this.each(function(){if(h.complete){h.complete.call(this)}})}}function k(p){var q=a(this),o=h.complete,r=h.mode;function m(){if(a.isFunction(o)){o.call(q[0])}if(a.isFunction(p)){p()}}if(q.is(":hidden")?r==="hide":r==="show"){q[r]();m()}else{g.call(q[0],h,m)}}return f===false?this.each(k):this.queue(f||"fx",k)},show:(function(f){return function(h){if(e(h)){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="show";return this.effect.call(this,g)}}})(a.fn.show),hide:(function(f){return function(h){if(e(h)){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="hide";return this.effect.call(this,g)}}})(a.fn.hide),toggle:(function(f){return function(h){if(e(h)||typeof h==="boolean"){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="toggle";return this.effect.call(this,g)}}})(a.fn.toggle),cssUnit:function(f){var g=this.css(f),h=[];a.each(["em","px","%","pt"],function(k,l){if(g.indexOf(l)>0){h=[parseFloat(g),l]}});return h}})})();(function(){var d={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2)}});a.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(g){var e,f=4;while(g<((e=Math.pow(2,--f))-1)/11){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((e*3-2)/22-g,2)}});a.each(d,function(f,e){a.easing["easeIn"+f]=e;a.easing["easeOut"+f]=function(g){return 1-e(1-g)};a.easing["easeInOut"+f]=function(g){return g<0.5?e(g*2)/2:1-e(g*-2+2)/2}})})()})(jQuery);(function(d,e){var b=0,c={},a={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide";a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show";d.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var f=this.options;this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!f.collapsible&&(f.active===false||f.active==null)){f.active=0}this._processPanels();if(f.active<0){f.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?d():this.active.next(),content:!this.active.length?d():this.active.next()}},_createIcons:function(){var f=this.options.icons;if(f){d("<span>").addClass("ui-accordion-header-icon ui-icon "+f.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(f.header).addClass(f.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var f;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();f=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){f.css("height","")}},_setOption:function(f,g){if(f==="active"){this._activate(g);return}if(f==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(g)}this._super(f,g);if(f==="collapsible"&&!g&&this.options.active===false){this._activate(0)}if(f==="icons"){this._destroyIcons();if(g){this._createIcons()}}if(f==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!g)}},_keydown:function(k){if(k.altKey||k.ctrlKey){return}var l=d.ui.keyCode,h=this.headers.length,f=this.headers.index(k.target),g=false;switch(k.keyCode){case l.RIGHT:case l.DOWN:g=this.headers[(f+1)%h];break;case l.LEFT:case l.UP:g=this.headers[(f-1+h)%h];break;case l.SPACE:case l.ENTER:this._eventHandler(k);break;case l.HOME:g=this.headers[0];break;case l.END:g=this.headers[h-1];break}if(g){d(k.target).attr("tabIndex",-1);d(g).attr("tabIndex",0);g.focus();k.preventDefault()}},_panelKeyDown:function(f){if(f.keyCode===d.ui.keyCode.UP&&f.ctrlKey){d(f.currentTarget).prev().focus()}},refresh:function(){var f=this.options;this._processPanels();if((f.active===false&&f.collapsible===true)||!this.headers.length){f.active=false;this.active=d()}else{if(f.active===false){this._activate(0)}else{if(this.active.length&&!d.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){f.active=false;this.active=d()}else{this._activate(Math.max(0,f.active-1))}}else{f.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var l,h=this.options,g=h.heightStyle,k=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(q){var r=d(this),p=r.attr("id"),m=r.next(),o=m.attr("id");if(!p){p=f+"-header-"+q;r.attr("id",p)}if(!o){o=f+"-panel-"+q;m.attr("id",o)}r.attr("aria-controls",o);m.attr("aria-labelledby",p)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"})}this._createIcons();this._setupEvents(h.event);if(g==="fill"){l=k.height();this.element.siblings(":visible").each(function(){var o=d(this),m=o.css("position");if(m==="absolute"||m==="fixed"){return}l-=o.outerHeight(true)});this.headers.each(function(){l-=d(this).outerHeight(true)});this.headers.next().each(function(){d(this).height(Math.max(0,l-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{if(g==="auto"){l=0;this.headers.next().each(function(){l=Math.max(l,d(this).css("height","").height())}).height(l)}}},_activate:function(f){var g=this._findActive(f)[0];if(g===this.active[0]){return}g=g||this.active[0];this._eventHandler({target:g,currentTarget:g,preventDefault:d.noop})},_findActive:function(f){return typeof f==="number"?this.headers.eq(f):d()},_setupEvents:function(g){var f={keydown:"_keydown"};if(g){d.each(g.split(" "),function(k,h){f[h]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(f){var q=this.options,k=this.active,l=d(f.currentTarget),o=l[0]===k[0],g=o&&q.collapsible,h=g?d():l.next(),m=k.next(),p={oldHeader:k,oldPanel:m,newHeader:g?d():l,newPanel:h};f.preventDefault();if((o&&!q.collapsible)||(this._trigger("beforeActivate",f,p)===false)){return}q.active=g?false:this.headers.index(l);this.active=o?d():l;this._toggle(p);k.removeClass("ui-accordion-header-active ui-state-active");if(q.icons){k.children(".ui-accordion-header-icon").removeClass(q.icons.activeHeader).addClass(q.icons.header)}if(!o){l.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(q.icons){l.children(".ui-accordion-header-icon").removeClass(q.icons.header).addClass(q.icons.activeHeader)}l.next().addClass("ui-accordion-content-active")}},_toggle:function(h){var f=h.newPanel,g=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=f;this.prevHide=g;if(this.options.animate){this._animate(f,g,h)}else{g.hide();f.show();this._toggleComplete(h)}g.attr({"aria-expanded":"false","aria-hidden":"true"});g.prev().attr("aria-selected","false");if(f.length&&g.length){g.prev().attr("tabIndex",-1)}else{if(f.length){this.headers.filter(function(){return d(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(f,q,l){var p,o,k,m=this,r=0,s=f.length&&(!q.length||(f.index()<q.index())),h=this.options.animate||{},t=s&&h.down||h,g=function(){m._toggleComplete(l)};if(typeof t==="number"){k=t}if(typeof t==="string"){o=t}o=o||t.easing||h.easing;k=k||t.duration||h.duration;if(!q.length){return f.animate(a,k,o,g)}if(!f.length){return q.animate(c,k,o,g)}p=f.show().outerHeight();q.animate(c,{duration:k,easing:o,step:function(u,v){v.now=Math.round(u)}});f.hide().animate(a,{duration:k,easing:o,complete:g,step:function(u,v){v.now=Math.round(u);if(v.prop!=="height"){r+=v.now}else{if(m.options.heightStyle!=="content"){v.now=Math.round(p-q.outerHeight()-r);r=0}}}})},_toggleComplete:function(g){var f=g.oldPanel;f.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(f.length){f.parent()[0].className=f.parent()[0].className}this._trigger("activate",null,g)}})})(jQuery);(function(a,b){var c=0;a.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var f,d,g,k=this.element[0].nodeName.toLowerCase(),h=k==="textarea",e=k==="input";this.isMultiLine=h?true:e?false:this.element.prop("isContentEditable");this.valueMethod=this.element[h||e?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(l){if(this.element.prop("readOnly")){f=true;g=true;d=true;return}f=false;g=false;d=false;var m=a.ui.keyCode;switch(l.keyCode){case m.PAGE_UP:f=true;this._move("previousPage",l);break;case m.PAGE_DOWN:f=true;this._move("nextPage",l);break;case m.UP:f=true;this._keyEvent("previous",l);break;case m.DOWN:f=true;this._keyEvent("next",l);break;case m.ENTER:case m.NUMPAD_ENTER:if(this.menu.active){f=true;l.preventDefault();this.menu.select(l)}break;case m.TAB:if(this.menu.active){this.menu.select(l)}break;case m.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(l);l.preventDefault()}break;default:d=true;this._searchTimeout(l);break}},keypress:function(l){if(f){f=false;if(!this.isMultiLine||this.menu.element.is(":visible")){l.preventDefault()}return}if(d){return}var m=a.ui.keyCode;switch(l.keyCode){case m.PAGE_UP:this._move("previousPage",l);break;case m.PAGE_DOWN:this._move("nextPage",l);break;case m.UP:this._keyEvent("previous",l);break;case m.DOWN:this._keyEvent("next",l);break}},input:function(l){if(g){g=false;l.preventDefault();return}this._searchTimeout(l)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(l){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(l);this._change(l)}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(l){l.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var m=this.menu.element[0];if(!a(l.target).closest(".ui-menu-item").length){this._delay(function(){var o=this;this.document.one("mousedown",function(p){if(p.target!==o.element[0]&&p.target!==m&&!a.contains(m,p.target)){o.close()}})})}},menufocus:function(m,o){if(this.isNewMenu){this.isNewMenu=false;if(m.originalEvent&&/^mouse/.test(m.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){a(m.target).trigger(m.originalEvent)});return}}var l=o.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",m,{item:l})){if(m.originalEvent&&/^key/.test(m.originalEvent.type)){this._value(l.value)}}else{this.liveRegion.text(l.value)}},menuselect:function(o,p){var m=p.item.data("ui-autocomplete-item"),l=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=l;this._delay(function(){this.previous=l;this.selectedItem=m})}if(false!==this._trigger("select",o,{item:m})){this._value(m.value)}this.term=this._value();this.close(o);this.selectedItem=m}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(d,e){this._super(d,e);if(d==="source"){this._initSource()}if(d==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(d==="disabled"&&e&&this.xhr){this.xhr.abort()}},_appendTo:function(){var d=this.options.appendTo;if(d){d=d.jquery||d.nodeType?a(d):this.document.find(d).eq(0)}if(!d){d=this.element.closest(".ui-front")}if(!d.length){d=this.document[0].body}return d},_initSource:function(){var f,d,e=this;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){d=this.options.source;this.source=function(h,g){if(e.xhr){e.xhr.abort()}e.xhr=a.ajax({url:d,data:h,dataType:"json",success:function(k){g(k)},error:function(){g([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(d){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,d)}},this.options.delay)},search:function(e,d){e=e!=null?e:this._value();this.term=this._value();if(e.length<this.options.minLength){return this.close(d)}if(this._trigger("search",d)===false){return}return this._search(e)},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:d},this._response())},_response:function(){var e=this,d=++c;return function(f){if(d===c){e.__response(f)}e.pending--;if(!e.pending){e.element.removeClass("ui-autocomplete-loading")}}},__response:function(d){if(d){d=this._normalize(d)}this._trigger("response",null,{content:d});if(!this.options.disabled&&d&&d.length&&!this.cancelSearch){this._suggest(d);this._trigger("open")}else{this._close()}},close:function(d){this.cancelSearch=true;this._close(d)},_close:function(d){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",d)}},_change:function(d){if(this.previous!==this._value()){this._trigger("change",d,{item:this.selectedItem})}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e}}return a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty();this._renderMenu(e,d);this.isNewMenu=true;this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,d){var f=this;a.each(d,function(g,h){f._renderItemData(e,h)})},_renderItemData:function(d,e){return this._renderItem(d,e).data("ui-autocomplete-item",e)},_renderItem:function(d,e){return a("<li>").append(a("<a>").text(e.label)).appendTo(d)},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term);this.menu.blur();return}this.menu[e](d)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,d){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,d);d.preventDefault()}}});a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+(d>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var d;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(e&&e.length){d=this.options.messages.results(e.length)}else{d=this.options.messages.noResults}this.liveRegion.text(d)}})}(jQuery));(function(f,b){var m,e,a,h,k="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",g="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var o=f(this);setTimeout(function(){o.find(":ui-button").button("refresh")},1)},d=function(p){var o=p.name,q=p.form,r=f([]);if(o){o=o.replace(/'/g,"\\'");if(q){r=f(q).find("[name='"+o+"']")}else{r=f("[name='"+o+"']",p.ownerDocument).filter(function(){return !this.form})}}return r};f.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var r=this,p=this.options,s=this.type==="checkbox"||this.type==="radio",q=!s?"ui-state-active":"",o="ui-state-focus";if(p.label===null){p.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this._hoverable(this.buttonElement);this.buttonElement.addClass(k).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(p.disabled){return}if(this===m){f(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(p.disabled){return}f(this).removeClass(q)}).bind("click"+this.eventNamespace,function(t){if(p.disabled){t.preventDefault();t.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){r.buttonElement.addClass(o)}).bind("blur"+this.eventNamespace,function(){r.buttonElement.removeClass(o)});if(s){this.element.bind("change"+this.eventNamespace,function(){if(h){return}r.refresh()});this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){if(p.disabled){return}h=false;e=t.pageX;a=t.pageY}).bind("mouseup"+this.eventNamespace,function(t){if(p.disabled){return}if(e!==t.pageX||a!==t.pageY){h=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(p.disabled||h){return false}})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(p.disabled||h){return false}f(this).addClass("ui-state-active");r.buttonElement.attr("aria-pressed","true");var t=r.element[0];d(t).not(t).map(function(){return f(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(p.disabled){return false}f(this).addClass("ui-state-active");m=this;r.document.one("mouseup",function(){m=null})}).bind("mouseup"+this.eventNamespace,function(){if(p.disabled){return false}f(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(p.disabled){return false}if(t.keyCode===f.ui.keyCode.SPACE||t.keyCode===f.ui.keyCode.ENTER){f(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){f(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(t){if(t.keyCode===f.ui.keyCode.SPACE){f(this).click()}})}}}this._setOption("disabled",p.disabled);this._resetButton()},_determineButtonType:function(){var o,q,p;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){o=this.element.parents().last();q="label[for='"+this.element.attr("id")+"']";this.buttonElement=o.find(q);if(!this.buttonElement.length){o=o.length?o.siblings():this.element.siblings();this.buttonElement=o.filter(q);if(!this.buttonElement.length){this.buttonElement=o.find(q)}}this.element.addClass("ui-helper-hidden-accessible");p=this.element.is(":checked");if(p){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",p)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(k+" "+c+" "+g).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(o,p){this._super(o,p);if(o==="disabled"){if(p){this.element.prop("disabled",true)}else{this.element.prop("disabled",false)}return}this._resetButton()},refresh:function(){var o=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(o!==this.options.disabled){this._setOption("disabled",o)}if(this.type==="radio"){d(this.element[0]).each(function(){if(f(this).is(":checked")){f(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var s=this.buttonElement.removeClass(g),q=f("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(s.empty()).text(),p=this.options.icons,o=p.primary&&p.secondary,r=[];if(p.primary||p.secondary){if(this.options.text){r.push("ui-button-text-icon"+(o?"s":(p.primary?"-primary":"-secondary")))}if(p.primary){s.prepend("<span class='ui-button-icon-primary ui-icon "+p.primary+"'></span>")}if(p.secondary){s.append("<span class='ui-button-icon-secondary ui-icon "+p.secondary+"'></span>")}if(!this.options.text){r.push(o?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){s.attr("title",f.trim(q))}}}else{r.push("ui-button-text-only")}s.addClass(r.join(" "))}});f.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(o,p){if(o==="disabled"){this.buttons.button("option",o,p)}this._super(o,p)},refresh:function(){var o=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(o?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(o?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery));(function(e,g){e.extend(e.ui,{datepicker:{version:"1.10.3"}});var f="datepicker",c;function b(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.dpDiv=d(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(b.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(h){a(this._defaults,h||{});return this},_attachDatepicker:function(m,h){var o,l,k;o=m.nodeName.toLowerCase();l=(o==="div"||o==="span");if(!m.id){this.uuid+=1;m.id="dp"+this.uuid}k=this._newInst(e(m),l);k.settings=e.extend({},h||{});if(o==="input"){this._connectDatepicker(m,k)}else{if(l){this._inlineDatepicker(m,k)}}},_newInst:function(k,h){var l=k[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:l,input:k,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:(!h?this.dpDiv:d(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(l,k){var h=e(l);k.append=e([]);k.trigger=e([]);if(h.hasClass(this.markerClassName)){return}this._attachments(h,k);h.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(k);e.data(l,f,k);if(k.settings.disabled){this._disableDatepicker(l)}},_attachments:function(l,p){var k,o,h,q=this._get(p,"appendText"),m=this._get(p,"isRTL");if(p.append){p.append.remove()}if(q){p.append=e("<span class='"+this._appendClass+"'>"+q+"</span>");l[m?"before":"after"](p.append)}l.unbind("focus",this._showDatepicker);if(p.trigger){p.trigger.remove()}k=this._get(p,"showOn");if(k==="focus"||k==="both"){l.focus(this._showDatepicker)}if(k==="button"||k==="both"){o=this._get(p,"buttonText");h=this._get(p,"buttonImage");p.trigger=e(this._get(p,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:h,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(!h?o:e("<img/>").attr({src:h,alt:o,title:o})));l[m?"before":"after"](p.trigger);p.trigger.click(function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===l[0]){e.datepicker._hideDatepicker()}else{if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==l[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(l[0])}else{e.datepicker._showDatepicker(l[0])}}return false})}},_autoSize:function(q){if(this._get(q,"autoSize")&&!q.inline){var m,k,l,p,o=new Date(2009,12-1,20),h=this._get(q,"dateFormat");if(h.match(/[DM]/)){m=function(r){k=0;l=0;for(p=0;p<r.length;p++){if(r[p].length>k){k=r[p].length;l=p}}return l};o.setMonth(m(this._get(q,(h.match(/MM/)?"monthNames":"monthNamesShort"))));o.setDate(m(this._get(q,(h.match(/DD/)?"dayNames":"dayNamesShort")))+20-o.getDay())}q.input.attr("size",this._formatDate(q,o).length)}},_inlineDatepicker:function(k,h){var l=e(k);if(l.hasClass(this.markerClassName)){return}l.addClass(this.markerClassName).append(h.dpDiv);e.data(k,f,h);this._setDate(h,this._getDefaultDate(h),true);this._updateDatepicker(h);this._updateAlternate(h);if(h.settings.disabled){this._disableDatepicker(k)}h.dpDiv.css("display","block")},_dialogDatepicker:function(r,k,p,l,q){var h,u,o,t,s,m=this._dialogInst;if(!m){this.uuid+=1;h="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);e("body").append(this._dialogInput);m=this._dialogInst=this._newInst(this._dialogInput,false);m.settings={};e.data(this._dialogInput[0],f,m)}a(m.settings,l||{});k=(k&&k.constructor===Date?this._formatDate(m,k):k);this._dialogInput.val(k);this._pos=(q?(q.length?q:[q.pageX,q.pageY]):null);if(!this._pos){u=document.documentElement.clientWidth;o=document.documentElement.clientHeight;t=document.documentElement.scrollLeft||document.body.scrollLeft;s=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(u/2)-100+t,(o/2)-150+s]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");m.settings.onSelect=p;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(e.blockUI){e.blockUI(this.dpDiv)}e.data(this._dialogInput[0],f,m);return this},_destroyDatepicker:function(l){var m,h=e(l),k=e.data(l,f);if(!h.hasClass(this.markerClassName)){return}m=l.nodeName.toLowerCase();e.removeData(l,f);if(m==="input"){k.append.remove();k.trigger.remove();h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(m==="div"||m==="span"){h.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(m){var o,l,h=e(m),k=e.data(m,f);if(!h.hasClass(this.markerClassName)){return}o=m.nodeName.toLowerCase();if(o==="input"){m.disabled=false;k.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(o==="div"||o==="span"){l=h.children("."+this._inlineClass);l.children().removeClass("ui-state-disabled");l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=e.map(this._disabledInputs,function(p){return(p===m?null:p)})},_disableDatepicker:function(m){var o,l,h=e(m),k=e.data(m,f);if(!h.hasClass(this.markerClassName)){return}o=m.nodeName.toLowerCase();if(o==="input"){m.disabled=true;k.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(o==="div"||o==="span"){l=h.children("."+this._inlineClass);l.children().addClass("ui-state-disabled");l.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=e.map(this._disabledInputs,function(p){return(p===m?null:p)});this._disabledInputs[this._disabledInputs.length]=m},_isDisabledDatepicker:function(k){if(!k){return false}for(var h=0;h<this._disabledInputs.length;h++){if(this._disabledInputs[h]===k){return true}}return false},_getInst:function(k){try{return e.data(k,f)}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(q,k,p){var l,h,o,r,m=this._getInst(q);if(arguments.length===2&&typeof k==="string"){return(k==="defaults"?e.extend({},e.datepicker._defaults):(m?(k==="all"?e.extend({},m.settings):this._get(m,k)):null))}l=k||{};if(typeof k==="string"){l={};l[k]=p}if(m){if(this._curInst===m){this._hideDatepicker()}h=this._getDateDatepicker(q,true);o=this._getMinMaxDate(m,"min");r=this._getMinMaxDate(m,"max");a(m.settings,l);if(o!==null&&l.dateFormat!==g&&l.minDate===g){m.settings.minDate=this._formatDate(m,o)}if(r!==null&&l.dateFormat!==g&&l.maxDate===g){m.settings.maxDate=this._formatDate(m,r)}if("disabled" in l){if(l.disabled){this._disableDatepicker(q)}else{this._enableDatepicker(q)}}this._attachments(e(q),m);this._autoSize(m);this._setDate(m,h);this._updateAlternate(m);this._updateDatepicker(m)}},_changeDatepicker:function(l,h,k){this._optionDatepicker(l,h,k)},_refreshDatepicker:function(k){var h=this._getInst(k);if(h){this._updateDatepicker(h)}},_setDateDatepicker:function(l,h){var k=this._getInst(l);if(k){this._setDate(k,h);this._updateDatepicker(k);this._updateAlternate(k)}},_getDateDatepicker:function(l,h){var k=this._getInst(l);if(k&&!k.inline){this._setDateFromField(k,h)}return(k?this._getDate(k):null)},_doKeyDown:function(m){var k,h,p,o=e.datepicker._getInst(m.target),q=true,l=o.dpDiv.is(".ui-datepicker-rtl");o._keyEvent=true;if(e.datepicker._datepickerShowing){switch(m.keyCode){case 9:e.datepicker._hideDatepicker();q=false;break;case 13:p=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv);if(p[0]){e.datepicker._selectDay(m.target,o.selectedMonth,o.selectedYear,p[0])}k=e.datepicker._get(o,"onSelect");if(k){h=e.datepicker._formatDate(o);k.apply((o.input?o.input[0]:null),[h,o])}else{e.datepicker._hideDatepicker()}return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(m.target,(m.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths")),"M");break;case 34:e.datepicker._adjustDate(m.target,(m.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths")),"M");break;case 35:if(m.ctrlKey||m.metaKey){e.datepicker._clearDate(m.target)}q=m.ctrlKey||m.metaKey;break;case 36:if(m.ctrlKey||m.metaKey){e.datepicker._gotoToday(m.target)}q=m.ctrlKey||m.metaKey;break;case 37:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,(l?+1:-1),"D")}q=m.ctrlKey||m.metaKey;if(m.originalEvent.altKey){e.datepicker._adjustDate(m.target,(m.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths")),"M")}break;case 38:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,-7,"D")}q=m.ctrlKey||m.metaKey;break;case 39:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,(l?-1:+1),"D")}q=m.ctrlKey||m.metaKey;if(m.originalEvent.altKey){e.datepicker._adjustDate(m.target,(m.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths")),"M")}break;case 40:if(m.ctrlKey||m.metaKey){e.datepicker._adjustDate(m.target,+7,"D")}q=m.ctrlKey||m.metaKey;break;default:q=false}}else{if(m.keyCode===36&&m.ctrlKey){e.datepicker._showDatepicker(this)}else{q=false}}if(q){m.preventDefault();m.stopPropagation()}},_doKeyPress:function(l){var k,h,m=e.datepicker._getInst(l.target);if(e.datepicker._get(m,"constrainInput")){k=e.datepicker._possibleChars(e.datepicker._get(m,"dateFormat"));h=String.fromCharCode(l.charCode==null?l.keyCode:l.charCode);return l.ctrlKey||l.metaKey||(h<" "||!k||k.indexOf(h)>-1)}},_doKeyUp:function(l){var h,m=e.datepicker._getInst(l.target);if(m.input.val()!==m.lastVal){try{h=e.datepicker.parseDate(e.datepicker._get(m,"dateFormat"),(m.input?m.input.val():null),e.datepicker._getFormatConfig(m));if(h){e.datepicker._setDateFromField(m);e.datepicker._updateAlternate(m);e.datepicker._updateDatepicker(m)}}catch(k){}}return true},_showDatepicker:function(k){k=k.target||k;if(k.nodeName.toLowerCase()!=="input"){k=e("input",k.parentNode)[0]}if(e.datepicker._isDisabledDatepicker(k)||e.datepicker._lastInput===k){return}var m,r,l,p,q,h,o;m=e.datepicker._getInst(k);if(e.datepicker._curInst&&e.datepicker._curInst!==m){e.datepicker._curInst.dpDiv.stop(true,true);if(m&&e.datepicker._datepickerShowing){e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}}r=e.datepicker._get(m,"beforeShow");l=r?r.apply(k,[k,m]):{};if(l===false){return}a(m.settings,l);m.lastVal=null;e.datepicker._lastInput=k;e.datepicker._setDateFromField(m);if(e.datepicker._inDialog){k.value=""}if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(k);e.datepicker._pos[1]+=k.offsetHeight}p=false;e(k).parents().each(function(){p|=e(this).css("position")==="fixed";return !p});q={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;m.dpDiv.empty();m.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(m);q=e.datepicker._checkOffset(m,q,p);m.dpDiv.css({position:(e.datepicker._inDialog&&e.blockUI?"static":(p?"fixed":"absolute")),display:"none",left:q.left+"px",top:q.top+"px"});if(!m.inline){h=e.datepicker._get(m,"showAnim");o=e.datepicker._get(m,"duration");m.dpDiv.zIndex(e(k).zIndex()+1);e.datepicker._datepickerShowing=true;if(e.effects&&e.effects.effect[h]){m.dpDiv.show(h,e.datepicker._get(m,"showOptions"),o)}else{m.dpDiv[h||"show"](h?o:null)}if(e.datepicker._shouldFocusInput(m)){m.input.focus()}e.datepicker._curInst=m}},_updateDatepicker:function(l){this.maxRows=4;c=l;l.dpDiv.empty().append(this._generateHTML(l));this._attachHandlers(l);l.dpDiv.find("."+this._dayOverClass+" a").mouseover();var o,h=this._getNumberOfMonths(l),m=h[1],k=17;l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(m>1){l.dpDiv.addClass("ui-datepicker-multi-"+m).css("width",(k*m)+"em")}l.dpDiv[(h[0]!==1||h[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(l===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(l)){l.input.focus()}if(l.yearshtml){o=l.yearshtml;setTimeout(function(){if(o===l.yearshtml&&l.yearshtml){l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml)}o=l.yearshtml=null},0)}},_shouldFocusInput:function(h){return h.input&&h.input.is(":visible")&&!h.input.is(":disabled")&&!h.input.is(":focus")},_checkOffset:function(p,m,l){var o=p.dpDiv.outerWidth(),s=p.dpDiv.outerHeight(),r=p.input?p.input.outerWidth():0,h=p.input?p.input.outerHeight():0,q=document.documentElement.clientWidth+(l?0:e(document).scrollLeft()),k=document.documentElement.clientHeight+(l?0:e(document).scrollTop());m.left-=(this._get(p,"isRTL")?(o-r):0);m.left-=(l&&m.left===p.input.offset().left)?e(document).scrollLeft():0;m.top-=(l&&m.top===(p.input.offset().top+h))?e(document).scrollTop():0;m.left-=Math.min(m.left,(m.left+o>q&&q>o)?Math.abs(m.left+o-q):0);m.top-=Math.min(m.top,(m.top+s>k&&k>s)?Math.abs(s+h):0);return m},_findPos:function(m){var h,l=this._getInst(m),k=this._get(l,"isRTL");while(m&&(m.type==="hidden"||m.nodeType!==1||e.expr.filters.hidden(m))){m=m[k?"previousSibling":"nextSibling"]}h=e(m).offset();return[h.left,h.top]},_hideDatepicker:function(l){var k,p,o,h,m=this._curInst;if(!m||(l&&m!==e.data(l,f))){return}if(this._datepickerShowing){k=this._get(m,"showAnim");p=this._get(m,"duration");o=function(){e.datepicker._tidyDialog(m)};if(e.effects&&(e.effects.effect[k]||e.effects[k])){m.dpDiv.hide(k,e.datepicker._get(m,"showOptions"),p,o)}else{m.dpDiv[(k==="slideDown"?"slideUp":(k==="fadeIn"?"fadeOut":"hide"))]((k?p:null),o)}if(!k){o()}this._datepickerShowing=false;h=this._get(m,"onClose");if(h){h.apply((m.input?m.input[0]:null),[(m.input?m.input.val():""),m])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(h){h.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(k){if(!e.datepicker._curInst){return}var h=e(k.target),l=e.datepicker._getInst(h[0]);if(((h[0].id!==e.datepicker._mainDivId&&h.parents("#"+e.datepicker._mainDivId).length===0&&!h.hasClass(e.datepicker.markerClassName)&&!h.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)))||(h.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==l)){e.datepicker._hideDatepicker()}},_adjustDate:function(o,m,l){var k=e(o),h=this._getInst(k[0]);if(this._isDisabledDatepicker(k[0])){return}this._adjustInstDate(h,m+(l==="M"?this._get(h,"showCurrentAtPos"):0),l);this._updateDatepicker(h)},_gotoToday:function(m){var h,l=e(m),k=this._getInst(l[0]);if(this._get(k,"gotoCurrent")&&k.currentDay){k.selectedDay=k.currentDay;k.drawMonth=k.selectedMonth=k.currentMonth;k.drawYear=k.selectedYear=k.currentYear}else{h=new Date();k.selectedDay=h.getDate();k.drawMonth=k.selectedMonth=h.getMonth();k.drawYear=k.selectedYear=h.getFullYear()}this._notifyChange(k);this._adjustDate(l)},_selectMonthYear:function(o,h,m){var l=e(o),k=this._getInst(l[0]);k["selected"+(m==="M"?"Month":"Year")]=k["draw"+(m==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10);this._notifyChange(k);this._adjustDate(l)},_selectDay:function(p,m,h,o){var k,l=e(p);if(e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(l[0])){return}k=this._getInst(l[0]);k.selectedDay=k.currentDay=e("a",o).html();k.selectedMonth=k.currentMonth=m;k.selectedYear=k.currentYear=h;this._selectDate(p,this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear))},_clearDate:function(k){var h=e(k);this._selectDate(h,"")},_selectDate:function(o,h){var k,m=e(o),l=this._getInst(m[0]);h=(h!=null?h:this._formatDate(l));if(l.input){l.input.val(h)}this._updateAlternate(l);k=this._get(l,"onSelect");if(k){k.apply((l.input?l.input[0]:null),[h,l])}else{if(l.input){l.input.trigger("change")}}if(l.inline){this._updateDatepicker(l)}else{this._hideDatepicker();this._lastInput=l.input[0];if(typeof(l.input[0])!=="object"){l.input.focus()}this._lastInput=null}},_updateAlternate:function(o){var m,l,h,k=this._get(o,"altField");if(k){m=this._get(o,"altFormat")||this._get(o,"dateFormat");l=this._getDate(o);h=this.formatDate(m,l,this._getFormatConfig(o));e(k).each(function(){e(this).val(h)})}},noWeekends:function(k){var h=k.getDay();return[(h>0&&h<6),""]},iso8601Week:function(h){var k,l=new Date(h.getTime());l.setDate(l.getDate()+4-(l.getDay()||7));k=l.getTime();l.setMonth(0);l.setDate(1);return Math.floor(Math.round((k-l)/86400000)/7)+1},parseDate:function(A,v,C){if(A==null||v==null){throw"Invalid arguments"}v=(typeof v==="object"?v.toString():v+"");if(v===""){return null}var m,x,k,B=0,q=(C?C.shortYearCutoff:null)||this._defaults.shortYearCutoff,l=(typeof q!=="string"?q:new Date().getFullYear()%100+parseInt(q,10)),t=(C?C.dayNamesShort:null)||this._defaults.dayNamesShort,E=(C?C.dayNames:null)||this._defaults.dayNames,h=(C?C.monthNamesShort:null)||this._defaults.monthNamesShort,o=(C?C.monthNames:null)||this._defaults.monthNames,p=-1,F=-1,z=-1,s=-1,y=false,D,u=function(H){var I=(m+1<A.length&&A.charAt(m+1)===H);if(I){m++}return I},G=function(J){var H=u(J),K=(J==="@"?14:(J==="!"?20:(J==="y"&&H?4:(J==="o"?3:2)))),L=new RegExp("^\\d{1,"+K+"}"),I=v.substring(B).match(L);if(!I){throw"Missing number at position "+B}B+=I[0].length;return parseInt(I[0],10)},r=function(I,J,L){var H=-1,K=e.map(u(I)?L:J,function(N,M){return[[M,N]]}).sort(function(N,M){return -(N[1].length-M[1].length)});e.each(K,function(N,O){var M=O[1];if(v.substr(B,M.length).toLowerCase()===M.toLowerCase()){H=O[0];B+=M.length;return false}});if(H!==-1){return H+1}else{throw"Unknown name at position "+B}},w=function(){if(v.charAt(B)!==A.charAt(m)){throw"Unexpected literal at position "+B}B++};for(m=0;m<A.length;m++){if(y){if(A.charAt(m)==="'"&&!u("'")){y=false}else{w()}}else{switch(A.charAt(m)){case"d":z=G("d");break;case"D":r("D",t,E);break;case"o":s=G("o");break;case"m":F=G("m");break;case"M":F=r("M",h,o);break;case"y":p=G("y");break;case"@":D=new Date(G("@"));p=D.getFullYear();F=D.getMonth()+1;z=D.getDate();break;case"!":D=new Date((G("!")-this._ticksTo1970)/10000);p=D.getFullYear();F=D.getMonth()+1;z=D.getDate();break;case"'":if(u("'")){w()}else{y=true}break;default:w()}}}if(B<v.length){k=v.substr(B);if(!/^\s+/.test(k)){throw"Extra/unparsed characters found in date: "+k}}if(p===-1){p=new Date().getFullYear()}else{if(p<100){p+=new Date().getFullYear()-new Date().getFullYear()%100+(p<=l?0:-100)}}if(s>-1){F=1;z=s;do{x=this._getDaysInMonth(p,F-1);if(z<=x){break}F++;z-=x}while(true)}D=this._daylightSavingAdjust(new Date(p,F-1,z));if(D.getFullYear()!==p||D.getMonth()+1!==F||D.getDate()!==z){throw"Invalid date"}return D},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(t,m,o){if(!m){return""}var v,w=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,k=(o?o.dayNames:null)||this._defaults.dayNames,r=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort,p=(o?o.monthNames:null)||this._defaults.monthNames,u=function(x){var y=(v+1<t.length&&t.charAt(v+1)===x);if(y){v++}return y},h=function(z,A,x){var y=""+A;if(u(z)){while(y.length<x){y="0"+y}}return y},q=function(x,z,y,A){return(u(x)?A[z]:y[z])},l="",s=false;if(m){for(v=0;v<t.length;v++){if(s){if(t.charAt(v)==="'"&&!u("'")){s=false}else{l+=t.charAt(v)}}else{switch(t.charAt(v)){case"d":l+=h("d",m.getDate(),2);break;case"D":l+=q("D",m.getDay(),w,k);break;case"o":l+=h("o",Math.round((new Date(m.getFullYear(),m.getMonth(),m.getDate()).getTime()-new Date(m.getFullYear(),0,0).getTime())/86400000),3);break;case"m":l+=h("m",m.getMonth()+1,2);break;case"M":l+=q("M",m.getMonth(),r,p);break;case"y":l+=(u("y")?m.getFullYear():(m.getYear()%100<10?"0":"")+m.getYear()%100);break;case"@":l+=m.getTime();break;case"!":l+=m.getTime()*10000+this._ticksTo1970;break;case"'":if(u("'")){l+="'"}else{s=true}break;default:l+=t.charAt(v)}}}}return l},_possibleChars:function(o){var m,l="",k=false,h=function(p){var q=(m+1<o.length&&o.charAt(m+1)===p);if(q){m++}return q};for(m=0;m<o.length;m++){if(k){if(o.charAt(m)==="'"&&!h("'")){k=false}else{l+=o.charAt(m)}}else{switch(o.charAt(m)){case"d":case"m":case"y":case"@":l+="0123456789";break;case"D":case"M":return null;case"'":if(h("'")){l+="'"}else{k=true}break;default:l+=o.charAt(m)}}}return l},_get:function(k,h){return k.settings[h]!==g?k.settings[h]:this._defaults[h]},_setDateFromField:function(p,l){if(p.input.val()===p.lastVal){return}var h=this._get(p,"dateFormat"),r=p.lastVal=p.input?p.input.val():null,q=this._getDefaultDate(p),k=q,m=this._getFormatConfig(p);try{k=this.parseDate(h,r,m)||q}catch(o){r=(l?"":r)}p.selectedDay=k.getDate();p.drawMonth=p.selectedMonth=k.getMonth();p.drawYear=p.selectedYear=k.getFullYear();p.currentDay=(r?k.getDate():0);p.currentMonth=(r?k.getMonth():0);p.currentYear=(r?k.getFullYear():0);this._adjustInstDate(p)},_getDefaultDate:function(h){return this._restrictMinMax(h,this._determineDate(h,this._get(h,"defaultDate"),new Date()))},_determineDate:function(o,k,p){var m=function(r){var q=new Date();q.setDate(q.getDate()+r);return q},l=function(x){try{return e.datepicker.parseDate(e.datepicker._get(o,"dateFormat"),x,e.datepicker._getFormatConfig(o))}catch(w){}var r=(x.toLowerCase().match(/^c/)?e.datepicker._getDate(o):null)||new Date(),s=r.getFullYear(),v=r.getMonth(),q=r.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,t=u.exec(x);while(t){switch(t[2]||"d"){case"d":case"D":q+=parseInt(t[1],10);break;case"w":case"W":q+=parseInt(t[1],10)*7;break;case"m":case"M":v+=parseInt(t[1],10);q=Math.min(q,e.datepicker._getDaysInMonth(s,v));break;case"y":case"Y":s+=parseInt(t[1],10);q=Math.min(q,e.datepicker._getDaysInMonth(s,v));break}t=u.exec(x)}return new Date(s,v,q)},h=(k==null||k===""?p:(typeof k==="string"?l(k):(typeof k==="number"?(isNaN(k)?p:m(k)):new Date(k.getTime()))));h=(h&&h.toString()==="Invalid Date"?p:h);if(h){h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0)}return this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(h){if(!h){return null}h.setHours(h.getHours()>12?h.getHours()+2:0);return h},_setDate:function(q,m,p){var h=!m,l=q.selectedMonth,o=q.selectedYear,k=this._restrictMinMax(q,this._determineDate(q,m,new Date()));q.selectedDay=q.currentDay=k.getDate();q.drawMonth=q.selectedMonth=q.currentMonth=k.getMonth();q.drawYear=q.selectedYear=q.currentYear=k.getFullYear();if((l!==q.selectedMonth||o!==q.selectedYear)&&!p){this._notifyChange(q)}this._adjustInstDate(q);if(q.input){q.input.val(h?"":this._formatDate(q))}},_getDate:function(k){var h=(!k.currentYear||(k.input&&k.input.val()==="")?null:this._daylightSavingAdjust(new Date(k.currentYear,k.currentMonth,k.currentDay)));return h},_attachHandlers:function(k){var h=this._get(k,"stepMonths"),l="#"+k.id.replace(/\\\\/g,"\\");k.dpDiv.find("[data-handler]").map(function(){var m={prev:function(){e.datepicker._adjustDate(l,-h,"M")},next:function(){e.datepicker._adjustDate(l,+h,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(l)},selectDay:function(){e.datepicker._selectDay(l,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(l,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(l,this,"Y");return false}};e(this).bind(this.getAttribute("data-event"),m[this.getAttribute("data-handler")])})},_generateHTML:function(aa){var D,C,V,N,o,ae,Y,R,ah,L,al,v,x,w,k,ad,t,G,ag,T,am,F,K,u,p,W,P,S,Q,s,I,y,Z,ac,m,af,aj,O,z,ab=new Date(),E=this._daylightSavingAdjust(new Date(ab.getFullYear(),ab.getMonth(),ab.getDate())),ai=this._get(aa,"isRTL"),ak=this._get(aa,"showButtonPanel"),U=this._get(aa,"hideIfNoPrevNext"),J=this._get(aa,"navigationAsDateFormat"),A=this._getNumberOfMonths(aa),r=this._get(aa,"showCurrentAtPos"),M=this._get(aa,"stepMonths"),H=(A[0]!==1||A[1]!==1),l=this._daylightSavingAdjust((!aa.currentDay?new Date(9999,9,9):new Date(aa.currentYear,aa.currentMonth,aa.currentDay))),q=this._getMinMaxDate(aa,"min"),B=this._getMinMaxDate(aa,"max"),h=aa.drawMonth-r,X=aa.drawYear;if(h<0){h+=12;X--}if(B){D=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth()-(A[0]*A[1])+1,B.getDate()));D=(q&&D<q?q:D);while(this._daylightSavingAdjust(new Date(X,h,1))>D){h--;if(h<0){h=11;X--}}}aa.drawMonth=h;aa.drawYear=X;C=this._get(aa,"prevText");C=(!J?C:this.formatDate(C,this._daylightSavingAdjust(new Date(X,h-M,1)),this._getFormatConfig(aa)));V=(this._canAdjustMonth(aa,-1,X,h)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+C+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"e":"w")+"'>"+C+"</span></a>":(U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+C+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"e":"w")+"'>"+C+"</span></a>"));N=this._get(aa,"nextText");N=(!J?N:this.formatDate(N,this._daylightSavingAdjust(new Date(X,h+M,1)),this._getFormatConfig(aa)));o=(this._canAdjustMonth(aa,+1,X,h)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+N+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"w":"e")+"'>"+N+"</span></a>":(U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+N+"'><span class='ui-icon ui-icon-circle-triangle-"+(ai?"w":"e")+"'>"+N+"</span></a>"));ae=this._get(aa,"currentText");Y=(this._get(aa,"gotoCurrent")&&aa.currentDay?l:E);ae=(!J?ae:this.formatDate(ae,Y,this._getFormatConfig(aa)));R=(!aa.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aa,"closeText")+"</button>":"");ah=(ak)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ai?R:"")+(this._isInRange(aa,Y)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+ae+"</button>":"")+(ai?"":R)+"</div>":"";L=parseInt(this._get(aa,"firstDay"),10);L=(isNaN(L)?0:L);al=this._get(aa,"showWeek");v=this._get(aa,"dayNames");x=this._get(aa,"dayNamesMin");w=this._get(aa,"monthNames");k=this._get(aa,"monthNamesShort");ad=this._get(aa,"beforeShowDay");t=this._get(aa,"showOtherMonths");G=this._get(aa,"selectOtherMonths");ag=this._getDefaultDate(aa);T="";am;for(F=0;F<A[0];F++){K="";this.maxRows=4;for(u=0;u<A[1];u++){p=this._daylightSavingAdjust(new Date(X,h,aa.selectedDay));W=" ui-corner-all";P="";if(H){P+="<div class='ui-datepicker-group";if(A[1]>1){switch(u){case 0:P+=" ui-datepicker-group-first";W=" ui-corner-"+(ai?"right":"left");break;case A[1]-1:P+=" ui-datepicker-group-last";W=" ui-corner-"+(ai?"left":"right");break;default:P+=" ui-datepicker-group-middle";W="";break}}P+="'>"}P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+W+"'>"+(/all|left/.test(W)&&F===0?(ai?o:V):"")+(/all|right/.test(W)&&F===0?(ai?V:o):"")+this._generateMonthYearHeader(aa,h,X,q,B,F>0||u>0,w,k)+"</div><table class='ui-datepicker-calendar'><thead><tr>";S=(al?"<th class='ui-datepicker-week-col'>"+this._get(aa,"weekHeader")+"</th>":"");for(am=0;am<7;am++){Q=(am+L)%7;S+="<th"+((am+L+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+v[Q]+"'>"+x[Q]+"</span></th>"}P+=S+"</tr></thead><tbody>";s=this._getDaysInMonth(X,h);if(X===aa.selectedYear&&h===aa.selectedMonth){aa.selectedDay=Math.min(aa.selectedDay,s)}I=(this._getFirstDayOfMonth(X,h)-L+7)%7;y=Math.ceil((I+s)/7);Z=(H?this.maxRows>y?this.maxRows:y:y);this.maxRows=Z;ac=this._daylightSavingAdjust(new Date(X,h,1-I));for(m=0;m<Z;m++){P+="<tr>";af=(!al?"":"<td class='ui-datepicker-week-col'>"+this._get(aa,"calculateWeek")(ac)+"</td>");for(am=0;am<7;am++){aj=(ad?ad.apply((aa.input?aa.input[0]:null),[ac]):[true,""]);O=(ac.getMonth()!==h);z=(O&&!G)||!aj[0]||(q&&ac<q)||(B&&ac>B);af+="<td class='"+((am+L+6)%7>=5?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+((ac.getTime()===p.getTime()&&h===aa.selectedMonth&&aa._keyEvent)||(ag.getTime()===ac.getTime()&&ag.getTime()===p.getTime())?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!t?"":" "+aj[1]+(ac.getTime()===l.getTime()?" "+this._currentClass:"")+(ac.getTime()===E.getTime()?" ui-datepicker-today":""))+"'"+((!O||t)&&aj[2]?" title='"+aj[2].replace(/'/g,"&#39;")+"'":"")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+ac.getMonth()+"' data-year='"+ac.getFullYear()+"'")+">"+(O&&!t?"&#xa0;":(z?"<span class='ui-state-default'>"+ac.getDate()+"</span>":"<a class='ui-state-default"+(ac.getTime()===E.getTime()?" ui-state-highlight":"")+(ac.getTime()===l.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+ac.getDate()+"</a>"))+"</td>";ac.setDate(ac.getDate()+1);ac=this._daylightSavingAdjust(ac)}P+=af+"</tr>"}h++;if(h>11){h=0;X++}P+="</tbody></table>"+(H?"</div>"+((A[0]>0&&u===A[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");K+=P}T+=K}T+=ah;aa._keyEvent=false;return T},_generateMonthYearHeader:function(o,l,w,q,u,x,s,h){var B,k,C,z,p,y,v,r,m=this._get(o,"changeMonth"),D=this._get(o,"changeYear"),E=this._get(o,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",A="";if(x||!m){A+="<span class='ui-datepicker-month'>"+s[l]+"</span>"}else{B=(q&&q.getFullYear()===w);k=(u&&u.getFullYear()===w);A+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(C=0;C<12;C++){if((!B||C>=q.getMonth())&&(!k||C<=u.getMonth())){A+="<option value='"+C+"'"+(C===l?" selected='selected'":"")+">"+h[C]+"</option>"}}A+="</select>"}if(!E){t+=A+(x||!(m&&D)?"&#xa0;":"")}if(!o.yearshtml){o.yearshtml="";if(x||!D){t+="<span class='ui-datepicker-year'>"+w+"</span>"}else{z=this._get(o,"yearRange").split(":");p=new Date().getFullYear();y=function(G){var F=(G.match(/c[+\-].*/)?w+parseInt(G.substring(1),10):(G.match(/[+\-].*/)?p+parseInt(G,10):parseInt(G,10)));return(isNaN(F)?p:F)};v=y(z[0]);r=Math.max(v,y(z[1]||""));v=(q?Math.max(v,q.getFullYear()):v);r=(u?Math.min(r,u.getFullYear()):r);o.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;v<=r;v++){o.yearshtml+="<option value='"+v+"'"+(v===w?" selected='selected'":"")+">"+v+"</option>"}o.yearshtml+="</select>";t+=o.yearshtml;o.yearshtml=null}}t+=this._get(o,"yearSuffix");if(E){t+=(x||!(m&&D)?"&#xa0;":"")+A}t+="</div>";return t},_adjustInstDate:function(m,q,p){var l=m.drawYear+(p==="Y"?q:0),o=m.drawMonth+(p==="M"?q:0),h=Math.min(m.selectedDay,this._getDaysInMonth(l,o))+(p==="D"?q:0),k=this._restrictMinMax(m,this._daylightSavingAdjust(new Date(l,o,h)));m.selectedDay=k.getDate();m.drawMonth=m.selectedMonth=k.getMonth();m.drawYear=m.selectedYear=k.getFullYear();if(p==="M"||p==="Y"){this._notifyChange(m)}},_restrictMinMax:function(m,k){var l=this._getMinMaxDate(m,"min"),o=this._getMinMaxDate(m,"max"),h=(l&&k<l?l:k);return(o&&h>o?o:h)},_notifyChange:function(k){var h=this._get(k,"onChangeMonthYear");if(h){h.apply((k.input?k.input[0]:null),[k.selectedYear,k.selectedMonth+1,k])}},_getNumberOfMonths:function(k){var h=this._get(k,"numberOfMonths");return(h==null?[1,1]:(typeof h==="number"?[1,h]:h))},_getMinMaxDate:function(k,h){return this._determineDate(k,this._get(k,h+"Date"),null)},_getDaysInMonth:function(h,k){return 32-this._daylightSavingAdjust(new Date(h,k,32)).getDate()},_getFirstDayOfMonth:function(h,k){return new Date(h,k,1).getDay()},_canAdjustMonth:function(m,p,l,o){var h=this._getNumberOfMonths(m),k=this._daylightSavingAdjust(new Date(l,o+(p<0?p:h[0]*h[1]),1));if(p<0){k.setDate(this._getDaysInMonth(k.getFullYear(),k.getMonth()))}return this._isInRange(m,k)},_isInRange:function(o,l){var k,r,m=this._getMinMaxDate(o,"min"),h=this._getMinMaxDate(o,"max"),s=null,p=null,q=this._get(o,"yearRange");if(q){k=q.split(":");r=new Date().getFullYear();s=parseInt(k[0],10);p=parseInt(k[1],10);if(k[0].match(/[+\-].*/)){s+=r}if(k[1].match(/[+\-].*/)){p+=r}}return((!m||l.getTime()>=m.getTime())&&(!h||l.getTime()<=h.getTime())&&(!s||l.getFullYear()>=s)&&(!p||l.getFullYear()<=p))},_getFormatConfig:function(h){var k=this._get(h,"shortYearCutoff");k=(typeof k!=="string"?k:new Date().getFullYear()%100+parseInt(k,10));return{shortYearCutoff:k,dayNamesShort:this._get(h,"dayNamesShort"),dayNames:this._get(h,"dayNames"),monthNamesShort:this._get(h,"monthNamesShort"),monthNames:this._get(h,"monthNames")}},_formatDate:function(m,h,o,l){if(!h){m.currentDay=m.selectedDay;m.currentMonth=m.selectedMonth;m.currentYear=m.selectedYear}var k=(h?(typeof h==="object"?h:this._daylightSavingAdjust(new Date(l,o,h))):this._daylightSavingAdjust(new Date(m.currentYear,m.currentMonth,m.currentDay)));return this.formatDate(this._get(m,"dateFormat"),k,this._getFormatConfig(m))}});function d(k){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return k.delegate(h,"mouseout",function(){e(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).removeClass("ui-datepicker-next-hover")}}).delegate(h,"mouseover",function(){if(!e.datepicker._isDisabledDatepicker(c.inline?k.parent()[0]:c.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).addClass("ui-datepicker-next-hover")}}})}function a(l,k){e.extend(l,k);for(var h in k){if(k[h]==null){l[h]=k[h]}}return l}e.fn.datepicker=function(k){if(!this.length){return this}if(!e.datepicker.initialized){e(document).mousedown(e.datepicker._checkExternalClick);e.datepicker.initialized=true}if(e("#"+e.datepicker._mainDivId).length===0){e("body").append(e.datepicker.dpDiv)}var h=Array.prototype.slice.call(arguments,1);if(typeof k==="string"&&(k==="isDisabled"||k==="getDate"||k==="widget")){return e.datepicker["_"+k+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}if(k==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return e.datepicker["_"+k+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))}return this.each(function(){typeof k==="string"?e.datepicker["_"+k+"Datepicker"].apply(e.datepicker,[this].concat(h)):e.datepicker._attachDatepicker(this,k)})};e.datepicker=new b();e.datepicker.initialized=false;e.datepicker.uuid=new Date().getTime();e.datepicker.version="1.10.3"})(jQuery);(function(c,d){var a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},b={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};c.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(f){var e=c(this).css(f).offset().top;if(e<0){c(this).css("top",f.top-e)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&c.fn.draggable){this._makeDraggable()}if(this.options.resizable&&c.fn.resizable){this._makeResizable()}this._isOpen=false},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var e=this.options.appendTo;if(e&&(e.jquery||e.nodeType)){return c(e)}return this.document.find(e||"body").eq(0)},_destroy:function(){var f,e=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}f=e.parent.children().eq(e.index);if(f.length&&f[0]!==this.element[0]){f.before(this.element)}else{e.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(f){var e=this;if(!this._isOpen||this._trigger("beforeClose",f)===false){return}this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){c(this.document[0].activeElement).blur()}this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",f)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(g,e){var f=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(f&&!e){this._trigger("focus",g)}return f},open:function(){var e=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=c(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._trigger("open")},_focusTabbable:function(){var e=this.element.find("[autofocus]");if(!e.length){e=this.element.find(":tabbable")}if(!e.length){e=this.uiDialogButtonPane.find(":tabbable")}if(!e.length){e=this.uiDialogTitlebarClose.filter(":tabbable")}if(!e.length){e=this.uiDialog}e.eq(0).focus()},_keepFocus:function(e){function f(){var h=this.document[0].activeElement,g=this.uiDialog[0]===h||c.contains(this.uiDialog[0],h);if(!g){this._focusTabbable()}}e.preventDefault();f.call(this);this._delay(f)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(g){if(this.options.closeOnEscape&&!g.isDefaultPrevented()&&g.keyCode&&g.keyCode===c.ui.keyCode.ESCAPE){g.preventDefault();this.close(g);return}if(g.keyCode!==c.ui.keyCode.TAB){return}var f=this.uiDialog.find(":tabbable"),h=f.filter(":first"),e=f.filter(":last");if((g.target===e[0]||g.target===this.uiDialog[0])&&!g.shiftKey){h.focus(1);g.preventDefault()}else{if((g.target===h[0]||g.target===this.uiDialog[0])&&g.shiftKey){e.focus(1);g.preventDefault()}}},mousedown:function(e){if(this._moveToTop(e)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var e;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(f){if(!c(f.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=c("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(f){f.preventDefault();this.close(f)}});e=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(e);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){if(!this.options.title){e.html("&#160;")}e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var f=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(c.isEmptyObject(e)||(c.isArray(e)&&!e.length)){this.uiDialog.removeClass("ui-dialog-buttons");return}c.each(e,function(g,h){var k,l;h=c.isFunction(h)?{click:h,text:g}:h;h=c.extend({type:"button"},h);k=h.click;h.click=function(){k.apply(f.element[0],arguments)};l={icons:h.icons,text:h.showText};delete h.icons;delete h.showText;c("<button></button>",h).button(l).appendTo(f.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var g=this,f=this.options;function e(h){return{position:h.position,offset:h.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(h,k){c(this).addClass("ui-dialog-dragging");g._blockFrames();g._trigger("dragStart",h,e(k))},drag:function(h,k){g._trigger("drag",h,e(k))},stop:function(h,k){f.position=[k.position.left-g.document.scrollLeft(),k.position.top-g.document.scrollTop()];c(this).removeClass("ui-dialog-dragging");g._unblockFrames();g._trigger("dragStop",h,e(k))}})},_makeResizable:function(){var l=this,h=this.options,k=h.resizable,e=this.uiDialog.css("position"),g=typeof k==="string"?k:"n,e,s,w,se,sw,ne,nw";function f(m){return{originalPosition:m.originalPosition,originalSize:m.originalSize,position:m.position,size:m.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:h.maxWidth,maxHeight:h.maxHeight,minWidth:h.minWidth,minHeight:this._minHeight(),handles:g,start:function(m,o){c(this).addClass("ui-dialog-resizing");l._blockFrames();l._trigger("resizeStart",m,f(o))},resize:function(m,o){l._trigger("resize",m,f(o))},stop:function(m,o){h.height=c(this).height();h.width=c(this).width();c(this).removeClass("ui-dialog-resizing");l._unblockFrames();l._trigger("resizeStop",m,f(o))}}).css("position",e)},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!e){this.uiDialog.hide()}},_setOptions:function(g){var h=this,f=false,e={};c.each(g,function(k,l){h._setOption(k,l);if(k in a){f=true}if(k in b){e[k]=l}});if(f){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",e)}},_setOption:function(g,h){var f,k,e=this.uiDialog;if(g==="dialogClass"){e.removeClass(this.options.dialogClass).addClass(h)}if(g==="disabled"){return}this._super(g,h);if(g==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(g==="buttons"){this._createButtons()}if(g==="closeText"){this.uiDialogTitlebarClose.button({label:""+h})}if(g==="draggable"){f=e.is(":data(ui-draggable)");if(f&&!h){e.draggable("destroy")}if(!f&&h){this._makeDraggable()}}if(g==="position"){this._position()}if(g==="resizable"){k=e.is(":data(ui-resizable)");if(k&&!h){e.resizable("destroy")}if(k&&typeof h==="string"){e.resizable("option","handles",h)}if(!k&&h!==false){this._makeResizable()}}if(g==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var e,g,h,f=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(f.minWidth>f.width){f.width=f.minWidth}e=this.uiDialog.css({height:"auto",width:f.width}).outerHeight();g=Math.max(0,f.minHeight-e);h=typeof f.maxHeight==="number"?Math.max(0,f.maxHeight-e):"none";if(f.height==="auto"){this.element.css({minHeight:g,maxHeight:h,height:"auto"})}else{this.element.height(Math.max(0,f.height-e))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=c(this);return c("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(e){if(c(e.target).closest(".ui-dialog").length){return true}return !!c(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var f=this,e=this.widgetFullName;if(!c.ui.dialog.overlayInstances){this._delay(function(){if(c.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(g){if(!f._allowInteraction(g)){g.preventDefault();c(".ui-dialog:visible:last .ui-dialog-content").data(e)._focusTabbable()}})}})}this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});c.ui.dialog.overlayInstances++},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){c.ui.dialog.overlayInstances--;if(!c.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog")}this.overlay.remove();this.overlay=null}}});c.ui.dialog.overlayInstances=0;if(c.uiBackCompat!==false){c.widget("ui.dialog",c.ui.dialog,{_position:function(){var f=this.options.position,g=[],h=[0,0],e;if(f){if(typeof f==="string"||(typeof f==="object"&&"0" in f)){g=f.split?f.split(" "):[f[0],f[1]];if(g.length===1){g[1]=g[0]}c.each(["left","top"],function(l,k){if(+g[l]===g[l]){h[l]=g[l];g[l]=k}});f={my:g[0]+(h[0]<0?h[0]:"+"+h[0])+" "+g[1]+(h[1]<0?h[1]:"+"+h[1]),at:g.join(" ")}}f=c.extend({},c.ui.dialog.prototype.options.position,f)}else{f=c.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(f);if(!e){this.uiDialog.hide()}}})}}(jQuery));(function(b,d){var a=/up|down|vertical/,c=/up|left|vertical|horizontal/;b.effects.effect.blind=function(g,q){var h=b(this),t=["position","top","bottom","left","right","height","width"],r=b.effects.setMode(h,g.mode||"hide"),u=g.direction||"up",l=a.test(u),k=l?"height":"width",s=l?"top":"left",w=c.test(u),p={},v=r==="show",f,e,m;if(h.parent().is(".ui-effects-wrapper")){b.effects.save(h.parent(),t)}else{b.effects.save(h,t)}h.show();f=b.effects.createWrapper(h).css({overflow:"hidden"});e=f[k]();m=parseFloat(f.css(s))||0;p[k]=v?e:0;if(!w){h.css(l?"bottom":"right",0).css(l?"top":"left","auto").css({position:"absolute"});p[s]=v?m:e+m}if(v){f.css(k,0);if(!w){f.css(s,m+e)}}f.animate(p,{duration:g.duration,easing:g.easing,queue:false,complete:function(){if(r==="hide"){h.hide()}b.effects.restore(h,t);b.effects.removeWrapper(h);q()}})}})(jQuery);(function(a,b){a.effects.effect.bounce=function(p,m){var c=a(this),d=["position","top","bottom","left","right","height","width"],l=a.effects.setMode(c,p.mode||"effect"),k=l==="hide",x=l==="show",y=p.direction||"up",e=p.distance,h=p.times||5,z=h*2+(x||k?1:0),w=p.duration/z,r=p.easing,f=(y==="up"||y==="down")?"top":"left",q=(y==="up"||y==="left"),v,g,u,s=c.queue(),t=s.length;if(x||k){d.push("opacity")}a.effects.save(c,d);c.show();a.effects.createWrapper(c);if(!e){e=c[f==="top"?"outerHeight":"outerWidth"]()/3}if(x){u={opacity:1};u[f]=0;c.css("opacity",0).css(f,q?-e*2:e*2).animate(u,w,r)}if(k){e=e/Math.pow(2,h-1)}u={};u[f]=0;for(v=0;v<h;v++){g={};g[f]=(q?"-=":"+=")+e;c.animate(g,w,r).animate(u,w,r);e=k?e*2:e/2}if(k){g={opacity:0};g[f]=(q?"-=":"+=")+e;c.animate(g,w,r)}c.queue(function(){if(k){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);m()});if(t>1){s.splice.apply(s,[1,0].concat(s.splice(t,z+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.clip=function(f,k){var g=a(this),q=["position","top","bottom","left","right","height","width"],p=a.effects.setMode(g,f.mode||"hide"),s=p==="show",r=f.direction||"vertical",m=r==="vertical",t=m?"height":"width",l=m?"top":"left",h={},d,e,c;a.effects.save(g,q);g.show();d=a.effects.createWrapper(g).css({overflow:"hidden"});e=(g[0].tagName==="IMG")?d:g;c=e[t]();if(s){e.css(t,0);e.css(l,c/2)}h[t]=s?c:0;h[l]=s?0:c/2;e.animate(h,{queue:false,duration:f.duration,easing:f.easing,complete:function(){if(!s){g.hide()}a.effects.restore(g,q);a.effects.removeWrapper(g);k()}})}})(jQuery);(function(a,b){a.effects.effect.drop=function(d,h){var e=a(this),l=["position","top","bottom","left","right","opacity","height","width"],k=a.effects.setMode(e,d.mode||"hide"),p=k==="show",m=d.direction||"left",f=(m==="up"||m==="down")?"top":"left",q=(m==="up"||m==="left")?"pos":"neg",g={opacity:p?1:0},c;a.effects.save(e,l);e.show();a.effects.createWrapper(e);c=d.distance||e[f==="top"?"outerHeight":"outerWidth"](true)/2;if(p){e.css("opacity",0).css(f,q==="pos"?-c:c)}g[f]=(p?(q==="pos"?"+=":"-="):(q==="pos"?"-=":"+="))+c;e.animate(g,{queue:false,duration:d.duration,easing:d.easing,complete:function(){if(k==="hide"){e.hide()}a.effects.restore(e,l);a.effects.removeWrapper(e);h()}})}})(jQuery);(function(a,b){a.effects.effect.explode=function(t,s){var k=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=k,c=a(this),m=a.effects.setMode(c,t.mode||"hide"),x=m==="show",g=c.show().css("visibility","hidden").offset(),u=Math.ceil(c.outerWidth()/d),r=Math.ceil(c.outerHeight()/k),h=[],w,v,e,q,p,l;function y(){h.push(this);if(h.length===k*d){f()}}for(w=0;w<k;w++){q=g.top+w*r;l=w-(k-1)/2;for(v=0;v<d;v++){e=g.left+v*u;p=v-(d-1)/2;c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-v*u,top:-w*r}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:u,height:r,left:e+(x?p*u:0),top:q+(x?l*r:0),opacity:x?0:1}).animate({left:e+(x?0:p*u),top:q+(x?0:l*r),opacity:x?1:0},t.duration||500,t.easing,y)}}function f(){c.css({visibility:"visible"});a(h).remove();if(!x){c.hide()}s()}}})(jQuery);(function(a,b){a.effects.effect.fade=function(f,c){var d=a(this),e=a.effects.setMode(d,f.mode||"toggle");d.animate({opacity:e},{queue:false,duration:f.duration,easing:f.easing,complete:c})}})(jQuery);(function(a,b){a.effects.effect.fold=function(e,k){var f=a(this),r=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(f,e.mode||"hide"),u=m==="show",p=m==="hide",w=e.size||15,q=/([0-9]+)%/.exec(w),v=!!e.horizFirst,l=u!==v,g=l?["width","height"]:["height","width"],h=e.duration/2,d,c,t={},s={};a.effects.save(f,r);f.show();d=a.effects.createWrapper(f).css({overflow:"hidden"});c=l?[d.width(),d.height()]:[d.height(),d.width()];if(q){w=parseInt(q[1],10)/100*c[p?0:1]}if(u){d.css(v?{height:0,width:w}:{height:w,width:0})}t[g[0]]=u?c[0]:w;s[g[1]]=u?c[1]:0;d.animate(t,h,e.easing).animate(s,h,e.easing,function(){if(p){f.hide()}a.effects.restore(f,r);a.effects.removeWrapper(f);k()})}})(jQuery);(function(a,b){a.effects.effect.highlight=function(h,c){var e=a(this),d=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(e,h.mode||"show"),f={backgroundColor:e.css("backgroundColor")};if(g==="hide"){f.opacity=0}a.effects.save(e,d);e.show().css({backgroundImage:"none",backgroundColor:h.color||"#ffff99"}).animate(f,{queue:false,duration:h.duration,easing:h.easing,complete:function(){if(g==="hide"){e.hide()}a.effects.restore(e,d);c()}})}})(jQuery);(function(a,b){a.effects.effect.pulsate=function(c,g){var e=a(this),l=a.effects.setMode(e,c.mode||"show"),r=l==="show",m=l==="hide",s=(r||l==="hide"),p=((c.times||5)*2)+(s?1:0),f=c.duration/p,q=0,k=e.queue(),d=k.length,h;if(r||!e.is(":visible")){e.css("opacity",0).show();q=1}for(h=1;h<p;h++){e.animate({opacity:q},f,c.easing);q=1-q}e.animate({opacity:q},f,c.easing);e.queue(function(){if(m){e.hide()}g()});if(d>1){k.splice.apply(k,[1,0].concat(k.splice(d,p+1)))}e.dequeue()}})(jQuery);(function(a,b){a.effects.effect.puff=function(l,c){var h=a(this),k=a.effects.setMode(h,l.mode||"hide"),f=k==="hide",g=parseInt(l.percent,10)||150,e=g/100,d={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()};a.extend(l,{effect:"scale",queue:false,fade:true,mode:k,complete:c,percent:f?g:100,from:f?d:{height:d.height*e,width:d.width*e,outerHeight:d.outerHeight*e,outerWidth:d.outerWidth*e}});h.effect(l)};a.effects.effect.scale=function(c,f){var d=a(this),p=a.extend(true,{},c),g=a.effects.setMode(d,c.mode||"effect"),h=parseInt(c.percent,10)||(parseInt(c.percent,10)===0?0:(g==="hide"?0:100)),l=c.direction||"both",m=c.origin,e={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:l!=="horizontal"?(h/100):1,x:l!=="vertical"?(h/100):1};p.effect="size";p.queue=false;p.complete=f;if(g!=="effect"){p.origin=m||["middle","center"];p.restore=true}p.from=c.from||(g==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e);p.to={height:e.height*k.y,width:e.width*k.x,outerHeight:e.outerHeight*k.y,outerWidth:e.outerWidth*k.x};if(p.fade){if(g==="show"){p.from.opacity=0;p.to.opacity=1}if(g==="hide"){p.from.opacity=1;p.to.opacity=0}}d.effect(p)};a.effects.effect.size=function(p,m){var t,k,l,c=a(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],r=["position","top","bottom","left","right","overflow","opacity"],q=["width","height","overflow"],g=["fontSize"],v=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=a.effects.setMode(c,p.mode||"effect"),u=p.restore||h!=="effect",y=p.scale||"both",w=p.origin||["middle","center"],x=c.css("position"),e=u?s:r,f={height:0,width:0,outerHeight:0,outerWidth:0};if(h==="show"){c.show()}t={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};if(p.mode==="toggle"&&h==="show"){c.from=p.to||f;c.to=p.from||t}else{c.from=p.from||(h==="show"?f:t);c.to=p.to||(h==="hide"?f:t)}l={from:{y:c.from.height/t.height,x:c.from.width/t.width},to:{y:c.to.height/t.height,x:c.to.width/t.width}};if(y==="box"||y==="both"){if(l.from.y!==l.to.y){e=e.concat(v);c.from=a.effects.setTransition(c,v,l.from.y,c.from);c.to=a.effects.setTransition(c,v,l.to.y,c.to)}if(l.from.x!==l.to.x){e=e.concat(d);c.from=a.effects.setTransition(c,d,l.from.x,c.from);c.to=a.effects.setTransition(c,d,l.to.x,c.to)}}if(y==="content"||y==="both"){if(l.from.y!==l.to.y){e=e.concat(g).concat(q);c.from=a.effects.setTransition(c,g,l.from.y,c.from);c.to=a.effects.setTransition(c,g,l.to.y,c.to)}}a.effects.save(c,e);c.show();a.effects.createWrapper(c);c.css("overflow","hidden").css(c.from);if(w){k=a.effects.getBaseline(w,t);c.from.top=(t.outerHeight-c.outerHeight())*k.y;c.from.left=(t.outerWidth-c.outerWidth())*k.x;c.to.top=(t.outerHeight-c.to.outerHeight)*k.y;c.to.left=(t.outerWidth-c.to.outerWidth)*k.x}c.css(c.from);if(y==="content"||y==="both"){v=v.concat(["marginTop","marginBottom"]).concat(g);d=d.concat(["marginLeft","marginRight"]);q=s.concat(v).concat(d);c.find("*[width]").each(function(){var z=a(this),o={height:z.height(),width:z.width(),outerHeight:z.outerHeight(),outerWidth:z.outerWidth()};if(u){a.effects.save(z,q)}z.from={height:o.height*l.from.y,width:o.width*l.from.x,outerHeight:o.outerHeight*l.from.y,outerWidth:o.outerWidth*l.from.x};z.to={height:o.height*l.to.y,width:o.width*l.to.x,outerHeight:o.height*l.to.y,outerWidth:o.width*l.to.x};if(l.from.y!==l.to.y){z.from=a.effects.setTransition(z,v,l.from.y,z.from);z.to=a.effects.setTransition(z,v,l.to.y,z.to)}if(l.from.x!==l.to.x){z.from=a.effects.setTransition(z,d,l.from.x,z.from);z.to=a.effects.setTransition(z,d,l.to.x,z.to)}z.css(z.from);z.animate(z.to,p.duration,p.easing,function(){if(u){a.effects.restore(z,q)}})})}c.animate(c.to,{queue:false,duration:p.duration,easing:p.easing,complete:function(){if(c.to.opacity===0){c.css("opacity",c.from.opacity)}if(h==="hide"){c.hide()}a.effects.restore(c,e);if(!u){if(x==="static"){c.css({position:"relative",top:c.to.top,left:c.to.left})}else{a.each(["top","left"],function(o,z){c.css(z,function(B,D){var C=parseInt(D,10),A=o?c.to.left:c.to.top;if(D==="auto"){return A+"px"}return C+A+"px"})})}}a.effects.removeWrapper(c);m()}})}})(jQuery);(function(a,b){a.effects.effect.shake=function(m,l){var c=a(this),d=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(c,m.mode||"effect"),w=m.direction||"left",e=m.distance||20,h=m.times||3,x=h*2+1,s=Math.round(m.duration/x),g=(w==="up"||w==="down")?"top":"left",f=(w==="up"||w==="left"),v={},u={},t={},r,p=c.queue(),q=p.length;a.effects.save(c,d);c.show();a.effects.createWrapper(c);v[g]=(f?"-=":"+=")+e;u[g]=(f?"+=":"-=")+e*2;t[g]=(f?"-=":"+=")+e*2;c.animate(v,s,m.easing);for(r=1;r<h;r++){c.animate(u,s,m.easing).animate(t,s,m.easing)}c.animate(u,s,m.easing).animate(v,s/2,m.easing).queue(function(){if(k==="hide"){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);l()});if(q>1){p.splice.apply(p,[1,0].concat(p.splice(q,x+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.slide=function(e,k){var f=a(this),m=["position","top","bottom","left","right","width","height"],l=a.effects.setMode(f,e.mode||"show"),q=l==="show",p=e.direction||"left",g=(p==="up"||p==="down")?"top":"left",d=(p==="up"||p==="left"),c,h={};a.effects.save(f,m);f.show();c=e.distance||f[g==="top"?"outerHeight":"outerWidth"](true);a.effects.createWrapper(f).css({overflow:"hidden"});if(q){f.css(g,d?(isNaN(c)?"-"+c:-c):c)}h[g]=(q?(d?"+=":"-="):(d?"-=":"+="))+c;f.animate(h,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(l==="hide"){f.hide()}a.effects.restore(f,m);a.effects.removeWrapper(f);k()}})}})(jQuery);(function(a,b){a.effects.effect.transfer=function(d,h){var f=a(this),m=a(d.to),r=m.css("position")==="fixed",l=a("body"),p=r?l.scrollTop():0,q=r?l.scrollLeft():0,c=m.offset(),g={top:c.top-p,left:c.left-q,height:m.innerHeight(),width:m.innerWidth()},k=f.offset(),e=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(d.className).css({top:k.top-p,left:k.left-q,height:f.innerHeight(),width:f.innerWidth(),position:r?"fixed":"absolute"}).animate(g,d.duration,d.easing,function(){e.remove();h()})}})(jQuery);(function(a,b){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(c){if(this.options.disabled){c.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");if(!this.mouseHandled&&d.not(".ui-state-disabled").length){this.mouseHandled=true;this.select(c);if(d.has(".ui-menu").length){this.expand(c)}else{if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(c){var d=a(c.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,c){var d=this.active||this.element.children(".ui-menu-item").eq(0);if(!c){this.focus(e,d)}},blur:function(c){this._delay(function(){if(!a.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(c)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){if(!a(c.target).closest(".ui-menu").length){this.collapseAll(c)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);if(c.data("ui-menu-submenu-carat")){c.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(k){var d,h,l,g,f,c=true;function e(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(k.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(k);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(k);break;case a.ui.keyCode.HOME:this._move("first","first",k);break;case a.ui.keyCode.END:this._move("last","last",k);break;case a.ui.keyCode.UP:this.previous(k);break;case a.ui.keyCode.DOWN:this.next(k);break;case a.ui.keyCode.LEFT:this.collapse(k);break;case a.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(k)}break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(k);break;case a.ui.keyCode.ESCAPE:this.collapse(k);break;default:c=false;h=this.previousFilter||"";l=String.fromCharCode(k.keyCode);g=false;clearTimeout(this.filterTimer);if(l===h){g=true}else{l=h+l}f=new RegExp("^"+e(l),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())});d=g&&d.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):d;if(!d.length){l=String.fromCharCode(k.keyCode);f=new RegExp("^"+e(l),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())})}if(d.length){this.focus(k,d);if(d.length>1){this.previousFilter=l;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(c){k.preventDefault()}},_activate:function(c){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(c)}else{this.select(c)}}},refresh:function(){var e,d=this.options.icons.submenu,c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var h=a(this),g=h.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",true);g.attr("aria-haspopup","true").prepend(f);h.attr("aria-labelledby",g.attr("id"))});e=c.add(this.element);e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});e.children(":not(.ui-menu-item)").each(function(){var f=a(this);if(!/[^\-\u2014\u2013\s]/.test(f.text())){f.addClass("ui-widget-content ui-menu-divider")}});e.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!a.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,d){if(c==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu)}this._super(c,d)},focus:function(d,c){var f,e;this.blur(d,d&&d.type==="focus");this._scrollIntoView(c);this.active=c.first();e=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",e.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(d&&d.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}f=c.children(".ui-menu");if(f.length&&(/^mouse/.test(d.type))){this._startOpening(f)}this.activeMenu=c.parent();this._trigger("focus",d,{item:c})},_scrollIntoView:function(f){var k,e,g,c,d,h;if(this._hasScroll()){k=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0;e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0;g=f.offset().top-this.activeMenu.offset().top-k-e;c=this.activeMenu.scrollTop();d=this.activeMenu.height();h=f.height();if(g<0){this.activeMenu.scrollTop(c+g)}else{if(g+h>d){this.activeMenu.scrollTop(c+g-d+h)}}}},blur:function(d,c){if(!c){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",d,{item:this.active})},_startOpening:function(c){clearTimeout(this.timer);if(c.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(c)},this.delay)},_open:function(d){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:a(d&&d.target).closest(this.element.find(".ui-menu"));if(!e.length){e=this.element}this._close(e);this.blur(d);this.activeMenu=e},this.delay)},_close:function(c){if(!c){c=this.active?this.active.parent():this.element}c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(c&&c.length){this._close();this.focus(d,c)}},expand:function(d){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(c&&c.length){this._open(c.parent());this._delay(function(){this.focus(d,c)})}},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(f,d,e){var c;if(this.active){if(f==="first"||f==="last"){c=this.active[f==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{c=this.active[f+"All"](".ui-menu-item").eq(0)}}if(!c||!c.length||!this.active){c=this.activeMenu.children(".ui-menu-item")[d]()}this.focus(e,c)},nextPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isLastItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f-c<0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isFirstItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f+c>0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var d={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(c,true)}this._trigger("select",c,d)}})}(jQuery));(function(e,c){e.ui=e.ui||{};var l,m=Math.max,r=Math.abs,p=Math.round,d=/left|center|right/,h=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,o=/^\w+/,b=/%$/,g=e.fn.position;function q(u,t,s){return[parseFloat(u[0])*(b.test(u[0])?t/100:1),parseFloat(u[1])*(b.test(u[1])?s/100:1)]}function k(s,t){return parseInt(e.css(s,t),10)||0}function f(t){var s=t[0];if(s.nodeType===9){return{width:t.width(),height:t.height(),offset:{top:0,left:0}}}if(e.isWindow(s)){return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}if(s.preventDefault){return{width:0,height:0,offset:{top:s.pageY,left:s.pageX}}}return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(l!==c){return l}var t,s,v=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),u=v.children()[0];e("body").append(v);t=u.offsetWidth;v.css("overflow","scroll");s=u.offsetWidth;if(t===s){s=v[0].clientWidth}v.remove();return(l=t-s)},getScrollInfo:function(w){var v=w.isWindow?"":w.element.css("overflow-x"),u=w.isWindow?"":w.element.css("overflow-y"),t=v==="scroll"||(v==="auto"&&w.width<w.element[0].scrollWidth),s=u==="scroll"||(u==="auto"&&w.height<w.element[0].scrollHeight);return{width:s?e.position.scrollbarWidth():0,height:t?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var u=e(t||window),s=e.isWindow(u[0]);return{element:u,isWindow:s,offset:u.offset()||{left:0,top:0},scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop(),width:s?u.width():u.outerWidth(),height:s?u.height():u.outerHeight()}}};e.fn.position=function(C){if(!C||!C.of){return g.apply(this,arguments)}C=e.extend({},C);var D,z,x,B,w,s,y=e(C.of),v=e.position.getWithinInfo(C.within),t=e.position.getScrollInfo(v),A=(C.collision||"flip").split(" "),u={};s=f(y);if(y[0].preventDefault){C.at="left top"}z=s.width;x=s.height;B=s.offset;w=e.extend({},B);e.each(["my","at"],function(){var G=(C[this]||"").split(" "),F,E;if(G.length===1){G=d.test(G[0])?G.concat(["center"]):h.test(G[0])?["center"].concat(G):["center","center"]}G[0]=d.test(G[0])?G[0]:"center";G[1]=h.test(G[1])?G[1]:"center";F=a.exec(G[0]);E=a.exec(G[1]);u[this]=[F?F[0]:0,E?E[0]:0];C[this]=[o.exec(G[0])[0],o.exec(G[1])[0]]});if(A.length===1){A[1]=A[0]}if(C.at[0]==="right"){w.left+=z}else{if(C.at[0]==="center"){w.left+=z/2}}if(C.at[1]==="bottom"){w.top+=x}else{if(C.at[1]==="center"){w.top+=x/2}}D=q(u.at,z,x);w.left+=D[0];w.top+=D[1];return this.each(function(){var F,O,H=e(this),J=H.outerWidth(),G=H.outerHeight(),I=k(this,"marginLeft"),E=k(this,"marginTop"),N=J+I+k(this,"marginRight")+t.width,M=G+E+k(this,"marginBottom")+t.height,K=e.extend({},w),L=q(u.my,H.outerWidth(),H.outerHeight());if(C.my[0]==="right"){K.left-=J}else{if(C.my[0]==="center"){K.left-=J/2}}if(C.my[1]==="bottom"){K.top-=G}else{if(C.my[1]==="center"){K.top-=G/2}}K.left+=L[0];K.top+=L[1];if(!e.support.offsetFractions){K.left=p(K.left);K.top=p(K.top)}F={marginLeft:I,marginTop:E};e.each(["left","top"],function(Q,P){if(e.ui.position[A[Q]]){e.ui.position[A[Q]][P](K,{targetWidth:z,targetHeight:x,elemWidth:J,elemHeight:G,collisionPosition:F,collisionWidth:N,collisionHeight:M,offset:[D[0]+L[0],D[1]+L[1]],my:C.my,at:C.at,within:v,elem:H})}});if(C.using){O=function(S){var U=B.left-K.left,R=U+z-J,T=B.top-K.top,Q=T+x-G,P={target:{element:y,left:B.left,top:B.top,width:z,height:x},element:{element:H,left:K.left,top:K.top,width:J,height:G},horizontal:R<0?"left":U>0?"right":"center",vertical:Q<0?"top":T>0?"bottom":"middle"};if(z<J&&r(U+R)<z){P.horizontal="center"}if(x<G&&r(T+Q)<x){P.vertical="middle"}if(m(r(U),r(R))>m(r(T),r(Q))){P.important="horizontal"}else{P.important="vertical"}C.using.call(this,S,P)}}H.offset(e.extend(K,{using:O}))})};e.ui.position={fit:{left:function(w,v){var u=v.within,y=u.isWindow?u.scrollLeft:u.offset.left,A=u.width,x=w.left-v.collisionPosition.marginLeft,z=y-x,t=x+v.collisionWidth-A-y,s;if(v.collisionWidth>A){if(z>0&&t<=0){s=w.left+z+v.collisionWidth-A-y;w.left+=z-s}else{if(t>0&&z<=0){w.left=y}else{if(z>t){w.left=y+A-v.collisionWidth}else{w.left=y}}}}else{if(z>0){w.left+=z}else{if(t>0){w.left-=t}else{w.left=m(w.left-x,w.left)}}}},top:function(v,u){var t=u.within,z=t.isWindow?t.scrollTop:t.offset.top,A=u.within.height,x=v.top-u.collisionPosition.marginTop,y=z-x,w=x+u.collisionHeight-A-z,s;if(u.collisionHeight>A){if(y>0&&w<=0){s=v.top+y+u.collisionHeight-A-z;v.top+=y-s}else{if(w>0&&y<=0){v.top=z}else{if(y>w){v.top=z+A-u.collisionHeight}else{v.top=z}}}}else{if(y>0){v.top+=y}else{if(w>0){v.top-=w}else{v.top=m(v.top-x,v.top)}}}}},flip:{left:function(y,x){var w=x.within,C=w.offset.left+w.scrollLeft,F=w.width,u=w.isWindow?w.scrollLeft:w.offset.left,z=y.left-x.collisionPosition.marginLeft,D=z-u,t=z+x.collisionWidth-F-u,B=x.my[0]==="left"?-x.elemWidth:x.my[0]==="right"?x.elemWidth:0,E=x.at[0]==="left"?x.targetWidth:x.at[0]==="right"?-x.targetWidth:0,v=-2*x.offset[0],s,A;if(D<0){s=y.left+B+E+v+x.collisionWidth-F-C;if(s<0||s<r(D)){y.left+=B+E+v}}else{if(t>0){A=y.left-x.collisionPosition.marginLeft+B+E+v-u;if(A>0||r(A)<t){y.left+=B+E+v}}}},top:function(x,w){var v=w.within,E=v.offset.top+v.scrollTop,F=v.height,s=v.isWindow?v.scrollTop:v.offset.top,z=x.top-w.collisionPosition.marginTop,B=z-s,y=z+w.collisionHeight-F-s,C=w.my[1]==="top",A=C?-w.elemHeight:w.my[1]==="bottom"?w.elemHeight:0,G=w.at[1]==="top"?w.targetHeight:w.at[1]==="bottom"?-w.targetHeight:0,u=-2*w.offset[1],D,t;if(B<0){t=x.top+A+G+u+w.collisionHeight-F-E;if((x.top+A+G+u)>B&&(t<0||t<r(B))){x.top+=A+G+u}}else{if(y>0){D=x.top-w.collisionPosition.marginTop+A+G+u-s;if((x.top+A+G+u)>y&&(D>0||r(D)<y)){x.top+=A+G+u}}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var w,y,t,v,u,s=document.getElementsByTagName("body")[0],x=document.createElement("div");w=document.createElement(s?"div":"body");t={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(s){e.extend(t,{position:"absolute",left:"-1000px",top:"-1000px"})}for(u in t){w.style[u]=t[u]}w.appendChild(x);y=s||document.documentElement;y.insertBefore(w,y.firstChild);x.style.cssText="position: absolute; left: 10.7432222px;";v=e(x).offset().left;e.support.offsetFractions=v>10&&v<11;w.innerHTML="";y.removeChild(w)})()}(jQuery));(function(a,b){a.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(c){if(c===b){return this.options.value}this.options.value=this._constrainedValue(c);this._refreshValue()},_constrainedValue:function(c){if(c===b){c=this.options.value}this.indeterminate=c===false;if(typeof c!=="number"){c=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value;this._super(c);this.options.value=this._constrainedValue(d);this._refreshValue()},_setOption:function(c,d){if(c==="max"){d=Math.max(this.min,d)}this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var d=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==d){this.oldValue=d;this._trigger("change")}if(d===this.options.max){this._trigger("complete")}}})})(jQuery);(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var g,d,e=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",f=[];d=(e.values&&e.values.length)||1;if(k.length>d){k.slice(d).remove();k=k.slice(0,d)}for(g=k.length;g<d;g++){f.push(h)}this.handles=k.add(b(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(l){b(this).data("ui-slider-handle-index",l)})},_createRange:function(){var d=this.options,e="";if(d.range){if(d.range===true){if(!d.values){d.values=[this._valueMin(),this._valueMin()]}else{if(d.values.length&&d.values.length!==2){d.values=[d.values[0],d.values[0]]}else{if(b.isArray(d.values)){d.values=d.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=b("<div></div>").appendTo(this.element);e="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(e+((d.range==="min"||d.range==="max")?" ui-slider-range-"+d.range:""))}else{this.range=b([])}},_setupEvents:function(){var d=this.handles.add(this.range).filter("a");this._off(d);this._on(d,this._handleEvents);this._hoverable(d);this._focusable(d)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var l,q,e,h,p,r,k,d,m=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();l={x:f.pageX,y:f.pageY};q=this._normValueFromMouse(l);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var s=Math.abs(q-m.values(o));if((e>s)||(e===s&&(o===m._lastChangedValue||m.values(o)===g.min))){e=s;h=b(this);p=o}});r=this._start(f,p);if(r===false){return false}this._mouseSliding=true;this._handleIndex=p;h.addClass("ui-state-active").focus();k=h.offset();d=!b(f.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-k.left-(h.width()/2),top:f.pageY-k.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,p,q)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,k;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();k=this._valueMin()+g*f;return this._trimAlignValue(k)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,k;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;k=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(k!==false){this.values(g,f,true)}}}else{if(f!==this.value()){k=this._trigger("slide",h,{handle:this.handles[g],value:f});if(k!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._lastChangedValue=e;this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(e==="range"&&this.options.range===true){if(f==="min"){this.options.value=this._values(0);this.options.values=null}else{if(f==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{if(this.options.values&&this.options.values.length){f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}else{return[]}}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var k,h,p,l,q,g=this.options.range,f=this.options,m=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(o){h=(m.values(o)-m._valueMin())/(m._valueMax()-m._valueMin())*100;d[m.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(m.options.range===true){if(m.orientation==="horizontal"){if(o===0){m.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(o===1){m.range[e?"animate":"css"]({width:(h-k)+"%"},{queue:false,duration:f.animate})}}else{if(o===0){m.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(o===1){m.range[e?"animate":"css"]({height:(h-k)+"%"},{queue:false,duration:f.animate})}}}k=h})}else{p=this.value();l=this._valueMin();q=this._valueMax();h=(q!==l)?(p-l)/(q-l)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}},_handleEvents:{keydown:function(h){var k,f,e,g,d=b(h.target).data("ui-slider-handle-index");switch(h.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:h.preventDefault();if(!this._keySliding){this._keySliding=true;b(h.target).addClass("ui-state-active");k=this._start(h,d);if(k===false){return}}break}g=this.options.step;if(this.options.values&&this.options.values.length){f=e=this.values(d)}else{f=e=this.value()}switch(h.keyCode){case b.ui.keyCode.HOME:e=this._valueMin();break;case b.ui.keyCode.END:e=this._valueMax();break;case b.ui.keyCode.PAGE_UP:e=this._trimAlignValue(f+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(f-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(f===this._valueMax()){return}e=this._trimAlignValue(f+g);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(f===this._valueMin()){return}e=this._trimAlignValue(f-g);break}this._slide(h,d,e)},click:function(d){d.preventDefault()},keyup:function(e){var d=b(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,d);this._change(e,d);b(e.target).removeClass("ui-state-active")}}}})}(jQuery));(function(b){function a(c){return function(){var d=this.element.val();c.apply(this,arguments);this._refresh();if(d!==this.element.val()){this._trigger("change")}}}b.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},d=this.element;b.each(["min","max","step"],function(e,f){var g=d.attr(f);if(g!==undefined&&g.length){c[f]=g}});return c},_events:{keydown:function(c){if(this._start(c)&&this._keydown(c)){c.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",c)}},mousewheel:function(c,d){if(!d){return}if(!this.spinning&&!this._start(c)){return false}this._spin((d>0?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(c)}},100);c.preventDefault()},"mousedown .ui-spinner-button":function(d){var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function e(){var f=this.element[0]===this.document[0].activeElement;if(!f){this.element.focus();this.previous=c;this._delay(function(){this.previous=c})}}d.preventDefault();e.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;e.call(this)});if(this._start(d)===false){return}this._repeat(null,b(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(!b(c.currentTarget).hasClass("ui-state-active")){return}if(this._start(c)===false){return false}this._repeat(null,b(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(c.height()*0.5)&&c.height()>0){c.height(c.height())}if(this.options.disabled){this.disable()}},_keydown:function(d){var c=this.options,e=b.ui.keyCode;switch(d.keyCode){case e.UP:this._repeat(null,1,d);return true;case e.DOWN:this._repeat(null,-1,d);return true;case e.PAGE_UP:this._repeat(null,c.page,d);return true;case e.PAGE_DOWN:this._repeat(null,-c.page,d);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&this._trigger("start",c)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(d,c,e){d=d||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,c,e)},d);this._spin(c*this.options.step,e)},_spin:function(d,c){var e=this.value()||0;if(!this.counter){this.counter=1}e=this._adjustValue(e+d*this._increment(this.counter));if(!this.spinning||this._trigger("spin",c,{value:e})!==false){this._value(e);this.counter++}},_increment:function(c){var d=this.options.incremental;if(d){return b.isFunction(d)?d(c):Math.floor(c*c*c/50000-c*c/500+17*c/200+1)}return 1},_precision:function(){var c=this._precisionOf(this.options.step);if(this.options.min!==null){c=Math.max(c,this._precisionOf(this.options.min))}return c},_precisionOf:function(d){var e=d.toString(),c=e.indexOf(".");return c===-1?0:e.length-c-1},_adjustValue:function(e){var d,f,c=this.options;d=c.min!==null?c.min:0;f=e-d;f=Math.round(f/c.step)*c.step;e=d+f;e=parseFloat(e.toFixed(this._precision()));if(c.max!==null&&e>c.max){return c.max}if(c.min!==null&&e<c.min){return c.min}return e},_stop:function(c){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",c)},_setOption:function(c,d){if(c==="culture"||c==="numberFormat"){var e=this._parse(this.element.val());this.options[c]=d;this.element.val(this._format(e));return}if(c==="max"||c==="min"||c==="step"){if(typeof d==="string"){d=this._parse(d)}}if(c==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(d.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(d.down)}this._super(c,d);if(c==="disabled"){if(d){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:a(function(c){this._super(c);this._value(this.element.val())}),_parse:function(c){if(typeof c==="string"&&c!==""){c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c}return c===""||isNaN(c)?null:c},_format:function(c){if(c===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,c){var d;if(e!==""){d=this._parse(e);if(d!==null){if(!c){d=this._adjustValue(d)}e=this._format(d)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:a(function(c){this._stepUp(c)}),_stepUp:function(c){if(this._start()){this._spin((c||1)*this.options.step);this._stop()}},stepDown:a(function(c){this._stepDown(c)}),_stepDown:function(c){if(this._start()){this._spin((c||1)*-this.options.step);this._stop()}},pageUp:a(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:a(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length){return this._parse(this.element.val())}a(this._value).call(this,c)},widget:function(){return this.uiSpinner}})}(jQuery));(function(c,e){var a=0,f=/#.*$/;function d(){return ++a}function b(g){return g.hash.length>1&&decodeURIComponent(g.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}c.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var h=this,g=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",g.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(k){if(c(this).is(".ui-state-disabled")){k.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(c(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();g.active=this._initialActive();if(c.isArray(g.disabled)){g.disabled=c.unique(g.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(k){return h.tabs.index(k)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(g.active)}else{this.active=c()}this._refresh();if(this.active.length){this.load(g.active)}},_initialActive:function(){var h=this.options.active,g=this.options.collapsible,k=location.hash.substring(1);if(h===null){if(k){this.tabs.each(function(l,m){if(c(m).attr("aria-controls")===k){h=l;return false}})}if(h===null){h=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(h===null||h===-1){h=this.tabs.length?0:false}}if(h!==false){h=this.tabs.index(this.tabs.eq(h));if(h===-1){h=g?false:0}}if(!g&&h===false&&this.anchors.length){h=0}return h},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?c():this._getPanelForTab(this.active)}},_tabKeydown:function(k){var h=c(this.document[0].activeElement).closest("li"),g=this.tabs.index(h),l=true;if(this._handlePageNav(k)){return}switch(k.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:g++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:l=false;g--;break;case c.ui.keyCode.END:g=this.anchors.length-1;break;case c.ui.keyCode.HOME:g=0;break;case c.ui.keyCode.SPACE:k.preventDefault();clearTimeout(this.activating);this._activate(g);return;case c.ui.keyCode.ENTER:k.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?false:g);return;default:return}k.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,l);if(!k.ctrlKey){h.attr("aria-selected","false");this.tabs.eq(g).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",g)},this.delay)}},_panelKeydown:function(g){if(this._handlePageNav(g)){return}if(g.ctrlKey&&g.keyCode===c.ui.keyCode.UP){g.preventDefault();this.active.focus()}},_handlePageNav:function(g){if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(h,k){var g=this.tabs.length-1;function l(){if(h>g){h=0}if(h<0){h=g}return h}while(c.inArray(l(),this.options.disabled)!==-1){h=k?h+1:h-1}return h},_focusNextTab:function(g,h){g=this._findNextTab(g,h);this.tabs.eq(g).focus();return g},_setOption:function(g,h){if(g==="active"){this._activate(h);return}if(g==="disabled"){this._setupDisabled(h);return}this._super(g,h);if(g==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",h);if(!h&&this.options.active===false){this._activate(0)}}if(g==="event"){this._setupEvents(h)}if(g==="heightStyle"){this._setupHeightStyle(h)}},_tabId:function(g){return g.attr("aria-controls")||"ui-tabs-"+d()},_sanitizeSelector:function(g){return g?g.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var h=this.options,g=this.tablist.children(":has(a[href])");h.disabled=c.map(g.filter(".ui-state-disabled"),function(k){return g.index(k)});this._processTabs();if(h.active===false||!this.anchors.length){h.active=false;this.active=c()}else{if(this.active.length&&!c.contains(this.tablist[0],this.active[0])){if(this.tabs.length===h.disabled.length){h.active=false;this.active=c()}else{this._activate(this._findNextTab(Math.max(0,h.active-1),false))}}else{h.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var g=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(p,m){var h,k,o,l=c(m).uniqueId().attr("id"),q=c(m).closest("li"),r=q.attr("aria-controls");if(b(m)){h=m.hash;k=g.element.find(g._sanitizeSelector(h))}else{o=g._tabId(q);h="#"+o;k=g.element.find(h);if(!k.length){k=g._createPanel(o);k.insertAfter(g.panels[p-1]||g.tablist)}k.attr("aria-live","polite")}if(k.length){g.panels=g.panels.add(k)}if(r){q.data("ui-tabs-aria-controls",r)}q.attr({"aria-controls":h.substring(1),"aria-labelledby":l});k.attr("aria-labelledby",l)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(g){return c("<div>").attr("id",g).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(k){if(c.isArray(k)){if(!k.length){k=false}else{if(k.length===this.anchors.length){k=true}}}for(var h=0,g;(g=this.tabs[h]);h++){if(k===true||c.inArray(h,k)!==-1){c(g).addClass("ui-state-disabled").attr("aria-disabled","true")}else{c(g).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=k},_setupEvents:function(h){var g={click:function(k){k.preventDefault()}};if(h){c.each(h.split(" "),function(l,k){g[k]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,g);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(g){var k,h=this.element.parent();if(g==="fill"){k=h.height();k-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var m=c(this),l=m.css("position");if(l==="absolute"||l==="fixed"){return}k-=m.outerHeight(true)});this.element.children().not(this.panels).each(function(){k-=c(this).outerHeight(true)});this.panels.each(function(){c(this).height(Math.max(0,k-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")}else{if(g==="auto"){k=0;this.panels.each(function(){k=Math.max(k,c(this).height("").height())}).height(k)}}},_eventHandler:function(g){var s=this.options,m=this.active,o=c(g.currentTarget),l=o.closest("li"),q=l[0]===m[0],h=q&&s.collapsible,k=h?c():this._getPanelForTab(l),p=!m.length?c():this._getPanelForTab(m),r={oldTab:m,oldPanel:p,newTab:h?c():l,newPanel:k};g.preventDefault();if(l.hasClass("ui-state-disabled")||l.hasClass("ui-tabs-loading")||this.running||(q&&!s.collapsible)||(this._trigger("beforeActivate",g,r)===false)){return}s.active=h?false:this.tabs.index(l);this.active=q?c():l;if(this.xhr){this.xhr.abort()}if(!p.length&&!k.length){c.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(k.length){this.load(this.tabs.index(l),g)}this._toggle(g,r)},_toggle:function(p,o){var m=this,g=o.newPanel,l=o.oldPanel;this.running=true;function k(){m.running=false;m._trigger("activate",p,o)}function h(){o.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(g.length&&m.options.show){m._show(g,m.options.show,k)}else{g.show();k()}}if(l.length&&this.options.hide){this._hide(l,this.options.hide,function(){o.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()})}else{o.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");l.hide();h()}l.attr({"aria-expanded":"false","aria-hidden":"true"});o.oldTab.attr("aria-selected","false");if(g.length&&l.length){o.oldTab.attr("tabIndex",-1)}else{if(g.length){this.tabs.filter(function(){return c(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}g.attr({"aria-expanded":"true","aria-hidden":"false"});o.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(h){var g,k=this._findActive(h);if(k[0]===this.active[0]){return}if(!k.length){k=this.active}g=k.find(".ui-tabs-anchor")[0];this._eventHandler({target:g,currentTarget:g,preventDefault:c.noop})},_findActive:function(g){return g===false?c():this.tabs.eq(g)},_getIndex:function(g){if(typeof g==="string"){g=this.anchors.index(this.anchors.filter("[href$='"+g+"']"))}return g},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(c.data(this,"ui-tabs-destroy")){c(this).remove()}else{c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var g=c(this),h=g.data("ui-tabs-aria-controls");if(h){g.attr("aria-controls",h).removeData("ui-tabs-aria-controls")}else{g.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(g){var h=this.options.disabled;if(h===false){return}if(g===e){h=false}else{g=this._getIndex(g);if(c.isArray(h)){h=c.map(h,function(k){return k!==g?k:null})}else{h=c.map(this.tabs,function(k,l){return l!==g?l:null})}}this._setupDisabled(h)},disable:function(g){var h=this.options.disabled;if(h===true){return}if(g===e){h=true}else{g=this._getIndex(g);if(c.inArray(g,h)!==-1){return}if(c.isArray(h)){h=c.merge([g],h).sort()}else{h=[g]}}this._setupDisabled(h)},load:function(k,p){k=this._getIndex(k);var o=this,l=this.tabs.eq(k),h=l.find(".ui-tabs-anchor"),g=this._getPanelForTab(l),m={tab:l,panel:g};if(b(h[0])){return}this.xhr=c.ajax(this._ajaxSettings(h,p,m));if(this.xhr&&this.xhr.statusText!=="canceled"){l.addClass("ui-tabs-loading");g.attr("aria-busy","true");this.xhr.success(function(q){setTimeout(function(){g.html(q);o._trigger("load",p,m)},1)}).complete(function(r,q){setTimeout(function(){if(q==="abort"){o.panels.stop(false,true)}l.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");if(r===o.xhr){delete o.xhr}},1)})}},_ajaxSettings:function(g,l,k){var h=this;return{url:g.attr("href"),beforeSend:function(o,m){return h._trigger("beforeLoad",l,c.extend({jqXHR:o,ajaxSettings:m},k))}}},_getPanelForTab:function(g){var h=c(g).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}})})(jQuery);(function(d){var b=0;function c(f,g){var e=(f.attr("aria-describedby")||"").split(/\s+/);e.push(g);f.data("ui-tooltip-id",g).attr("aria-describedby",d.trim(e.join(" ")))}function a(g){var h=g.data("ui-tooltip-id"),f=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(h,f);if(e!==-1){f.splice(e,1)}g.removeData("ui-tooltip-id");f=d.trim(f.join(" "));if(f){g.attr("aria-describedby",f)}else{g.removeAttr("aria-describedby")}}d.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=d(this).attr("title")||"";return d("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}},_setOption:function(e,g){var f=this;if(e==="disabled"){this[g?"_disable":"_enable"]();this.options[e]=g;return}this._super(e,g);if(e==="content"){d.each(this.tooltips,function(k,h){f._updateContent(h)})}},_disable:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true)});this.element.find(this.options.items).addBack().each(function(){var f=d(this);if(f.is("[title]")){f.data("ui-tooltip-title",f.attr("title")).attr("title","")}})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=d(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}})},open:function(f){var e=this,g=d(f?f.target:this.element).closest(this.options.items);if(!g.length||g.data("ui-tooltip-id")){return}if(g.attr("title")){g.data("ui-tooltip-title",g.attr("title"))}g.data("ui-tooltip-open",true);if(f&&f.type==="mouseover"){g.parents().each(function(){var k=d(this),h;if(k.data("ui-tooltip-open")){h=d.Event("blur");h.target=h.currentTarget=this;e.close(h,true)}if(k.attr("title")){k.uniqueId();e.parents[this.id]={element:this,title:k.attr("title")};k.attr("title","")}})}this._updateContent(g,f)},_updateContent:function(l,k){var h,e=this.options.content,g=this,f=k?k.type:null;if(typeof e==="string"){return this._open(k,l,e)}h=e.call(l[0],function(m){if(!l.data("ui-tooltip-open")){return}g._delay(function(){if(k){k.type=f}this._open(k,l,m)})});if(h){this._open(k,l,h)}},_open:function(k,m,h){var l,g,f,o=d.extend({},this.options.position);if(!h){return}l=this._find(m);if(l.length){l.find(".ui-tooltip-content").html(h);return}if(m.is("[title]")){if(k&&k.type==="mouseover"){m.attr("title","")}else{m.removeAttr("title")}}l=this._tooltip(m);c(m,l.attr("id"));l.find(".ui-tooltip-content").html(h);function e(p){o.of=p;if(l.is(":hidden")){return}l.position(o)}if(this.options.track&&k&&/^mouse/.test(k.type)){this._on(this.document,{mousemove:e});e(k)}else{l.position(d.extend({of:m},this.options.position))}l.hide();this._show(l,this.options.show);if(this.options.show&&this.options.show.delay){f=this.delayedShow=setInterval(function(){if(l.is(":visible")){e(o.of);clearInterval(f)}},d.fx.interval)}this._trigger("open",k,{tooltip:l});g={keyup:function(p){if(p.keyCode===d.ui.keyCode.ESCAPE){var q=d.Event(p);q.currentTarget=m[0];this.close(q,true)}},remove:function(){this._removeTooltip(l)}};if(!k||k.type==="mouseover"){g.mouseleave="close"}if(!k||k.type==="focusin"){g.focusout="close"}this._on(true,m,g)},close:function(f){var e=this,h=d(f?f.currentTarget:this.element),g=this._find(h);if(this.closing){return}clearInterval(this.delayedShow);if(h.data("ui-tooltip-title")){h.attr("title",h.data("ui-tooltip-title"))}a(h);g.stop(true);this._hide(g,this.options.hide,function(){e._removeTooltip(d(this))});h.removeData("ui-tooltip-open");this._off(h,"mouseleave focusout keyup");if(h[0]!==this.element[0]){this._off(h,"remove")}this._off(this.document,"mousemove");if(f&&f.type==="mouseleave"){d.each(this.parents,function(l,k){d(k.element).attr("title",k.title);delete e.parents[l]})}this.closing=true;this._trigger("close",f,{tooltip:g});this.closing=false},_tooltip:function(e){var g="ui-tooltip-"+b++,f=d("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));d("<div>").addClass("ui-tooltip-content").appendTo(f);f.appendTo(this.document[0].body);this.tooltips[g]=e;return f},_find:function(e){var f=e.data("ui-tooltip-id");return f?d("#"+f):d()},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_destroy:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true);d("#"+h).remove();if(f.data("ui-tooltip-title")){f.attr("title",f.data("ui-tooltip-title"));f.removeData("ui-tooltip-title")}})}})}(jQuery));(function(b){b.color={};b.color.make=function(f,e,c,d){var h={};h.r=f||0;h.g=e||0;h.b=c||0;h.a=d!=null?d:1;h.add=function(l,k){for(var g=0;g<l.length;++g){h[l.charAt(g)]+=k}return h.normalize()};h.scale=function(l,k){for(var g=0;g<l.length;++g){h[l.charAt(g)]*=k}return h.normalize()};h.toString=function(){if(h.a>=1){return"rgb("+[h.r,h.g,h.b].join(",")+")"}else{return"rgba("+[h.r,h.g,h.b,h.a].join(",")+")"}};h.normalize=function(){function g(l,m,k){return m<l?l:m>k?k:m}h.r=g(0,parseInt(h.r),255);h.g=g(0,parseInt(h.g),255);h.b=g(0,parseInt(h.b),255);h.a=g(0,h.a,1);return h};h.clone=function(){return b.color.make(h.r,h.b,h.g,h.a)};return h.normalize()};b.color.extract=function(e,d){var f;do{f=e.css(d).toLowerCase();if(f!=""&&f!="transparent"){break}e=e.parent()}while(e.length&&!b.nodeName(e.get(0),"body"));if(f=="rgba(0, 0, 0, 0)"){f="transparent"}return b.color.parse(f)};b.color.parse=function(f){var e,c=b.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10))}if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]))}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55)}if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55,parseFloat(e[4]))}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return c(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16))}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return c(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16))}var d=b.trim(f).toLowerCase();if(d=="transparent"){return c(255,255,255,0)}else{e=a[d]||[0,0,0];return c(e[0],e[1],e[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(e){var d=Object.prototype.hasOwnProperty;if(!e.fn.detach){e.fn.detach=function(){return this.each(function(){if(this.parentNode){this.parentNode.removeChild(this)}})}}function a(h,g){var l=g.children("."+h)[0];if(l==null){l=document.createElement("canvas");l.className=h;e(l).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(g);if(!l.getContext){if(window.G_vmlCanvasManager){l=window.G_vmlCanvasManager.initElement(l)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=l;var k=this.context=l.getContext("2d");var f=window.devicePixelRatio||1,m=k.webkitBackingStorePixelRatio||k.mozBackingStorePixelRatio||k.msBackingStorePixelRatio||k.oBackingStorePixelRatio||k.backingStorePixelRatio||1;this.pixelRatio=f/m;this.resize(g.width(),g.height());this.textContainer=null;this.text={};this._textCache={}}a.prototype.resize=function(k,f){if(k<=0||f<=0){throw new Error("Invalid dimensions for plot, width = "+k+", height = "+f)}var h=this.element,g=this.context,l=this.pixelRatio;if(this.width!=k){h.width=k*l;h.style.width=k+"px";this.width=k}if(this.height!=f){h.height=f*l;h.style.height=f+"px";this.height=f}g.restore();g.save();g.scale(l,l)};a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};a.prototype.render=function(){var f=this._textCache;for(var q in f){if(d.call(f,q)){var p=this.getTextLayer(q),g=f[q];p.hide();for(var o in g){if(d.call(g,o)){var h=g[o];for(var r in h){if(d.call(h,r)){var l=h[r].positions;for(var k=0,m;m=l[k];k++){if(m.active){if(!m.rendered){p.append(m.element);m.rendered=true}}else{l.splice(k--,1);if(m.rendered){m.element.detach()}}}if(l.length==0){delete h[r]}}}}}p.show()}}};a.prototype.getTextLayer=function(g){var f=this.text[g];if(f==null){if(this.textContainer==null){this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}f=this.text[g]=e("<div></div>").addClass(g).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return f};a.prototype.getTextInfo=function(p,r,l,m,g){var q,f,k,h;r=""+r;if(typeof l==="object"){q=l.style+" "+l.variant+" "+l.weight+" "+l.size+"px/"+l.lineHeight+"px "+l.family}else{q=l}f=this._textCache[p];if(f==null){f=this._textCache[p]={}}k=f[q];if(k==null){k=f[q]={}}h=k[r];if(h==null){var o=e("<div></div>").html(r).css({position:"absolute","max-width":g,top:-9999}).appendTo(this.getTextLayer(p));if(typeof l==="object"){o.css({font:q,color:l.color})}else{if(typeof l==="string"){o.addClass(l)}}h=k[r]={width:o.outerWidth(true),height:o.outerHeight(true),element:o,positions:[]};o.detach()}return h};a.prototype.addText=function(q,t,r,u,h,k,f,p,s){var g=this.getTextInfo(q,u,h,k,f),m=g.positions;if(p=="center"){t-=g.width/2}else{if(p=="right"){t-=g.width}}if(s=="middle"){r-=g.height/2}else{if(s=="bottom"){r-=g.height}}for(var l=0,o;o=m[l];l++){if(o.x==t&&o.y==r){o.active=true;return}}o={active:true,rendered:false,element:m.length?g.element.clone():g.element,x:t,y:r};m.push(o);o.element.css({top:Math.round(r),left:Math.round(t),"text-align":p})};a.prototype.removeText=function(q,s,r,u,h,k){if(u==null){var f=this._textCache[q];if(f!=null){for(var p in f){if(d.call(f,p)){var g=f[p];for(var t in g){if(d.call(g,t)){var m=g[t].positions;for(var l=0,o;o=m[l];l++){o.active=false}}}}}}}else{var m=this.getTextInfo(q,u,h,k).positions;for(var l=0,o;o=m[l];l++){if(o.x==s&&o.y==r){o.active=false}}}};function c(T,D,F,g){var w=[],O={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},af=null,ao=null,ap=null,G=null,az=null,ar=[],Z=[],M={left:0,right:0,top:0,bottom:0},m=0,ag=0,s={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},h=this;h.setData=N;h.setupGrid=R;h.draw=ax;h.getPlaceholder=function(){return T};h.getCanvas=function(){return af.element};h.getPlotOffset=function(){return M};h.width=function(){return m};h.height=function(){return ag};h.offset=function(){var aB=ap.offset();aB.left+=M.left;aB.top+=M.top;return aB};h.getData=function(){return w};h.getAxes=function(){var aC={},aB;e.each(ar.concat(Z),function(aD,aE){if(aE){aC[aE.direction+(aE.n!=1?aE.n:"")+"axis"]=aE}});return aC};h.getXAxes=function(){return ar};h.getYAxes=function(){return Z};h.c2p=ab;h.p2c=U;h.getOptions=function(){return O};h.highlight=aq;h.unhighlight=ak;h.triggerRedrawOverlay=aa;h.pointOffset=function(aB){return{left:parseInt(ar[A(aB,"x")-1].p2c(+aB.x)+M.left,10),top:parseInt(Z[A(aB,"y")-1].p2c(+aB.y)+M.top,10)}};h.shutdown=r;h.destroy=function(){r();T.removeData("plot").empty();w=[];O=null;af=null;ao=null;ap=null;G=null;az=null;ar=[];Z=[];s=null;aj=[];h=null};h.resize=function(){var aC=T.width(),aB=T.height();af.resize(aC,aB);ao.resize(aC,aB)};h.hooks=s;K(h);ad(F);aA();N(D);R();ax();av();function I(aD,aB){aB=[h].concat(aB);for(var aC=0;aC<aD.length;++aC){aD[aC].apply(this,aB)}}function K(){var aC={Canvas:a};for(var aB=0;aB<g.length;++aB){var aD=g[aB];aD.init(h,aC);if(aD.options){e.extend(true,O,aD.options)}}}function ad(aD){e.extend(true,O,aD);if(aD&&aD.colors){O.colors=aD.colors}if(O.xaxis.color==null){O.xaxis.color=e.color.parse(O.grid.color).scale("a",0.22).toString()}if(O.yaxis.color==null){O.yaxis.color=e.color.parse(O.grid.color).scale("a",0.22).toString()}if(O.xaxis.tickColor==null){O.xaxis.tickColor=O.grid.tickColor||O.xaxis.color}if(O.yaxis.tickColor==null){O.yaxis.tickColor=O.grid.tickColor||O.yaxis.color}if(O.grid.borderColor==null){O.grid.borderColor=O.grid.color}if(O.grid.tickColor==null){O.grid.tickColor=e.color.parse(O.grid.color).scale("a",0.22).toString()}var aB,aI,aG,aF=T.css("font-size"),aE=aF?+aF.replace("px",""):13,aC={style:T.css("font-style"),size:Math.round(0.8*aE),variant:T.css("font-variant"),weight:T.css("font-weight"),family:T.css("font-family")};aG=O.xaxes.length||1;for(aB=0;aB<aG;++aB){aI=O.xaxes[aB];if(aI&&!aI.tickColor){aI.tickColor=aI.color}aI=e.extend(true,{},O.xaxis,aI);O.xaxes[aB]=aI;if(aI.font){aI.font=e.extend({},aC,aI.font);if(!aI.font.color){aI.font.color=aI.color}if(!aI.font.lineHeight){aI.font.lineHeight=Math.round(aI.font.size*1.15)}}}aG=O.yaxes.length||1;for(aB=0;aB<aG;++aB){aI=O.yaxes[aB];if(aI&&!aI.tickColor){aI.tickColor=aI.color}aI=e.extend(true,{},O.yaxis,aI);O.yaxes[aB]=aI;if(aI.font){aI.font=e.extend({},aC,aI.font);if(!aI.font.color){aI.font.color=aI.color}if(!aI.font.lineHeight){aI.font.lineHeight=Math.round(aI.font.size*1.15)}}}if(O.xaxis.noTicks&&O.xaxis.ticks==null){O.xaxis.ticks=O.xaxis.noTicks}if(O.yaxis.noTicks&&O.yaxis.ticks==null){O.yaxis.ticks=O.yaxis.noTicks}if(O.x2axis){O.xaxes[1]=e.extend(true,{},O.xaxis,O.x2axis);O.xaxes[1].position="top";if(O.x2axis.min==null){O.xaxes[1].min=null}if(O.x2axis.max==null){O.xaxes[1].max=null}}if(O.y2axis){O.yaxes[1]=e.extend(true,{},O.yaxis,O.y2axis);O.yaxes[1].position="right";if(O.y2axis.min==null){O.yaxes[1].min=null}if(O.y2axis.max==null){O.yaxes[1].max=null}}if(O.grid.coloredAreas){O.grid.markings=O.grid.coloredAreas}if(O.grid.coloredAreasColor){O.grid.markingsColor=O.grid.coloredAreasColor}if(O.lines){e.extend(true,O.series.lines,O.lines)}if(O.points){e.extend(true,O.series.points,O.points)}if(O.bars){e.extend(true,O.series.bars,O.bars)}if(O.shadowSize!=null){O.series.shadowSize=O.shadowSize}if(O.highlightColor!=null){O.series.highlightColor=O.highlightColor}for(aB=0;aB<O.xaxes.length;++aB){P(ar,aB+1).options=O.xaxes[aB]}for(aB=0;aB<O.yaxes.length;++aB){P(Z,aB+1).options=O.yaxes[aB]}for(var aH in s){if(O.hooks[aH]&&O.hooks[aH].length){s[aH]=s[aH].concat(O.hooks[aH])}}I(s.processOptions,[O])}function N(aB){w=t(aB);B();V()}function t(aE){var aC=[];for(var aB=0;aB<aE.length;++aB){var aD=e.extend(true,{},O.series);if(aE[aB].data!=null){aD.data=aE[aB].data;delete aE[aB].data;e.extend(true,aD,aE[aB]);aE[aB].data=aD.data}else{aD.data=aE[aB]}aC.push(aD)}return aC}function A(aC,aD){var aB=aC[aD+"axis"];if(typeof aB=="object"){aB=aB.n}if(typeof aB!="number"){aB=1}return aB}function l(){return e.grep(ar.concat(Z),function(aB){return aB})}function ab(aE){var aC={},aB,aD;for(aB=0;aB<ar.length;++aB){aD=ar[aB];if(aD&&aD.used){aC["x"+aD.n]=aD.c2p(aE.left)}}for(aB=0;aB<Z.length;++aB){aD=Z[aB];if(aD&&aD.used){aC["y"+aD.n]=aD.c2p(aE.top)}}if(aC.x1!==undefined){aC.x=aC.x1}if(aC.y1!==undefined){aC.y=aC.y1}return aC}function U(aF){var aD={},aC,aE,aB;for(aC=0;aC<ar.length;++aC){aE=ar[aC];if(aE&&aE.used){aB="x"+aE.n;if(aF[aB]==null&&aE.n==1){aB="x"}if(aF[aB]!=null){aD.left=aE.p2c(aF[aB]);break}}}for(aC=0;aC<Z.length;++aC){aE=Z[aC];if(aE&&aE.used){aB="y"+aE.n;if(aF[aB]==null&&aE.n==1){aB="y"}if(aF[aB]!=null){aD.top=aE.p2c(aF[aB]);break}}}return aD}function P(aC,aB){if(!aC[aB-1]){aC[aB-1]={n:aB,direction:aC==ar?"x":"y",options:e.extend(true,{},aC==ar?O.xaxis:O.yaxis)}}return aC[aB-1]}function B(){var aM=w.length,aD=-1,aE;for(aE=0;aE<w.length;++aE){var aJ=w[aE].color;if(aJ!=null){aM--;if(typeof aJ=="number"&&aJ>aD){aD=aJ}}}if(aM<=aD){aM=aD+1}var aI,aB=[],aH=O.colors,aG=aH.length,aC=0;for(aE=0;aE<aM;aE++){aI=e.color.parse(aH[aE%aG]||"#666");if(aE%aG==0&&aE){if(aC>=0){if(aC<0.5){aC=-aC-0.2}else{aC=0}}else{aC=-aC}}aB[aE]=aI.scale("rgb",1+aC)}var aF=0,aN;for(aE=0;aE<w.length;++aE){aN=w[aE];if(aN.color==null){aN.color=aB[aF].toString();++aF}else{if(typeof aN.color=="number"){aN.color=aB[aN.color].toString()}}if(aN.lines.show==null){var aL,aK=true;for(aL in aN){if(aN[aL]&&aN[aL].show){aK=false;break}}if(aK){aN.lines.show=true}}if(aN.lines.zero==null){aN.lines.zero=!!aN.lines.fill}aN.xaxis=P(ar,A(aN,"x"));aN.yaxis=P(Z,A(aN,"y"))}}function V(){var aP=Number.POSITIVE_INFINITY,aJ=Number.NEGATIVE_INFINITY,aB=Number.MAX_VALUE,aW,aU,aT,aO,aD,aK,aV,aQ,aI,aH,aC,a2,aZ,aM,a1,aY;function aF(a5,a4,a3){if(a4<a5.datamin&&a4!=-aB){a5.datamin=a4}if(a3>a5.datamax&&a3!=aB){a5.datamax=a3}}e.each(l(),function(a3,a4){a4.datamin=aP;a4.datamax=aJ;a4.used=false});for(aW=0;aW<w.length;++aW){aK=w[aW];aK.datapoints={points:[]};I(s.processRawData,[aK,aK.data,aK.datapoints])}for(aW=0;aW<w.length;++aW){aK=w[aW];a1=aK.data;aY=aK.datapoints.format;if(!aY){aY=[];aY.push({x:true,number:true,required:true});aY.push({y:true,number:true,required:true});if(aK.bars.show||(aK.lines.show&&aK.lines.fill)){var aR=!!((aK.bars.show&&aK.bars.zero)||(aK.lines.show&&aK.lines.zero));aY.push({y:true,number:true,required:false,defaultValue:0,autoscale:aR});if(aK.bars.horizontal){delete aY[aY.length-1].y;aY[aY.length-1].x=true}}aK.datapoints.format=aY}if(aK.datapoints.pointsize!=null){continue}aK.datapoints.pointsize=aY.length;aQ=aK.datapoints.pointsize;aV=aK.datapoints.points;var aG=aK.lines.show&&aK.lines.steps;aK.xaxis.used=aK.yaxis.used=true;for(aU=aT=0;aU<a1.length;++aU,aT+=aQ){aM=a1[aU];var aE=aM==null;if(!aE){for(aO=0;aO<aQ;++aO){a2=aM[aO];aZ=aY[aO];if(aZ){if(aZ.number&&a2!=null){a2=+a2;if(isNaN(a2)){a2=null}else{if(a2==Infinity){a2=aB}else{if(a2==-Infinity){a2=-aB}}}}if(a2==null){if(aZ.required){aE=true}if(aZ.defaultValue!=null){a2=aZ.defaultValue}}}aV[aT+aO]=a2}}if(aE){for(aO=0;aO<aQ;++aO){a2=aV[aT+aO];if(a2!=null){aZ=aY[aO];if(aZ.autoscale!==false){if(aZ.x){aF(aK.xaxis,a2,a2)}if(aZ.y){aF(aK.yaxis,a2,a2)}}}aV[aT+aO]=null}}else{if(aG&&aT>0&&aV[aT-aQ]!=null&&aV[aT-aQ]!=aV[aT]&&aV[aT-aQ+1]!=aV[aT+1]){for(aO=0;aO<aQ;++aO){aV[aT+aQ+aO]=aV[aT+aO]}aV[aT+1]=aV[aT-aQ+1];aT+=aQ}}}}for(aW=0;aW<w.length;++aW){aK=w[aW];I(s.processDatapoints,[aK,aK.datapoints])}for(aW=0;aW<w.length;++aW){aK=w[aW];aV=aK.datapoints.points;aQ=aK.datapoints.pointsize;aY=aK.datapoints.format;var aL=aP,aS=aP,aN=aJ,aX=aJ;for(aU=0;aU<aV.length;aU+=aQ){if(aV[aU]==null){continue}for(aO=0;aO<aQ;++aO){a2=aV[aU+aO];aZ=aY[aO];if(!aZ||aZ.autoscale===false||a2==aB||a2==-aB){continue}if(aZ.x){if(a2<aL){aL=a2}if(a2>aN){aN=a2}}if(aZ.y){if(a2<aS){aS=a2}if(a2>aX){aX=a2}}}}if(aK.bars.show){var a0;switch(aK.bars.align){case"left":a0=0;break;case"right":a0=-aK.bars.barWidth;break;default:a0=-aK.bars.barWidth/2}if(aK.bars.horizontal){aS+=a0;aX+=a0+aK.bars.barWidth}else{aL+=a0;aN+=a0+aK.bars.barWidth}}aF(aK.xaxis,aL,aN);aF(aK.yaxis,aS,aX)}e.each(l(),function(a3,a4){if(a4.datamin==aP){a4.datamin=null}if(a4.datamax==aJ){a4.datamax=null}})}function aA(){T.css("padding",0).children().filter(function(){return !e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove();if(T.css("position")=="static"){T.css("position","relative")}af=new a("flot-base",T);ao=new a("flot-overlay",T);G=af.context;az=ao.context;ap=e(ao.element).unbind();var aB=T.data("plot");if(aB){aB.shutdown();ao.clear()}T.data("plot",h)}function av(){if(O.grid.hoverable){ap.mousemove(f);ap.bind("mouseleave",S)}if(O.grid.clickable){ap.click(L)}I(s.bindEvents,[ap])}function r(){if(o){clearTimeout(o)}ap.unbind("mousemove",f);ap.unbind("mouseleave",S);ap.unbind("click",L);I(s.shutdown,[ap])}function q(aG){function aC(aH){return aH}var aF,aB,aD=aG.options.transform||aC,aE=aG.options.inverseTransform;if(aG.direction=="x"){aF=aG.scale=m/Math.abs(aD(aG.max)-aD(aG.min));aB=Math.min(aD(aG.max),aD(aG.min))}else{aF=aG.scale=ag/Math.abs(aD(aG.max)-aD(aG.min));aF=-aF;aB=Math.max(aD(aG.max),aD(aG.min))}if(aD==aC){aG.p2c=function(aH){return(aH-aB)*aF}}else{aG.p2c=function(aH){return(aD(aH)-aB)*aF}}if(!aE){aG.c2p=function(aH){return aB+aH/aF}}else{aG.c2p=function(aH){return aE(aB+aH/aF)}}}function ac(aE){var aB=aE.options,aK=aE.ticks||[],aJ=aB.labelWidth||0,aF=aB.labelHeight||0,aL=aJ||(aE.direction=="x"?Math.floor(af.width/(aK.length||1)):null),aH=aE.direction+"Axis "+aE.direction+aE.n+"Axis",aI="flot-"+aE.direction+"-axis flot-"+aE.direction+aE.n+"-axis "+aH,aD=aB.font||"flot-tick-label tickLabel";for(var aG=0;aG<aK.length;++aG){var aM=aK[aG];if(!aM.label){continue}var aC=af.getTextInfo(aI,aM.label,aD,null,aL);aJ=Math.max(aJ,aC.width);aF=Math.max(aF,aC.height)}aE.labelWidth=aB.labelWidth||aJ;aE.labelHeight=aB.labelHeight||aF}function H(aD){var aC=aD.labelWidth,aK=aD.labelHeight,aI=aD.options.position,aB=aD.direction==="x",aG=aD.options.tickLength,aH=O.grid.axisMargin,aJ=O.grid.labelMargin,aM=true,aF=true,aE=true,aL=false;e.each(aB?ar:Z,function(aO,aN){if(aN&&(aN.show||aN.reserveSpace)){if(aN===aD){aL=true}else{if(aN.options.position===aI){if(aL){aF=false}else{aM=false}}}if(!aL){aE=false}}});if(aF){aH=0}if(aG==null){aG=aE?"full":5}if(!isNaN(+aG)){aJ+=+aG}if(aB){aK+=aJ;if(aI=="bottom"){M.bottom+=aK+aH;aD.box={top:af.height-M.bottom,height:aK}}else{aD.box={top:M.top+aH,height:aK};M.top+=aK+aH}}else{aC+=aJ;if(aI=="left"){aD.box={left:M.left+aH,width:aC};M.left+=aC+aH}else{M.right+=aC+aH;aD.box={left:af.width-M.right,width:aC}}}aD.position=aI;aD.tickLength=aG;aD.box.padding=aJ;aD.innermost=aM}function ae(aB){if(aB.direction=="x"){aB.box.left=M.left-aB.labelWidth/2;aB.box.width=af.width-M.left-M.right+aB.labelWidth}else{aB.box.top=M.top-aB.labelHeight/2;aB.box.height=af.height-M.bottom-M.top+aB.labelHeight}}function E(){var aD=O.grid.minBorderMargin,aC,aB;if(aD==null){aD=0;for(aB=0;aB<w.length;++aB){aD=Math.max(aD,2*(w[aB].points.radius+w[aB].points.lineWidth/2))}}var aE={left:aD,right:aD,top:aD,bottom:aD};e.each(l(),function(aF,aG){if(aG.reserveSpace&&aG.ticks&&aG.ticks.length){if(aG.direction==="x"){aE.left=Math.max(aE.left,aG.labelWidth/2);aE.right=Math.max(aE.right,aG.labelWidth/2)}else{aE.bottom=Math.max(aE.bottom,aG.labelHeight/2);aE.top=Math.max(aE.top,aG.labelHeight/2)}}});M.left=Math.ceil(Math.max(aE.left,M.left));M.right=Math.ceil(Math.max(aE.right,M.right));M.top=Math.ceil(Math.max(aE.top,M.top));M.bottom=Math.ceil(Math.max(aE.bottom,M.bottom))}function R(){var aD,aF=l(),aG=O.grid.show;for(var aC in M){var aE=O.grid.margin||0;M[aC]=typeof aE=="number"?aE:aE[aC]||0}I(s.processOffset,[M]);for(var aC in M){if(typeof(O.grid.borderWidth)=="object"){M[aC]+=aG?O.grid.borderWidth[aC]:0}else{M[aC]+=aG?O.grid.borderWidth:0}}e.each(aF,function(aI,aJ){var aH=aJ.options;aJ.show=aH.show==null?aJ.used:aH.show;aJ.reserveSpace=aH.reserveSpace==null?aJ.show:aH.reserveSpace;p(aJ)});if(aG){var aB=e.grep(aF,function(aH){return aH.show||aH.reserveSpace});e.each(aB,function(aH,aI){au(aI);Y(aI);x(aI,aI.ticks);ac(aI)});for(aD=aB.length-1;aD>=0;--aD){H(aB[aD])}E();e.each(aB,function(aH,aI){ae(aI)})}m=af.width-M.left-M.right;ag=af.height-M.bottom-M.top;e.each(aF,function(aH,aI){q(aI)});if(aG){aw()}ay()}function p(aE){var aF=aE.options,aD=+(aF.min!=null?aF.min:aE.datamin),aB=+(aF.max!=null?aF.max:aE.datamax),aH=aB-aD;if(aH==0){var aC=aB==0?1:0.01;if(aF.min==null){aD-=aC}if(aF.max==null||aF.min!=null){aB+=aC}}else{var aG=aF.autoscaleMargin;if(aG!=null){if(aF.min==null){aD-=aH*aG;if(aD<0&&aE.datamin!=null&&aE.datamin>=0){aD=0}}if(aF.max==null){aB+=aH*aG;if(aB>0&&aE.datamax!=null&&aE.datamax<=0){aB=0}}}}aE.min=aD;aE.max=aB}function au(aG){var aC=aG.options;var aF;if(typeof aC.ticks=="number"&&aC.ticks>0){aF=aC.ticks}else{aF=0.3*Math.sqrt(aG.direction=="x"?af.width:af.height)}var aL=(aG.max-aG.min)/aF,aH=-Math.floor(Math.log(aL)/Math.LN10),aE=aC.tickDecimals;if(aE!=null&&aH>aE){aH=aE}var aB=Math.pow(10,-aH),aD=aL/aB,aN;if(aD<1.5){aN=1}else{if(aD<3){aN=2;if(aD>2.25&&(aE==null||aH+1<=aE)){aN=2.5;++aH}}else{if(aD<7.5){aN=5}else{aN=10}}}aN*=aB;if(aC.minTickSize!=null&&aN<aC.minTickSize){aN=aC.minTickSize}aG.delta=aL;aG.tickDecimals=Math.max(0,aE!=null?aE:aH);aG.tickSize=aC.tickSize||aN;if(aC.mode=="time"&&!aG.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!aG.tickGenerator){aG.tickGenerator=function(aQ){var aS=[],aT=b(aQ.min,aQ.tickSize),aP=0,aO=Number.NaN,aR;do{aR=aO;aO=aT+aP*aQ.tickSize;aS.push(aO);++aP}while(aO<aQ.max&&aO!=aR);return aS};aG.tickFormatter=function(aT,aR){var aQ=aR.tickDecimals?Math.pow(10,aR.tickDecimals):1;var aS=""+Math.round(aT*aQ)/aQ;if(aR.tickDecimals!=null){var aP=aS.indexOf(".");var aO=aP==-1?0:aS.length-aP-1;if(aO<aR.tickDecimals){return(aO?aS:aS+".")+(""+aQ).substr(1,aR.tickDecimals-aO)}}return aS}}if(e.isFunction(aC.tickFormatter)){aG.tickFormatter=function(aO,aP){return""+aC.tickFormatter(aO,aP)}}if(aC.alignTicksWithAxis!=null){var aI=(aG.direction=="x"?ar:Z)[aC.alignTicksWithAxis-1];if(aI&&aI.used&&aI!=aG){var aM=aG.tickGenerator(aG);if(aM.length>0){if(aC.min==null){aG.min=Math.min(aG.min,aM[0])}if(aC.max==null&&aM.length>1){aG.max=Math.max(aG.max,aM[aM.length-1])}}aG.tickGenerator=function(aQ){var aR=[],aO,aP;for(aP=0;aP<aI.ticks.length;++aP){aO=(aI.ticks[aP].v-aI.min)/(aI.max-aI.min);aO=aQ.min+aO*(aQ.max-aQ.min);aR.push(aO)}return aR};if(!aG.mode&&aC.tickDecimals==null){var aK=Math.max(0,-Math.floor(Math.log(aG.delta)/Math.LN10)+1),aJ=aG.tickGenerator(aG);if(!(aJ.length>1&&/\..*0$/.test((aJ[1]-aJ[0]).toFixed(aK)))){aG.tickDecimals=aK}}}}}function Y(aF){var aH=aF.options.ticks,aG=[];if(aH==null||(typeof aH=="number"&&aH>0)){aG=aF.tickGenerator(aF)}else{if(aH){if(e.isFunction(aH)){aG=aH(aF)}else{aG=aH}}}var aE,aB;aF.ticks=[];for(aE=0;aE<aG.length;++aE){var aC=null;var aD=aG[aE];if(typeof aD=="object"){aB=+aD[0];if(aD.length>1){aC=aD[1]}}else{aB=+aD}if(aC==null){aC=aF.tickFormatter(aB,aF)}if(!isNaN(aB)){aF.ticks.push({v:aB,label:aC})}}}function x(aB,aC){if(aB.options.autoscaleMargin&&aC.length>0){if(aB.options.min==null){aB.min=Math.min(aB.min,aC[0].v)}if(aB.options.max==null&&aC.length>1){aB.max=Math.max(aB.max,aC[aC.length-1].v)}}}function ax(){af.clear();I(s.drawBackground,[G]);var aC=O.grid;if(aC.show&&aC.backgroundColor){u()}if(aC.show&&!aC.aboveData){z()}for(var aB=0;aB<w.length;++aB){I(s.drawSeries,[G,w[aB]]);am(w[aB])}I(s.draw,[G]);if(aC.show&&aC.aboveData){z()}af.render();aa()}function v(aB,aF){var aC,aH,aI,aJ,aG=l();for(var aE=0;aE<aG.length;++aE){aC=aG[aE];if(aC.direction==aF){aJ=aF+aC.n+"axis";if(!aB[aJ]&&aC.n==1){aJ=aF+"axis"}if(aB[aJ]){aH=aB[aJ].from;aI=aB[aJ].to;break}}}if(!aB[aJ]){aC=aF=="x"?ar[0]:Z[0];aH=aB[aF+"1"];aI=aB[aF+"2"]}if(aH!=null&&aI!=null&&aH>aI){var aD=aH;aH=aI;aI=aD}return{from:aH,to:aI,axis:aC}}function u(){G.save();G.translate(M.left,M.top);G.fillStyle=y(O.grid.backgroundColor,ag,0,"rgba(255, 255, 255, 0)");G.fillRect(0,0,m,ag);G.restore()}function z(){var aR,aQ,aU,aD;G.save();G.translate(M.left,M.top);var aE=O.grid.markings;if(aE){if(e.isFunction(aE)){aQ=h.getAxes();aQ.xmin=aQ.xaxis.min;aQ.xmax=aQ.xaxis.max;aQ.ymin=aQ.yaxis.min;aQ.ymax=aQ.yaxis.max;aE=aE(aQ)}for(aR=0;aR<aE.length;++aR){var aO=aE[aR],aF=v(aO,"x"),aJ=v(aO,"y");if(aF.from==null){aF.from=aF.axis.min}if(aF.to==null){aF.to=aF.axis.max}if(aJ.from==null){aJ.from=aJ.axis.min}if(aJ.to==null){aJ.to=aJ.axis.max}if(aF.to<aF.axis.min||aF.from>aF.axis.max||aJ.to<aJ.axis.min||aJ.from>aJ.axis.max){continue}aF.from=Math.max(aF.from,aF.axis.min);aF.to=Math.min(aF.to,aF.axis.max);aJ.from=Math.max(aJ.from,aJ.axis.min);aJ.to=Math.min(aJ.to,aJ.axis.max);var aG=aF.from===aF.to,aM=aJ.from===aJ.to;if(aG&&aM){continue}aF.from=Math.floor(aF.axis.p2c(aF.from));aF.to=Math.floor(aF.axis.p2c(aF.to));aJ.from=Math.floor(aJ.axis.p2c(aJ.from));aJ.to=Math.floor(aJ.axis.p2c(aJ.to));if(aG||aM){var aB=aO.lineWidth||O.grid.markingsLineWidth,aS=aB%2?0.5:0;G.beginPath();G.strokeStyle=aO.color||O.grid.markingsColor;G.lineWidth=aB;if(aG){G.moveTo(aF.to+aS,aJ.from);G.lineTo(aF.to+aS,aJ.to)}else{G.moveTo(aF.from,aJ.to+aS);G.lineTo(aF.to,aJ.to+aS)}G.stroke()}else{G.fillStyle=aO.color||O.grid.markingsColor;G.fillRect(aF.from,aJ.to,aF.to-aF.from,aJ.from-aJ.to)}}}aQ=l();aU=O.grid.borderWidth;for(var aP=0;aP<aQ.length;++aP){var aC=aQ[aP],aK=aC.box,aN=aC.tickLength,aI,aH,aT,aV;if(!aC.show||aC.ticks.length==0){continue}G.lineWidth=1;if(aC.direction=="x"){aI=0;if(aN=="full"){aH=(aC.position=="top"?0:ag)}else{aH=aK.top-M.top+(aC.position=="top"?aK.height:0)}}else{aH=0;if(aN=="full"){aI=(aC.position=="left"?0:m)}else{aI=aK.left-M.left+(aC.position=="left"?aK.width:0)}}if(!aC.innermost){G.strokeStyle=aC.options.color;G.beginPath();aT=aV=0;if(aC.direction=="x"){aT=m+1}else{aV=ag+1}if(G.lineWidth==1){if(aC.direction=="x"){aH=Math.floor(aH)+0.5}else{aI=Math.floor(aI)+0.5}}G.moveTo(aI,aH);G.lineTo(aI+aT,aH+aV);G.stroke()}G.strokeStyle=aC.options.tickColor;G.beginPath();for(aR=0;aR<aC.ticks.length;++aR){var aL=aC.ticks[aR].v;aT=aV=0;if(isNaN(aL)||aL<aC.min||aL>aC.max||(aN=="full"&&((typeof aU=="object"&&aU[aC.position]>0)||aU>0)&&(aL==aC.min||aL==aC.max))){continue}if(aC.direction=="x"){aI=aC.p2c(aL);aV=aN=="full"?-ag:aN;if(aC.position=="top"){aV=-aV}}else{aH=aC.p2c(aL);aT=aN=="full"?-m:aN;if(aC.position=="left"){aT=-aT}}if(G.lineWidth==1){if(aC.direction=="x"){aI=Math.floor(aI)+0.5}else{aH=Math.floor(aH)+0.5}}G.moveTo(aI,aH);G.lineTo(aI+aT,aH+aV)}G.stroke()}if(aU){aD=O.grid.borderColor;if(typeof aU=="object"||typeof aD=="object"){if(typeof aU!=="object"){aU={top:aU,right:aU,bottom:aU,left:aU}}if(typeof aD!=="object"){aD={top:aD,right:aD,bottom:aD,left:aD}}if(aU.top>0){G.strokeStyle=aD.top;G.lineWidth=aU.top;G.beginPath();G.moveTo(0-aU.left,0-aU.top/2);G.lineTo(m,0-aU.top/2);G.stroke()}if(aU.right>0){G.strokeStyle=aD.right;G.lineWidth=aU.right;G.beginPath();G.moveTo(m+aU.right/2,0-aU.top);G.lineTo(m+aU.right/2,ag);G.stroke()}if(aU.bottom>0){G.strokeStyle=aD.bottom;G.lineWidth=aU.bottom;G.beginPath();G.moveTo(m+aU.right,ag+aU.bottom/2);G.lineTo(0,ag+aU.bottom/2);G.stroke()}if(aU.left>0){G.strokeStyle=aD.left;G.lineWidth=aU.left;G.beginPath();G.moveTo(0-aU.left/2,ag+aU.bottom);G.lineTo(0-aU.left/2,0);G.stroke()}}else{G.lineWidth=aU;G.strokeStyle=O.grid.borderColor;G.strokeRect(-aU/2,-aU/2,m+aU,ag+aU)}}G.restore()}function aw(){e.each(l(),function(aM,aC){var aF=aC.box,aE=aC.direction+"Axis "+aC.direction+aC.n+"Axis",aI="flot-"+aC.direction+"-axis flot-"+aC.direction+aC.n+"-axis "+aE,aB=aC.options.font||"flot-tick-label tickLabel",aG,aL,aJ,aH,aK;af.removeText(aI);if(!aC.show||aC.ticks.length==0){return}for(var aD=0;aD<aC.ticks.length;++aD){aG=aC.ticks[aD];if(!aG.label||aG.v<aC.min||aG.v>aC.max){continue}if(aC.direction=="x"){aH="center";aL=M.left+aC.p2c(aG.v);if(aC.position=="bottom"){aJ=aF.top+aF.padding}else{aJ=aF.top+aF.height-aF.padding;aK="bottom"}}else{aK="middle";aJ=M.top+aC.p2c(aG.v);if(aC.position=="left"){aL=aF.left+aF.width-aF.padding;aH="right"}else{aL=aF.left+aF.padding}}af.addText(aI,aL,aJ,aG.label,aB,null,null,aH,aK)}})}function am(aB){if(aB.lines.show){J(aB)}if(aB.bars.show){W(aB)}if(aB.points.show){X(aB)}}function J(aE){function aD(aP,aQ,aI,aU,aT){var aV=aP.points,aJ=aP.pointsize,aN=null,aM=null;G.beginPath();for(var aO=aJ;aO<aV.length;aO+=aJ){var aL=aV[aO-aJ],aS=aV[aO-aJ+1],aK=aV[aO],aR=aV[aO+1];if(aL==null||aK==null){continue}if(aS<=aR&&aS<aT.min){if(aR<aT.min){continue}aL=(aT.min-aS)/(aR-aS)*(aK-aL)+aL;aS=aT.min}else{if(aR<=aS&&aR<aT.min){if(aS<aT.min){continue}aK=(aT.min-aS)/(aR-aS)*(aK-aL)+aL;aR=aT.min}}if(aS>=aR&&aS>aT.max){if(aR>aT.max){continue}aL=(aT.max-aS)/(aR-aS)*(aK-aL)+aL;aS=aT.max}else{if(aR>=aS&&aR>aT.max){if(aS>aT.max){continue}aK=(aT.max-aS)/(aR-aS)*(aK-aL)+aL;aR=aT.max}}if(aL<=aK&&aL<aU.min){if(aK<aU.min){continue}aS=(aU.min-aL)/(aK-aL)*(aR-aS)+aS;aL=aU.min}else{if(aK<=aL&&aK<aU.min){if(aL<aU.min){continue}aR=(aU.min-aL)/(aK-aL)*(aR-aS)+aS;aK=aU.min}}if(aL>=aK&&aL>aU.max){if(aK>aU.max){continue}aS=(aU.max-aL)/(aK-aL)*(aR-aS)+aS;aL=aU.max}else{if(aK>=aL&&aK>aU.max){if(aL>aU.max){continue}aR=(aU.max-aL)/(aK-aL)*(aR-aS)+aS;aK=aU.max}}if(aL!=aN||aS!=aM){G.moveTo(aU.p2c(aL)+aQ,aT.p2c(aS)+aI)}aN=aK;aM=aR;G.lineTo(aU.p2c(aK)+aQ,aT.p2c(aR)+aI)}G.stroke()}function aF(aI,aQ,aP){var aW=aI.points,aV=aI.pointsize,aN=Math.min(Math.max(0,aP.min),aP.max),aX=0,aU,aT=false,aM=1,aL=0,aR=0;while(true){if(aV>0&&aX>aW.length+aV){break}aX+=aV;var aZ=aW[aX-aV],aK=aW[aX-aV+aM],aY=aW[aX],aJ=aW[aX+aM];if(aT){if(aV>0&&aZ!=null&&aY==null){aR=aX;aV=-aV;aM=2;continue}if(aV<0&&aX==aL+aV){G.fill();aT=false;aV=-aV;aM=1;aX=aL=aR+aV;continue}}if(aZ==null||aY==null){continue}if(aZ<=aY&&aZ<aQ.min){if(aY<aQ.min){continue}aK=(aQ.min-aZ)/(aY-aZ)*(aJ-aK)+aK;aZ=aQ.min}else{if(aY<=aZ&&aY<aQ.min){if(aZ<aQ.min){continue}aJ=(aQ.min-aZ)/(aY-aZ)*(aJ-aK)+aK;aY=aQ.min}}if(aZ>=aY&&aZ>aQ.max){if(aY>aQ.max){continue}aK=(aQ.max-aZ)/(aY-aZ)*(aJ-aK)+aK;aZ=aQ.max}else{if(aY>=aZ&&aY>aQ.max){if(aZ>aQ.max){continue}aJ=(aQ.max-aZ)/(aY-aZ)*(aJ-aK)+aK;aY=aQ.max}}if(!aT){G.beginPath();G.moveTo(aQ.p2c(aZ),aP.p2c(aN));aT=true}if(aK>=aP.max&&aJ>=aP.max){G.lineTo(aQ.p2c(aZ),aP.p2c(aP.max));G.lineTo(aQ.p2c(aY),aP.p2c(aP.max));continue}else{if(aK<=aP.min&&aJ<=aP.min){G.lineTo(aQ.p2c(aZ),aP.p2c(aP.min));G.lineTo(aQ.p2c(aY),aP.p2c(aP.min));continue}}var aO=aZ,aS=aY;if(aK<=aJ&&aK<aP.min&&aJ>=aP.min){aZ=(aP.min-aK)/(aJ-aK)*(aY-aZ)+aZ;aK=aP.min}else{if(aJ<=aK&&aJ<aP.min&&aK>=aP.min){aY=(aP.min-aK)/(aJ-aK)*(aY-aZ)+aZ;aJ=aP.min}}if(aK>=aJ&&aK>aP.max&&aJ<=aP.max){aZ=(aP.max-aK)/(aJ-aK)*(aY-aZ)+aZ;aK=aP.max}else{if(aJ>=aK&&aJ>aP.max&&aK<=aP.max){aY=(aP.max-aK)/(aJ-aK)*(aY-aZ)+aZ;aJ=aP.max}}if(aZ!=aO){G.lineTo(aQ.p2c(aO),aP.p2c(aK))}G.lineTo(aQ.p2c(aZ),aP.p2c(aK));G.lineTo(aQ.p2c(aY),aP.p2c(aJ));if(aY!=aS){G.lineTo(aQ.p2c(aY),aP.p2c(aJ));G.lineTo(aQ.p2c(aS),aP.p2c(aJ))}}}G.save();G.translate(M.left,M.top);G.lineJoin="round";var aG=aE.lines.lineWidth,aB=aE.shadowSize;if(aG>0&&aB>0){G.lineWidth=aB;G.strokeStyle="rgba(0,0,0,0.1)";var aH=Math.PI/18;aD(aE.datapoints,Math.sin(aH)*(aG/2+aB/2),Math.cos(aH)*(aG/2+aB/2),aE.xaxis,aE.yaxis);G.lineWidth=aB/2;aD(aE.datapoints,Math.sin(aH)*(aG/2+aB/4),Math.cos(aH)*(aG/2+aB/4),aE.xaxis,aE.yaxis)}G.lineWidth=aG;G.strokeStyle=aE.color;var aC=C(aE.lines,aE.color,0,ag);if(aC){G.fillStyle=aC;aF(aE.datapoints,aE.xaxis,aE.yaxis)}if(aG>0){aD(aE.datapoints,0,0,aE.xaxis,aE.yaxis)}G.restore()}function X(aE){function aH(aN,aM,aU,aK,aS,aT,aQ,aJ){var aR=aN.points,aI=aN.pointsize;for(var aL=0;aL<aR.length;aL+=aI){var aP=aR[aL],aO=aR[aL+1];if(aP==null||aP<aT.min||aP>aT.max||aO<aQ.min||aO>aQ.max){continue}G.beginPath();aP=aT.p2c(aP);aO=aQ.p2c(aO)+aK;if(aJ=="circle"){G.arc(aP,aO,aM,0,aS?Math.PI:Math.PI*2,false)}else{aJ(G,aP,aO,aM,aS)}G.closePath();if(aU){G.fillStyle=aU;G.fill()}G.stroke()}}G.save();G.translate(M.left,M.top);var aG=aE.points.lineWidth,aC=aE.shadowSize,aB=aE.points.radius,aF=aE.points.symbol;if(aG==0){aG=0.0001}if(aG>0&&aC>0){var aD=aC/2;G.lineWidth=aD;G.strokeStyle="rgba(0,0,0,0.1)";aH(aE.datapoints,aB,null,aD+aD/2,true,aE.xaxis,aE.yaxis,aF);G.strokeStyle="rgba(0,0,0,0.2)";aH(aE.datapoints,aB,null,aD/2,true,aE.xaxis,aE.yaxis,aF)}G.lineWidth=aG;G.strokeStyle=aE.color;aH(aE.datapoints,aB,C(aE.points,aE.color),0,false,aE.xaxis,aE.yaxis,aF);G.restore()}function an(aM,aL,aU,aH,aP,aD,aK,aJ,aT,aQ,aC){var aE,aS,aI,aO,aF,aB,aN,aG,aR;if(aQ){aG=aB=aN=true;aF=false;aE=aU;aS=aM;aO=aL+aH;aI=aL+aP;if(aS<aE){aR=aS;aS=aE;aE=aR;aF=true;aB=false}}else{aF=aB=aN=true;aG=false;aE=aM+aH;aS=aM+aP;aI=aU;aO=aL;if(aO<aI){aR=aO;aO=aI;aI=aR;aG=true;aN=false}}if(aS<aK.min||aE>aK.max||aO<aJ.min||aI>aJ.max){return}if(aE<aK.min){aE=aK.min;aF=false}if(aS>aK.max){aS=aK.max;aB=false}if(aI<aJ.min){aI=aJ.min;aG=false}if(aO>aJ.max){aO=aJ.max;aN=false}aE=aK.p2c(aE);aI=aJ.p2c(aI);aS=aK.p2c(aS);aO=aJ.p2c(aO);if(aD){aT.fillStyle=aD(aI,aO);aT.fillRect(aE,aO,aS-aE,aI-aO)}if(aC>0&&(aF||aB||aN||aG)){aT.beginPath();aT.moveTo(aE,aI);if(aF){aT.lineTo(aE,aO)}else{aT.moveTo(aE,aO)}if(aN){aT.lineTo(aS,aO)}else{aT.moveTo(aS,aO)}if(aB){aT.lineTo(aS,aI)}else{aT.moveTo(aS,aI)}if(aG){aT.lineTo(aE,aI)}else{aT.moveTo(aE,aI)}aT.stroke()}}function W(aD){function aC(aI,aH,aK,aJ,aM,aL){var aN=aI.points,aF=aI.pointsize;for(var aG=0;aG<aN.length;aG+=aF){if(aN[aG]==null){continue}an(aN[aG],aN[aG+1],aN[aG+2],aH,aK,aJ,aM,aL,G,aD.bars.horizontal,aD.bars.lineWidth)}}G.save();G.translate(M.left,M.top);G.lineWidth=aD.bars.lineWidth;G.strokeStyle=aD.color;var aB;switch(aD.bars.align){case"left":aB=0;break;case"right":aB=-aD.bars.barWidth;break;default:aB=-aD.bars.barWidth/2}var aE=aD.bars.fill?function(aF,aG){return C(aD.bars,aD.color,aF,aG)}:null;aC(aD.datapoints,aB,aB+aD.bars.barWidth,aE,aD.xaxis,aD.yaxis);G.restore()}function C(aD,aB,aC,aF){var aE=aD.fill;if(!aE){return null}if(aD.fillColor){return y(aD.fillColor,aC,aF,aB)}var aG=e.color.parse(aB);aG.a=typeof aE=="number"?aE:0.4;aG.normalize();return aG.toString()}function ay(){if(O.legend.container!=null){e(O.legend.container).html("")}else{T.find(".legend").remove()}if(!O.legend.show){return}var aJ=[],aG=[],aH=false,aQ=O.legend.labelFormatter,aP,aL;for(var aF=0;aF<w.length;++aF){aP=w[aF];if(aP.label){aL=aQ?aQ(aP.label,aP):aP.label;if(aL){aG.push({label:aL,color:aP.color})}}}if(O.legend.sorted){if(e.isFunction(O.legend.sorted)){aG.sort(O.legend.sorted)}else{if(O.legend.sorted=="reverse"){aG.reverse()}else{var aE=O.legend.sorted!="descending";aG.sort(function(aS,aR){return aS.label==aR.label?0:((aS.label<aR.label)!=aE?1:-1)})}}}for(var aF=0;aF<aG.length;++aF){var aN=aG[aF];if(aF%O.legend.noColumns==0){if(aH){aJ.push("</tr>")}aJ.push("<tr>");aH=true}aJ.push('<td class="legendColorBox"><div style="border:1px solid '+O.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aN.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aN.label+"</td>")}if(aH){aJ.push("</tr>")}if(aJ.length==0){return}var aO='<table style="font-size:smaller;color:'+O.grid.color+'">'+aJ.join("")+"</table>";if(O.legend.container!=null){e(O.legend.container).html(aO)}else{var aK="",aC=O.legend.position,aD=O.legend.margin;if(aD[0]==null){aD=[aD,aD]}if(aC.charAt(0)=="n"){aK+="top:"+(aD[1]+M.top)+"px;"}else{if(aC.charAt(0)=="s"){aK+="bottom:"+(aD[1]+M.bottom)+"px;"}}if(aC.charAt(1)=="e"){aK+="right:"+(aD[0]+M.right)+"px;"}else{if(aC.charAt(1)=="w"){aK+="left:"+(aD[0]+M.left)+"px;"}}var aM=e('<div class="legend">'+aO.replace('style="','style="position:absolute;'+aK+";")+"</div>").appendTo(T);if(O.legend.backgroundOpacity!=0){var aI=O.legend.backgroundColor;if(aI==null){aI=O.grid.backgroundColor;if(aI&&typeof aI=="string"){aI=e.color.parse(aI)}else{aI=e.color.extract(aM,"background-color")}aI.a=1;aI=aI.toString()}var aB=aM.children();e('<div style="position:absolute;width:'+aB.width()+"px;height:"+aB.height()+"px;"+aK+"background-color:"+aI+';"> </div>').prependTo(aM).css("opacity",O.legend.backgroundOpacity)}}}var aj=[],o=null;function at(aI,aG,aD){var aO=O.grid.mouseActiveRadius,a0=aO*aO+1,aY=null,aR=false,aW,aU,aT;for(aW=w.length-1;aW>=0;--aW){if(!aD(w[aW])){continue}var aP=w[aW],aH=aP.xaxis,aF=aP.yaxis,aV=aP.datapoints.points,aQ=aH.c2p(aI),aN=aF.c2p(aG),aC=aO/aH.scale,aB=aO/aF.scale;aT=aP.datapoints.pointsize;if(aH.options.inverseTransform){aC=Number.MAX_VALUE}if(aF.options.inverseTransform){aB=Number.MAX_VALUE}if(aP.lines.show||aP.points.show){for(aU=0;aU<aV.length;aU+=aT){var aK=aV[aU],aJ=aV[aU+1];if(aK==null){continue}if(aK-aQ>aC||aK-aQ<-aC||aJ-aN>aB||aJ-aN<-aB){continue}var aM=Math.abs(aH.p2c(aK)-aI),aL=Math.abs(aF.p2c(aJ)-aG),aS=aM*aM+aL*aL;if(aS<a0){a0=aS;aY=[aW,aU/aT]}}}if(aP.bars.show&&!aY){var aE,aX;switch(aP.bars.align){case"left":aE=0;break;case"right":aE=-aP.bars.barWidth;break;default:aE=-aP.bars.barWidth/2}aX=aE+aP.bars.barWidth;for(aU=0;aU<aV.length;aU+=aT){var aK=aV[aU],aJ=aV[aU+1],aZ=aV[aU+2];if(aK==null){continue}if(w[aW].bars.horizontal?(aQ<=Math.max(aZ,aK)&&aQ>=Math.min(aZ,aK)&&aN>=aJ+aE&&aN<=aJ+aX):(aQ>=aK+aE&&aQ<=aK+aX&&aN>=Math.min(aZ,aJ)&&aN<=Math.max(aZ,aJ))){aY=[aW,aU/aT]}}}}if(aY){aW=aY[0];aU=aY[1];aT=w[aW].datapoints.pointsize;return{datapoint:w[aW].datapoints.points.slice(aU*aT,(aU+1)*aT),dataIndex:aU,series:w[aW],seriesIndex:aW}}return null}function f(aB){if(O.grid.hoverable){k("plothover",aB,function(aC){return aC.hoverable!=false})}}function S(aB){if(O.grid.hoverable){k("plothover",aB,function(aC){return false})}}function L(aB){k("plotclick",aB,function(aC){return aC.clickable!=false})}function k(aC,aB,aD){var aE=ap.offset(),aH=aB.pageX-aE.left-M.left,aF=aB.pageY-aE.top-M.top,aJ=ab({left:aH,top:aF});aJ.pageX=aB.pageX;aJ.pageY=aB.pageY;var aK=at(aH,aF,aD);if(aK){aK.pageX=parseInt(aK.series.xaxis.p2c(aK.datapoint[0])+aE.left+M.left,10);aK.pageY=parseInt(aK.series.yaxis.p2c(aK.datapoint[1])+aE.top+M.top,10)}if(O.grid.autoHighlight){for(var aG=0;aG<aj.length;++aG){var aI=aj[aG];if(aI.auto==aC&&!(aK&&aI.series==aK.series&&aI.point[0]==aK.datapoint[0]&&aI.point[1]==aK.datapoint[1])){ak(aI.series,aI.point)}}if(aK){aq(aK.series,aK.datapoint,aC)}}T.trigger(aC,[aJ,aK])}function aa(){var aB=O.interaction.redrawOverlayInterval;if(aB==-1){ai();return}if(!o){o=setTimeout(ai,aB)}}function ai(){o=null;az.save();ao.clear();az.translate(M.left,M.top);var aC,aB;for(aC=0;aC<aj.length;++aC){aB=aj[aC];if(aB.series.bars.show){al(aB.series,aB.point)}else{ah(aB.series,aB.point)}}az.restore();I(s.drawOverlay,[az])}function aq(aD,aB,aF){if(typeof aD=="number"){aD=w[aD]}if(typeof aB=="number"){var aE=aD.datapoints.pointsize;aB=aD.datapoints.points.slice(aE*aB,aE*(aB+1))}var aC=Q(aD,aB);if(aC==-1){aj.push({series:aD,point:aB,auto:aF});aa()}else{if(!aF){aj[aC].auto=false}}}function ak(aD,aB){if(aD==null&&aB==null){aj=[];aa();return}if(typeof aD=="number"){aD=w[aD]}if(typeof aB=="number"){var aE=aD.datapoints.pointsize;aB=aD.datapoints.points.slice(aE*aB,aE*(aB+1))}var aC=Q(aD,aB);if(aC!=-1){aj.splice(aC,1);aa()}}function Q(aD,aE){for(var aB=0;aB<aj.length;++aB){var aC=aj[aB];if(aC.series==aD&&aC.point[0]==aE[0]&&aC.point[1]==aE[1]){return aB}}return -1}function ah(aB,aH){var aF=aH[0],aD=aH[1],aI=aB.xaxis,aG=aB.yaxis,aJ=(typeof aB.highlightColor==="string")?aB.highlightColor:e.color.parse(aB.color).scale("a",0.5).toString();if(aF<aI.min||aF>aI.max||aD<aG.min||aD>aG.max){return}var aE=aB.points.radius+aB.points.lineWidth/2;az.lineWidth=aE;az.strokeStyle=aJ;var aC=1.5*aE;aF=aI.p2c(aF);aD=aG.p2c(aD);az.beginPath();if(aB.points.symbol=="circle"){az.arc(aF,aD,aC,0,2*Math.PI,false)}else{aB.points.symbol(az,aF,aD,aC,false)}az.closePath();az.stroke()}function al(aE,aB){var aF=(typeof aE.highlightColor==="string")?aE.highlightColor:e.color.parse(aE.color).scale("a",0.5).toString(),aD=aF,aC;switch(aE.bars.align){case"left":aC=0;break;case"right":aC=-aE.bars.barWidth;break;default:aC=-aE.bars.barWidth/2}az.lineWidth=aE.bars.lineWidth;az.strokeStyle=aF;an(aB[0],aB[1],aB[2]||0,aC,aC+aE.bars.barWidth,function(){return aD},aE.xaxis,aE.yaxis,az,aE.bars.horizontal,aE.bars.lineWidth)}function y(aJ,aB,aH,aC){if(typeof aJ=="string"){return aJ}else{var aI=G.createLinearGradient(0,aH,0,aB);for(var aE=0,aD=aJ.colors.length;aE<aD;++aE){var aF=aJ.colors[aE];if(typeof aF!="string"){var aG=e.color.parse(aC);if(aF.brightness!=null){aG=aG.scale("rgb",aF.brightness)}if(aF.opacity!=null){aG.a*=aF.opacity}aF=aG.toString()}aI.addColorStop(aE/(aD-1),aF)}return aI}}}e.plot=function(k,g,f){var h=new c(e(k),g,f,e.plot.plugins);return h};e.plot.version="0.8.3";e.plot.plugins=[];e.fn.plot=function(g,f){return this.each(function(){e.plot(this,g,f)})};function b(g,f){return f*Math.floor(g/f)}})(jQuery);(function(a){var m={xaxis:{timezone:null,timeformat:null,twelveHourClock:false,monthNames:null}};function g(p,o){return o*Math.floor(p/o)}function l(w,q,u,p){if(typeof w.strftime=="function"){return w.strftime(q)}var z=function(B,r){B=""+B;r=""+(r==null?"0":r);return B.length==1?r+B:B};var o=[];var A=false;var y=w.getHours();var v=y<12;if(u==null){u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(p==null){p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}var s;if(y>12){s=y-12}else{if(y==0){s=12}else{s=y}}for(var t=0;t<q.length;++t){var x=q.charAt(t);if(A){switch(x){case"a":x=""+p[w.getDay()];break;case"b":x=""+u[w.getMonth()];break;case"d":x=z(w.getDate());break;case"e":x=z(w.getDate()," ");break;case"h":case"H":x=z(y);break;case"I":x=z(s);break;case"l":x=z(s," ");break;case"m":x=z(w.getMonth()+1);break;case"M":x=z(w.getMinutes());break;case"q":x=""+(Math.floor(w.getMonth()/3)+1);break;case"S":x=z(w.getSeconds());break;case"y":x=z(w.getFullYear()%100);break;case"Y":x=""+w.getFullYear();break;case"p":x=(v)?("am"):("pm");break;case"P":x=(v)?("AM"):("PM");break;case"w":x=""+w.getDay();break}o.push(x);A=false}else{if(x=="%"){A=true}else{o.push(x)}}}return o.join("")}function k(t){function o(v,u,p,w){v[u]=function(){return p[w].apply(p,arguments)}}var r={date:t};if(t.strftime!=undefined){o(r,"strftime",t,"strftime")}o(r,"getTime",t,"getTime");o(r,"setTime",t,"setTime");var q=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(var s=0;s<q.length;s++){o(r,"get"+q[s],t,"getUTC"+q[s]);o(r,"set"+q[s],t,"setUTC"+q[s])}return r}function e(p,o){if(o.timezone=="browser"){return new Date(p)}else{if(!o.timezone||o.timezone=="utc"){return k(new Date(p))}else{if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var q=new timezoneJS.Date();q.setTimezone(o.timezone);q.setTime(p);return q}else{return k(new Date(p))}}}}var c={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,quarter:3*30*24*60*60*1000,year:365.2425*24*60*60*1000};var f=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]];var b=f.concat([[3,"month"],[6,"month"],[1,"year"]]);var d=f.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function h(o){o.hooks.processOptions.push(function(q,p){a.each(q.getAxes(),function(t,r){var s=r.options;if(s.mode=="time"){r.tickGenerator=function(A){var G=[];var F=e(A.min,s);var y=0;var J=(s.tickSize&&s.tickSize[1]==="quarter")||(s.minTickSize&&s.minTickSize[1]==="quarter")?d:b;if(s.minTickSize!=null){if(typeof s.tickSize=="number"){y=s.tickSize}else{y=s.minTickSize[0]*c[s.minTickSize[1]]}}for(var E=0;E<J.length-1;++E){if(A.delta<(J[E][0]*c[J[E][1]]+J[E+1][0]*c[J[E+1][1]])/2&&J[E][0]*c[J[E][1]]>=y){break}}var L=J[E][0];var H=J[E][1];if(H=="year"){if(s.minTickSize!=null&&s.minTickSize[1]=="year"){L=Math.floor(s.minTickSize[0])}else{var w=Math.pow(10,Math.floor(Math.log(A.delta/c.year)/Math.LN10));var u=(A.delta/c.year)/w;if(u<1.5){L=1}else{if(u<3){L=2}else{if(u<7.5){L=5}else{L=10}}}L*=w}if(L<1){L=1}}A.tickSize=s.tickSize||[L,H];var D=A.tickSize[0];H=A.tickSize[1];var z=D*c[H];if(H=="second"){F.setSeconds(g(F.getSeconds(),D))}else{if(H=="minute"){F.setMinutes(g(F.getMinutes(),D))}else{if(H=="hour"){F.setHours(g(F.getHours(),D))}else{if(H=="month"){F.setMonth(g(F.getMonth(),D))}else{if(H=="quarter"){F.setMonth(3*g(F.getMonth()/3,D))}else{if(H=="year"){F.setFullYear(g(F.getFullYear(),D))}}}}}}F.setMilliseconds(0);if(z>=c.minute){F.setSeconds(0)}if(z>=c.hour){F.setMinutes(0)}if(z>=c.day){F.setHours(0)}if(z>=c.day*4){F.setDate(1)}if(z>=c.month*2){F.setMonth(g(F.getMonth(),3))}if(z>=c.quarter*2){F.setMonth(g(F.getMonth(),6))}if(z>=c.year){F.setMonth(0)}var K=0;var I=Number.NaN;var B;do{B=I;I=F.getTime();G.push(I);if(H=="month"||H=="quarter"){if(D<1){F.setDate(1);var x=F.getTime();F.setMonth(F.getMonth()+(H=="quarter"?3:1));var C=F.getTime();F.setTime(I+K*c.hour+(C-x)*D);K=F.getHours();F.setHours(0)}else{F.setMonth(F.getMonth()+D*(H=="quarter"?3:1))}}else{if(H=="year"){F.setFullYear(F.getFullYear()+D)}else{F.setTime(I+z)}}}while(I<A.max&&I!=B);return G};r.tickFormatter=function(A,w){var y=e(A,w.options);if(s.timeformat!=null){return l(y,s.timeformat,s.monthNames,s.dayNames)}var E=(w.options.tickSize&&w.options.tickSize[1]=="quarter")||(w.options.minTickSize&&w.options.minTickSize[1]=="quarter");var D=w.tickSize[0]*c[w.tickSize[1]];var z=w.max-w.min;var C=(s.twelveHourClock)?" %p":"";var B=(s.twelveHourClock)?"%I":"%H";var u;if(D<c.minute){u=B+":%M:%S"+C}else{if(D<c.day){if(z<2*c.day){u=B+":%M"+C}else{u="%b %d "+B+":%M"+C}}else{if(D<c.month){u="%b %d"}else{if((E&&D<c.quarter)||(!E&&D<c.year)){if(z<c.year){u="%b"}else{u="%b %Y"}}else{if(E&&D<c.year){if(z<c.year){u="Q%q"}else{u="Q%q %Y"}}else{u="%Y"}}}}}var x=l(y,u,s.monthNames,s.dayNames);return x}}})})}a.plot.plugins.push({init:h,options:m,name:"time",version:"1.0"});a.plot.formatDate=l;a.plot.dateGenerator=e})(jQuery);(function(d){function e(x){var r={image:"red-pointer.png",width:19,height:10};var t=[],k,D=false,g;x.getEvents=function(){return t};x.hideEvents=function(F){d.each(t,function(G,H){if(p(H.level(),F)){H.visual().getObject().hide()}})};x.showEvents=function(F){x.hideEvents();d.each(t,function(G,H){if(!p(H.level(),F)){H.hide()}});q()};x.hooks.processOptions.push(function(G,F){if(F.events.data!=null){D=true}});x.hooks.draw.push(function(I,H){var G=I.getOptions();var J=I.getXAxes()[G.events.xaxis-1];if(D){if(t.length<1){_lastRange=J.max-J.min;if(G.events.clustering){var F=o(G.events.types,G.events.data,J.max-J.min);k=F.types;y(F.data)}else{k=G.events.types;y(G.events.data)}}else{B()}}q()});var q=function(){var H=x.getPlotOffset();var G=H.left,F=x.width()-H.right;d.each(t,function(I,J){if(C(J.getOptions().min)&&!J.isHidden()){J.visual().draw()}else{J.visual().getObject().hide()}});v();m()};var p=function(H,G){var F={};if(!G){F.start=0;F.end=t.length-1}else{F.start=(G.min==undefined)?0:G.min;F.end=(G.max==undefined)?t.length-1:G.max}if(H>=F.start&&H<=F.end){return true}return false};var A=function(){d.each(t,function(F,G){G.visual().clear()});t=[]};var B=function(){var H=x.getPlotOffset(),G,F;var I=x.getXAxes()[x.getOptions().events.xaxis-1];d.each(t,function(J,K){F=H.top+x.height()-K.visual().height();G=I.p2c(K.getOptions().min)+H.left-K.visual().width()/2;K.visual().moveTo({top:F,left:G})})};var h=function(F,I,G){var H=d('<div id="tooltip" class=""></div>').appendTo("body").fadeIn(200);d('<div id="title">&nbsp;'+G.title+"&nbsp;</div>").appendTo(H);d('<div id="description">&nbsp;'+G.description+"&nbsp;</div>").appendTo(H);H.css({top:I-H.height()-5,left:F})};var l=function(F){window.open(F.eventType)};var y=function(F){d.each(F,function(G,H){var I=(x.getOptions().events.levels==null||!k||!k[H.eventType])?0:k[H.eventType].level;if(I>x.getOptions().events.levels){throw"A type's level has exceeded the maximum. Level="+I+", Max levels:"+(x.getOptions().events.levels)}t.push(new a(H,z(H),I))});t.sort(c)};var v=function(){var F=[],G={},I,H,J=0;d.each(t,function(K,L){if(H){if(L.getOptions().min==H.getOptions().min){if(!G.min){G.min=K}G.max=K}else{if(G.min){F.push(G);G={}}}}H=L});if(G.min){F.push(G)}d.each(F,function(K,M){var L=t.splice(M.min-J,M.max-M.min+1);d.each(L,function(N,O){O.visual().clear()});J+=M.max-M.min+1})};var m=function(){var J=x.getXAxes()[x.getOptions().events.xaxis-1];var H,K,N,I,F=0,M=-1;pright=x.width()-x.getPlotOffset().right;var L=function(){I=t[M].getOptions().min-(t[M].getOptions().min-t[F].getOptions().min)/2;N=J.p2c(I);while(F<=M){t[F++].visual().getObject().hide()}if(C(I)){w("#000",1,{x:N,y:0},{x:N,y:x.height()})}};if(J.min&&J.max){H=J.max-J.min;for(var G=1;G<t.length;G++){K=t[G].getOptions().min-t[G-1].getOptions().min;if(K/H>0.007){if(M!=-1){L()}M=-1;F=G}else{M=G;if(G==t.length-1){L()}}}}};var z=function(H){var I=x.getPlaceholder(),J=x.getPlotOffset(),P,Q=x.getXAxes()[x.getOptions().events.xaxis-1],M=x.getAxes();var O,K,G,N,F,L;if(M.yaxis&&M.yaxis.used){P=M.yaxis}if(M.yaxis2&&M.yaxis2.used){P=M.yaxis2}if(k==null||!k[H.eventType]||!k[H.eventType].icon){N=r;F=0}else{N=k[H.eventType].icon;F=k[H.eventType].level}G=d('<img style="position:absolute;" src="'+N.image+'">').appendTo(I);O=J.top+x.height()-N.height;K=Q.p2c(H.min)+J.left-N.width/2;G.css({left:K+"px",top:O,width:N.width,height:N.height});G.hide();G.data({event:H});G.click(function(){l(d(this).data("event"))});G.hover(function(){var R=d(this).offset();h(R.left+d(this).width()/2,R.top,d(this).data("event"));if(H.min!=H.max){x.setSelection({xaxis:{from:H.min,to:H.max},yaxis:{from:P.min,to:P.max}})}},function(){d("#tooltip").remove()});L=new f(G,function(R){R.show()},function(R){R.remove()},function(S,R){S.css({top:R.top,left:R.left})},K,O,G.width(),G.height());return L};var u=function(G,L){var I=[],K,J,H,F;d.each(t,function(M,N){K=N.div.offset().left;J=N.div.offset().top;H=N.div.width();F=N.div.height();if(G>=K&&G<=K+H&&L>=J&&L<=J+F){I.push(N)}return I})};var C=function(F){var H=x.getXAxes()[x.getOptions().events.xaxis-1];var G=H.p2c(F);return G>0&&G<H.p2c(H.max)};var w=function(I,F,K,J){var G=x.getCanvas().getContext("2d");var H=x.getPlotOffset();G.save();G.translate(H.left,H.top);G.beginPath();G.strokeStyle=I;G.lineWidth=F;G.moveTo(K.x,K.y);G.lineTo(J.x,J.y);G.stroke();G.restore()};var o=function(I,H,G){var F,K=[],J=[];F=s(H);d.each(F.eventTypes,function(L,M){K.push(E(F.groupedEvents[M],1,G))});d.each(K,function(L,M){d.each(M,function(O,N){var P={min:N[0].min,max:N[N.length-1].min,eventType:N[0].eventType+",cluster",title:"Cluster of: "+N[0].title,description:N[0].description+", Number of events in the cluster: "+N.length};J.push(P)})});return{types:I,data:J}};var s=function(F){var H=[],G={};d.each(F,function(I,J){if(!G[J.eventType]){G[J.eventType]=[];H.push(J.eventType)}G[J.eventType].push(J)});return{eventTypes:H,groupedEvents:G}};var E=function(O,K,F){var N,L=[],I=0,H,M;for(var G=1;G<O.length-1;G++){I+=O[G].min-O[G-1].min}H=I/(O.length-2);N=[O[0]];for(var G=1;G<O.length;G++){var J=O[G].min-O[G-1].min;M=J/F;if(J>H*K&&M>0.05){L.push(N);N=[O[G]]}else{N.push(O[G])}}L.push(N);return L}}var b={events:{levels:null,data:null,types:null,xaxis:1,clustering:false}};d.plot.plugins.push({init:e,options:b,name:"events",version:"0.20"});function f(l,v,s,p,h,t,g,w){var u=l,x=v,r=s,q=p,o={left:h,top:t},k=g,m=w;this.width=function(){return k};this.height=function(){return m};this.position=function(){return o};this.draw=function(){x(u)};this.clear=function(){r(u)};this.getObject=function(){return u};this.moveTo=function(y){o=y;q(u,o)}}function a(k,o,q){var p,h=k,l=o,m=q,g=false;this.visual=function(){return l};this.level=function(){return m};this.getOptions=function(){return h};this.getParent=function(){return p};this.isHidden=function(){return g};this.hide=function(){g=true};this.unhide=function(){g=false}}function c(h,g){var k=h.getOptions(),l=g.getOptions();if(k.min>l.min){return 1}if(k.min<l.min){return -1}return 0}})(jQuery);(function(c){var e=10;var a=0.95;function d(z){var h=null,E=null,k=null,q=null,w=null,r=null,f=false,y=null;var l=[];z.hooks.processOptions.push(function(G,F){if(F.series.pie.show){F.grid.show=false;if(F.series.pie.label.show=="auto"){if(F.legend.show){F.series.pie.label.show=false}else{F.series.pie.label.show=true}}if(F.series.pie.radius=="auto"){if(F.series.pie.label.show){F.series.pie.radius=3/4}else{F.series.pie.radius=1}}if(F.series.pie.tilt>1){F.series.pie.tilt=1}else{if(F.series.pie.tilt<0){F.series.pie.tilt=0}}}});z.hooks.bindEvents.push(function(H,F){var G=H.getOptions();if(G.series.pie.show){if(G.grid.hoverable){F.unbind("mousemove").mousemove(v)}if(G.grid.clickable){F.unbind("click").click(o)}}});z.hooks.processDatapoints.push(function(J,G,H,I){var F=J.getOptions();if(F.series.pie.show){A(J,G,H,I)}});z.hooks.drawOverlay.push(function(G,H){var F=G.getOptions();if(F.series.pie.show){B(G,H)}});z.hooks.draw.push(function(H,G){var F=H.getOptions();if(F.series.pie.show){s(H,G)}});function A(H,F,G){if(!f){f=true;h=H.getCanvas();E=c(h).parent();k=H.getOptions();H.setData(D(H.getData()))}}function D(K){var I=0,H=0,M=0,F=k.series.pie.combine.color,L=[];for(var G=0;G<K.length;++G){var J=K[G].data;if(c.isArray(J)&&J.length==1){J=J[0]}if(c.isArray(J)){if(!isNaN(parseFloat(J[1]))&&isFinite(J[1])){J[1]=+J[1]}else{J[1]=0}}else{if(!isNaN(parseFloat(J))&&isFinite(J)){J=[1,+J]}else{J=[1,0]}}K[G].data=[J]}for(var G=0;G<K.length;++G){I+=K[G].data[0][1]}for(var G=0;G<K.length;++G){var J=K[G].data[0][1];if(J/I<=k.series.pie.combine.threshold){H+=J;M++;if(!F){F=K[G].color}}}for(var G=0;G<K.length;++G){var J=K[G].data[0][1];if(M<2||J/I>k.series.pie.combine.threshold){L.push(c.extend(K[G],{data:[[1,J]],color:K[G].color,label:K[G].label,angle:J*Math.PI*2/I,percent:J/(I/100)}))}}if(M>1){L.push({data:[[1,H]],color:F,label:k.series.pie.combine.label,angle:H*Math.PI*2/I,percent:H/(I/100)})}return L}function s(K,N){if(!E){return}var G=K.getPlaceholder().width(),I=K.getPlaceholder().height(),M=E.children().filter(".legend").children().width()||0;y=N;f=false;q=Math.min(G,I/k.series.pie.tilt)/2;r=I/2+k.series.pie.offset.top;w=G/2;if(k.series.pie.offset.left=="auto"){if(k.legend.position.match("w")){w+=M/2}else{w-=M/2}if(w<q){w=q}else{if(w>G-q){w=G-q}}}else{w+=k.series.pie.offset.left}var L=K.getData(),O=0;do{if(O>0){q*=a}O+=1;J();if(k.series.pie.tilt<=0.8){H()}}while(!F()&&O<e);if(O>=e){J();E.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")}if(K.setSeries&&K.insertLegend){K.setSeries(L);K.insertLegend()}function J(){y.clearRect(0,0,G,I);E.children().filter(".pieLabel, .pieLabelBackground").remove()}function H(){var U=k.series.pie.shadow.left;var T=k.series.pie.shadow.top;var R=10;var S=k.series.pie.shadow.alpha;var P=k.series.pie.radius>1?k.series.pie.radius:q*k.series.pie.radius;if(P>=G/2-U||P*k.series.pie.tilt>=I/2-T||P<=R){return}y.save();y.translate(U,T);y.globalAlpha=S;y.fillStyle="#000";y.translate(w,r);y.scale(1,k.series.pie.tilt);for(var Q=1;Q<=R;Q++){y.beginPath();y.arc(0,0,P,0,Math.PI*2,false);y.fill();P-=Q}y.restore()}function F(){var S=Math.PI*k.series.pie.startAngle;var P=k.series.pie.radius>1?k.series.pie.radius:q*k.series.pie.radius;y.save();y.translate(w,r);y.scale(1,k.series.pie.tilt);y.save();var U=S;for(var R=0;R<L.length;++R){L[R].startAngle=U;T(L[R].angle,L[R].color,true)}y.restore();if(k.series.pie.stroke.width>0){y.save();y.lineWidth=k.series.pie.stroke.width;U=S;for(var R=0;R<L.length;++R){T(L[R].angle,k.series.pie.stroke.color,false)}y.restore()}C(y);y.restore();if(k.series.pie.label.show){return Q()}else{return true}function T(X,V,W){if(X<=0||isNaN(X)){return}if(W){y.fillStyle=V}else{y.strokeStyle=V;y.lineJoin="round"}y.beginPath();if(Math.abs(X-Math.PI*2)>1e-9){y.moveTo(0,0)}y.arc(0,0,P,U,U+X/2,false);y.arc(0,0,P,U+X/2,U+X,false);y.closePath();U+=X;if(W){y.fill()}else{y.stroke()}}function Q(){var Y=S;var V=k.series.pie.label.radius>1?k.series.pie.label.radius:q*k.series.pie.label.radius;for(var X=0;X<L.length;++X){if(L[X].percent>=k.series.pie.label.threshold*100){if(!W(L[X],Y,X)){return false}}Y+=L[X].angle}return true;function W(al,ae,ac){if(al.data[0][1]==0){return true}var an=k.legend.labelFormatter,am,aa=k.series.pie.label.formatter;if(an){am=an(al.label,al)}else{am=al.label}if(aa){am=aa(am,al)}var af=((ae+al.angle)+ae)/2;var ak=w+Math.round(Math.cos(af)*V);var ai=r+Math.round(Math.sin(af)*V)*k.series.pie.tilt;var ab="<span class='pieLabel' id='pieLabel"+ac+"' style='position:absolute;top:"+ai+"px;left:"+ak+"px;'>"+am+"</span>";E.append(ab);var aj=E.children("#pieLabel"+ac);var Z=(ai-aj.height()/2);var ad=(ak-aj.width()/2);aj.css("top",Z);aj.css("left",ad);if(0-Z>0||0-ad>0||I-(Z+aj.height())<0||G-(ad+aj.width())<0){return false}if(k.series.pie.label.background.opacity!=0){var ag=k.series.pie.label.background.color;if(ag==null){ag=al.color}var ah="top:"+Z+"px;left:"+ad+"px;";c("<div class='pieLabelBackground' style='position:absolute;width:"+aj.width()+"px;height:"+aj.height()+"px;"+ah+"background-color:"+ag+";'></div>").css("opacity",k.series.pie.label.background.opacity).insertBefore(aj)}return true}}}}function C(F){if(k.series.pie.innerRadius>0){F.save();var G=k.series.pie.innerRadius>1?k.series.pie.innerRadius:q*k.series.pie.innerRadius;F.globalCompositeOperation="destination-out";F.beginPath();F.fillStyle=k.series.pie.stroke.color;F.arc(0,0,G,0,Math.PI*2,false);F.fill();F.closePath();F.restore();F.save();F.beginPath();F.strokeStyle=k.series.pie.stroke.color;F.arc(0,0,G,0,Math.PI*2,false);F.stroke();F.closePath();F.restore()}}function t(I,J){for(var K=false,H=-1,F=I.length,G=F-1;++H<F;G=H){((I[H][1]<=J[1]&&J[1]<I[G][1])||(I[G][1]<=J[1]&&J[1]<I[H][1]))&&(J[0]<(I[G][0]-I[H][0])*(J[1]-I[H][1])/(I[G][1]-I[H][1])+I[H][0])&&(K=!K)}return K}function u(N,M){var H=z.getData(),K=z.getOptions(),L=K.series.pie.radius>1?K.series.pie.radius:q*K.series.pie.radius,Q,O;for(var X=0;X<H.length;++X){var T=H[X];if(T.pie.show){y.save();y.beginPath();y.moveTo(0,0);y.arc(0,0,L,T.startAngle,T.startAngle+T.angle/2,false);y.arc(0,0,L,T.startAngle+T.angle/2,T.startAngle+T.angle,false);y.closePath();Q=N-w;O=M-r;if(y.isPointInPath){if(y.isPointInPath(N-w,M-r)){y.restore();return{datapoint:[T.percent,T.data],dataIndex:0,series:T,seriesIndex:X}}}else{var W=L*Math.cos(T.startAngle),V=L*Math.sin(T.startAngle),I=L*Math.cos(T.startAngle+T.angle/4),F=L*Math.sin(T.startAngle+T.angle/4),R=L*Math.cos(T.startAngle+T.angle/2),P=L*Math.sin(T.startAngle+T.angle/2),Z=L*Math.cos(T.startAngle+T.angle/1.5),Y=L*Math.sin(T.startAngle+T.angle/1.5),J=L*Math.cos(T.startAngle+T.angle),G=L*Math.sin(T.startAngle+T.angle),U=[[0,0],[W,V],[I,F],[R,P],[Z,Y],[J,G]],S=[Q,O];if(t(U,S)){y.restore();return{datapoint:[T.percent,T.data],dataIndex:0,series:T,seriesIndex:X}}}y.restore()}}return null}function v(F){p("plothover",F)}function o(F){p("plotclick",F)}function p(F,L){var G=z.offset();var J=parseInt(L.pageX-G.left);var H=parseInt(L.pageY-G.top);var N=u(J,H);if(k.grid.autoHighlight){for(var I=0;I<l.length;++I){var K=l[I];if(K.auto==F&&!(N&&K.series==N.series)){g(K.series)}}}if(N){m(N.series,F)}var M={pageX:L.pageX,pageY:L.pageY};E.trigger(F,[M,N])}function m(G,H){var F=x(G);if(F==-1){l.push({series:G,auto:H});z.triggerRedrawOverlay()}else{if(!H){l[F].auto=false}}}function g(G){if(G==null){l=[];z.triggerRedrawOverlay()}var F=x(G);if(F!=-1){l.splice(F,1);z.triggerRedrawOverlay()}}function x(H){for(var F=0;F<l.length;++F){var G=l[F];if(G.series==H){return F}}return -1}function B(J,K){var H=J.getOptions();var F=H.series.pie.radius>1?H.series.pie.radius:q*H.series.pie.radius;K.save();K.translate(w,r);K.scale(1,H.series.pie.tilt);for(var I=0;I<l.length;++I){G(l[I].series)}C(K);K.restore();function G(L){if(L.angle<=0||isNaN(L.angle)){return}K.fillStyle="rgba(255, 255, 255, "+H.series.pie.highlight.opacity+")";K.beginPath();if(Math.abs(L.angle-Math.PI*2)>1e-9){K.moveTo(0,0)}K.arc(0,0,F,L.startAngle,L.startAngle+L.angle/2,false);K.arc(0,0,F,L.startAngle+L.angle/2,L.startAngle+L.angle,false);K.closePath();K.fill()}}}var b={series:{pie:{show:false,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:0.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(f,g){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+g.color+";'>"+f+"<br/>"+Math.round(g.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};c.plot.plugins.push({init:d,options:b,name:"pie",version:"1.1"})})(jQuery);(function(f){var b={canvas:true};var c,d,a;var e=Object.prototype.hasOwnProperty;function g(l,k){var h=k.Canvas;if(c==null){d=h.prototype.getTextInfo,a=h.prototype.addText,c=h.prototype.render}h.prototype.render=function(){if(!l.getOptions().canvas){return c.call(this)}var p=this.context,m=this._textCache;p.save();p.textBaseline="middle";for(var y in m){if(e.call(m,y)){var o=m[y];for(var x in o){if(e.call(o,x)){var r=o[x],t=true;for(var z in r){if(e.call(r,z)){var q=r[z],v=q.positions,B=q.lines;if(t){p.fillStyle=q.font.color;p.font=q.font.definition;t=false}for(var u=0,w;w=v[u];u++){if(w.active){for(var s=0,A;A=w.lines[s];s++){p.fillText(B[s].text,A[0],A[1])}}else{v.splice(u--,1)}}if(v.length==0){delete r[z]}}}}}}}p.restore()};h.prototype.getTextInfo=function(w,A,s,t,p){if(!l.getOptions().canvas){return d.call(this,w,A,s,t,p)}var x,m,r,q;A=""+A;if(typeof s==="object"){x=s.style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family}else{x=s}m=this._textCache[w];if(m==null){m=this._textCache[w]={}}r=m[x];if(r==null){r=m[x]={}}q=r[A];if(q==null){var o=this.context;if(typeof s!=="object"){var v=f("<div>&nbsp;</div>").css("position","absolute").addClass(typeof s==="string"?s:null).appendTo(this.getTextLayer(w));s={lineHeight:v.height(),style:v.css("font-style"),variant:v.css("font-variant"),weight:v.css("font-weight"),family:v.css("font-family"),color:v.css("color")};s.size=v.css("line-height",1).height();v.remove()}x=s.style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family;q=r[A]={width:0,height:0,positions:[],lines:[],font:{definition:x,color:s.color}};o.save();o.font=x;var B=(A+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var u=0;u<B.length;++u){var z=B[u],y=o.measureText(z);q.width=Math.max(y.width,q.width);q.height+=s.lineHeight;q.lines.push({text:z,width:y.width,height:s.lineHeight})}o.restore()}return q};h.prototype.addText=function(v,A,w,B,p,q,m,u,z){if(!l.getOptions().canvas){return a.call(this,v,A,w,B,p,q,m,u,z)}var o=this.getTextInfo(v,B,p,q,m),s=o.positions,D=o.lines;w+=o.height/D.length/2;if(z=="middle"){w=Math.round(w-o.height/2)}else{if(z=="bottom"){w=Math.round(w-o.height)}else{w=Math.round(w)}}if(!!(window.opera&&window.opera.version().split(".")[0]<12)){w-=2}for(var r=0,t;t=s[r];r++){if(t.x==A&&t.y==w){t.active=true;return}}t={active:true,lines:[],x:A,y:w};s.push(t);for(var r=0,C;C=D[r];r++){if(u=="center"){t.lines.push([Math.round(A-C.width/2),w])}else{if(u=="right"){t.lines.push([Math.round(A-C.width),w])}else{t.lines.push([Math.round(A),w])}}w+=C.height}}}f.plot.plugins.push({init:g,options:b,name:"canvas",version:"1.0"})})(jQuery);(function(b){var a={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};function c(h){var l={x:-1,y:-1,locked:false};h.setCrosshair=function e(p){if(!p){l.x=-1}else{var m=h.p2c(p);l.x=Math.max(0,Math.min(m.left,h.width()));l.y=Math.max(0,Math.min(m.top,h.height()))}h.triggerRedrawOverlay()};h.clearCrosshair=h.setCrosshair;h.lockCrosshair=function f(m){if(m){h.setCrosshair(m)}l.locked=true};h.unlockCrosshair=function g(){l.locked=false};function d(m){if(l.locked){return}if(l.x!=-1){l.x=-1;h.triggerRedrawOverlay()}}function k(m){if(l.locked){return}if(h.getSelection&&h.getSelection()){l.x=-1;return}var o=h.offset();l.x=Math.max(0,Math.min(m.pageX-o.left,h.width()));l.y=Math.max(0,Math.min(m.pageY-o.top,h.height()));h.triggerRedrawOverlay()}h.hooks.bindEvents.push(function(o,m){if(!o.getOptions().crosshair.mode){return}m.mouseout(d);m.mousemove(k)});h.hooks.drawOverlay.push(function(s,m){var t=s.getOptions().crosshair;if(!t.mode){return}var p=s.getPlotOffset();m.save();m.translate(p.left,p.top);if(l.x!=-1){var o=s.getOptions().crosshair.lineWidth%2?0.5:0;m.strokeStyle=t.color;m.lineWidth=t.lineWidth;m.lineJoin="round";m.beginPath();if(t.mode.indexOf("x")!=-1){var r=Math.floor(l.x)+o;m.moveTo(r,0);m.lineTo(r,s.height())}if(t.mode.indexOf("y")!=-1){var q=Math.floor(l.y)+o;m.moveTo(0,q);m.lineTo(s.width(),q)}m.stroke()}m.restore()});h.hooks.shutdown.push(function(o,m){m.unbind("mouseout",d);m.unbind("mousemove",k)})}b.plot.plugins.push({init:c,options:a,name:"crosshair",version:"1.0"})})(jQuery);function getCookie(a){cName="";pCOOKIES=new Array();pCOOKIES=document.cookie.split("; ");for(bb=0;bb<pCOOKIES.length;bb++){NmeVal=new Array();NmeVal=pCOOKIES[bb].split("=");if(NmeVal[0]==a){cName=unescape(NmeVal[1])}}return cName}function setCookie(c,e,a,g,d,f){var b=c+"="+escape(e)+"; ";if(a){b+="expires="+a.toUTCString()+"; "}if(g){b+="path="+g+"; "}if(d){b+="domain="+d+"; "}if(f){b+="secure; "}document.cookie=b}function setTimeOut(){setTimeout(function(){$("#cookiePolicy").fadeOut("slow",function(){$("#cookiePolicy").remove()})},150000)}function removeDivs(){$("#cookiePolicy").fadeOut("slow",function(){$("#cookiePolicy").remove()})}$(document).ready(function(){cookieValue=getCookie("hasVisited");if(cookieValue==""){$("#cookiePolicy").fadeIn("slow");setTimeOut()}$("#linkPrivacyPolicy").bind("click",function(){removeDivs()});$("#cookiePolicy").bind("click",function(){removeDivs();var a=new Date();a.setDate(a.getDate()+5*365);setCookie("hasVisited","0",a,"/")})});(function(g){function h(k,p){var e,r,q;q=p?p:1;e=Number.POSITIVE_INFINITY;r=Number.NEGATIVE_INFINITY;for(var m=0;m<k.length;m++){e=Math.min(e,k[m][q]),r=Math.max(r,k[m][q])}return{min:e,max:r,diff:r-e}}function l(k,m,e){g("#FLOTtooltip").remove();g('<div id="FLOTtooltip">'+e+"</div>").css({position:"absolute",display:"none",top:m+5,left:k+5,border:"1px solid #fdd",padding:"2px","background-color":"#fee",opacity:0.8}).appendTo("body").fadeIn(200)}function a(k,q,e){function s(t,u){return t[1]-u[1]}function r(t,u){return u[1]-t[1]}for(var m=[],p=0;p<k.length;p++){m.push(k[p])}e?m.sort(e):"a"===q?m.sort(s):m.sort(r);return m}function o(k){for(var m=[],e=0;e<k.length;e++){k[e][2]?m.push([k[e][0],k[e][2]]):m.push(k[e][0],k[e][0])}return m}function c(k){var m,e,q=[];m=h(k);for(var p=0;p<k.length;p++){e=100*((k[p][1]-m.min)/m.diff),q.push([k[p][0],e])}return q}function b(e){function k(m){var r;if("object"===typeof m){if("undefined"!==typeof m.image){r=e.ctx.createPattern(m.image,m.repeat)}else{r=e.radius?e.ctx.createRadialGradient(e.left,e.top,0,e.left,e.top,e.radius):e.ctx.createLinearGradient(0,0,e.width,e.height);for(var q=0;q<m.colors.length;q++){var p=m.colors[q];"string"!==typeof p&&(p=g.color.parse(e.defaultColor),null!==m.brightness&&p.scale("rgb",m.brightness),null!==m.opacity&&(p*=m.opacity),p=p.toString());r.addColorStop(q/(m.colors.length-1),p)}}}else{r="string"===typeof m?m:e.colors[m]}return r}return"object"===typeof e?"undefined"!==typeof e.dataIndex?"undefined"!==typeof e.serie.data[e.dataIndex].color?k(e.serie.data[e.dataIndex].color):e.colors[e.dataIndex]:"undefined"!==typeof e.serieIndex?"undefined"!==typeof e.serie.color?k(e.serie.color):e.colors[e.serieIndex]:"undefined"!==typeof e.color?k(e.color):"darkgreen":k(e)}function d(k,m){for(var e in m){k[e]?"object"===typeof m[e]&&d(k[e],m[e]):k[e]=m[e]}}function f(k,p,e,r,q){var m;k=e.xaxis.p2c(e.x);e=e.yaxis.p2c(e.y);m=r.xaxis.p2c(r.x);r=r.yaxis.p2c(r.y);p.beginPath();p.strokeStyle=q.strokeStyle;p.lineWidth=q.lineWidth;p.moveTo(k,e);p.lineTo(m,r);p.stroke()}g.plot.JUMlib={};g.plot.JUMlib.library={};g.plot.JUMlib.library.between=function(k,m,e){return e>m?k>=m&&k<=e:k>=e&&k<=m};g.plot.JUMlib.library.getMinMax=h;g.plot.JUMlib.library.showHover=function(k,m,e,q,p){if(e){k=e.series.data[e.dataIndex];if(p){p=p(k)}else{if(p="X:"+k[0]+"<br>Y:"+k[1],2<k.length){for(e=2;e<k.length;e++){p+="<br>"+k[e]}}}l(m.pageX,m.pageY,p)}else{!0===q?(p=m.x1+" / "+m.y1,l(m.pageX,m.pageY,p)):g("#FLOTtooltip").remove()}};g.plot.JUMlib.library.showTooltip=l;g.plot.JUMlib.library.loadScripts=function(k,q,e){function s(w,t){var u=g.Deferred(),v;v=setInterval(function(){clearInterval(v);u.reject()},q);g.getScript(w).done(function(){r[t]=!0;u.resolve()}).fail(function(x,z,A){console.log(w,x);r[t]=!1;u.reject()});return u.promise()}for(var r={},m=[],p=0;p<k.length;p++){m.push(s(k[p].path,k[p].name))}g.when.apply(null,m).then(function(){e(r)})};g.plot.JUMlib.library.loadJSON=function(k,q,e){function s(w,u){var t=g.Deferred(),v;v=setInterval(function(){clearInterval(v);t.reject()},q);g.getJSON(w,function(x){r[u]={data:x,name:u,loaded:!0}}).done(function(){t.resolve()}).fail(function(z,x,y){r[u]={name:u,loaded:!1};t.reject()});return t.promise()}for(var r={},m=[],p=0;p<k.length;p++){m.push(s(k[p].path,k[p].name))}g.when.apply(null,m).then(function(){e(r)})};g.plot.JUMlib.prepareData={};g.plot.JUMlib.prepareData.createQuartile=function(F,u,E){var C=[],x=[],r=[],t=[],m=[],p=[],I,D,q,G,A;I=(0.25*F.length).toFixed(0);D=(0.5*F.length).toFixed(0);q=(0.75*F.length).toFixed(0);G=F.length-1;for(var H=0;H<F[0].length;H++){A=[];for(var e=0;e<F.length;e++){A.push(F[e][H])}A.sort(function(s,k){return s-k});x.push([H,A[I]]);r.push([H,A[D]]);t.push([H,A[q]]);m.push([H,A[G]]);C.push([H,A[0]]);p.push([H,F[u][H]])}return[{data:m},{data:t},{data:r},{data:x},{data:C,color:"#ffffff"},{label:E,points:{show:!0},lines:{fill:null,steps:!1},data:p}]};g.plot.JUMlib.prepareData.createPercentile=function(u,q,t,s){var r=[],m=[],p=[],e,k;if(s.length){for(p.push([0]),r.push([]),e=0;e<s.length;e++){p.push(parseInt(u.length*s[e],0)),r.push([])}}else{for(e=0;e<s;e++){p.push(parseInt(u.length/s*e,0)),r.push([])}}p.push(u.length-1);r.push([]);for(e=0;e<u[0].length;e++){s=[];for(k=0;k<u.length;k++){s.push(u[k][e])}s.sort(function(w,v){return w-v});for(k=0;k<r.length;k++){r[k].push([e,s[p[k]]])}m.push([e,u[q][e]])}u=[];for(e=r.length-1;0<e;e--){u.push({data:r[e]})}u.push({data:r[0],color:"#ffffff"});u.push({label:t,points:{show:!0},lines:{fill:null,steps:!1},data:m});return u};g.plot.JUMlib.prepareData.createSimiliarity=function(k,p,e){var r=[];k=c(k);p=c(p);for(var q,m=0;m<k.length;m++){switch(e){case"diff":q=k[m][1]-p[m][1];break;case"abs":q=Math.abs(k[m][1]-p[m][1]);break;default:q=0}r.push([k[m][0],q])}return r};g.plot.JUMlib.prepareData.createWaterfall=function(u,q){var t=[],s=[],r=[],m=[],p=0,e=Number.POSITIVE_INFINITY,k;for(k=0;k<u.length;k++){u[k][2]?"undefined"===typeof u[k][1]?t.push([k,p]):(t.push([k,u[k][1]]),p=u[k][1]):0<u[k][1]?(m.push([k,-u[k][1]]),p+=u[k][1],s.push([k,p]),r.push([k,0])):(r.push([k,-u[k][1]]),p+=u[k][1],s.push([k,p])),e=Math.min(e,p)}p=[];for(k=0;k<u.length;k++){p.push([k,u[k][0]])}return{data:[{data:t,color:q.fixed},{data:s,bars:{show:!1},lines:{show:!1}},{data:r,color:q.negative},{data:m,color:q.positive}],ticks:p,yaxismin:e}};g.plot.JUMlib.prepareData.avg=function(u,q){for(var t=[],s=[],r,m,p=0;p<u.length;p++){r=p<q?0:p-q+1;s=[];s.push(u[p][0]);for(var e=1;e<u[p].length;e++){m=0;for(var k=r;k<=p;k++){m+=u[k][e]}s.push(m/(p-r+1))}t.push(s)}return t};g.plot.JUMlib.prepareData.max=function(u,q){for(var t=[],s=[],r,m,p=0;p<u.length;p++){r=p<q?0:p-q+1;s=[];s.push(u[p][0]);for(var e=1;e<u[p].length;e++){m=-Number.MAX_VALUE;for(var k=r;k<=p;k++){u[k][e]>m&&(m=u[k][e])}s.push(m)}t.push(s)}return t};g.plot.JUMlib.prepareData.min=function(u,q){for(var t=[],s=[],r,m,p=0;p<u.length;p++){r=p<q?0:p-q+1;s=[];s.push(u[p][0]);for(var e=1;e<u[p].length;e++){m=Number.MAX_VALUE;for(var k=r;k<=p;k++){u[k][e]<m&&(m=u[k][e])}s.push(m)}t.push(s)}return t};g.plot.JUMlib.prepareData.sort=a;g.plot.JUMlib.prepareData.sortTicks=function(k,m,e){k=a(k,m,e);for(m=0;m<k.length;m++){k[m][0]=m}return{data:k,ticks:o(k)}};g.plot.JUMlib.prepareData.pareto=function(v,q,u,t,r){var m=[],p="Others",e=!0,k=[],m=a(v,"d");0<q.length&&(p=q);e=u;if(t){for(v=0;v<t;v++){k.push(m[v])}r=0;for(v=t;v<m.length;v++){r+=m[v][1]}e&&k.push([t,r,p]);m=k}else{if(r){u=q=t=0;var w;for(v=0;v<m.length;v++){t+=m[v][1]}t=t*r/100;for(v=0;v<m.length;v++){q<t?(k.push(m[v]),q+=m[v][1],w=v):u+=m[v][1]}w++;e&&k.push([w,u,p]);m=k}}for(v=0;v<m.length;v++){m[v][0]=v}return{data:m,ticks:o(m)}};g.plot.JUMlib.prepareData.normalize=c;g.plot.JUMlib.prepareData.combineData=function(k,p){for(var e=[],r=0;r<k.length;r++){for(var q=[],m=0;m<k[r].length;m++){q.push([p[m],k[r][m]])}e.push(q)}return e};g.plot.JUMlib.data={};g.plot.JUMlib.data.createFont=function(e){return{style:e.css("font-style"),size:Math.round(0.8*(+e.css("font-size").replace("px","")||13)),variant:e.css("font-variant"),weight:e.css("font-weight"),family:e.css("font-family")}};g.plot.JUMlib.data.createColors=function(k,q){for(var e,t=[],r=k.colors,m=r.length,p=0,s=0;s<m;s++){t[s]=r[s]}if(m<q){for(s=m;s<q;s++){e=g.color.parse(r[s%m]||"#666"),0===s%m&&s&&(p=0<=p?0.5>p?-p-0.2:0:-p),t[s]=e.scale("rgb",1+p).toString()}}return t};g.plot.JUMlib.data.getColor=b;g.plot.JUMlib.data.loadImages=function(k,q,e){function s(w){var u=g.Deferred(),t,v;v=w.path+w.name+"."+w.type;t=setInterval(function(){clearInterval(t);u.reject()},q);g("<img />").attr("src",v).load(function(){r[w.name]=this;u.resolve()}).error(function(x,z,y){console.log(v,x);r[w.name]=null;u.reject()});return u.promise()}for(var r={},m=[],p=0;p<k.length;p++){m.push(s(k[p]))}g.when.apply(null,m).then(function(){e(r)})};g.plot.JUMlib.data.getCanvases=function(e){return{background:g(e).children(".flot-background"),base:g(e).children(".flot-base"),overlay:g(e).children(".flot-overlay")}};g.plot.JUMlib.data.extendEmpty=d;g.plot.JUMlib.drawing={};g.plot.JUMlib.drawing.drawLine=f;g.plot.JUMlib.drawing.drawRect=function(k,q,e,t,r,m){function p(x,w,v,u){x=u.image;"undefined"!==typeof x&&w.drawImage(x,v.x,v.y,v.width(),v.height())}function s(x,w,v,u){color=b({ctx:w,color:u.color,left:v.x,top:v.y,height:v.height,width:v.width});w.fillStyle=color;w.fillRect(v.x,v.y,v.width,v.height)}e={x:e.p2c(r.x),y:t.p2c(r.y),width:e.p2c(r.x+r.width)-e.p2c(r.x),height:t.p2c(r.y+r.height)-t.p2c(r.y)};switch(m.mode){case"image":p(k,q,e,m);break;case"color":s(k,q,e,m);break;case"userdefined":m.boxDraw(k,q,e,m);break;default:s(k,q,e,m)}};g.plot.JUMlib.drawing.drawLines=function(u,q){var t,s,r;t=u.getPlotOffset();s=u.getData();r=u.getCanvas().getContext("2d");r.translate(t.left,t.top);for(t=0;t<q.length;t++){var m=s[q[t].from.seriesIndex],p=s[q[t].to.seriesIndex],e=q[t].from,k=q[t].to;e.dataFieldX||(e.dataFieldX=0);e.dataFieldY||(e.dataFieldY=1);k.dataFieldX||(k.dataFieldX=0);k.dataFieldY||(k.dataFieldY=1);f(u,r,{xaxis:m.xaxis,yaxis:m.yaxis,x:m.data[e.dataIndex][e.dataFieldX],y:m.data[e.dataIndex][e.dataFieldY]},{xaxis:p.xaxis,yaxis:p.yaxis,x:p.data[k.dataIndex][k.dataFieldX],y:p.data[k.dataIndex][k.dataFieldY]},{strokeStyle:"red",lineWidth:5})}};g.plot.plugins.push({init:function(){},options:{},name:"JUMlib",version:"0.5"})})(jQuery);(function(b){b.plot.plugins.push({init:function(s){function c(f){f=h(f);if(f[1]){var e=f[1].series;!1!==e.points.show||e.lines.show&&!1!==e.lines.show||!1!==e.bars.show||u.trigger("plotclick",f)}}function w(f){if(l.grid.editable){f=h(f);if(f[1]){var e=null;if(f[1].series.editable){e=f[1].dataIndex.length?f[1].series.data[f[1].dataIndex[0]]:f[1].series.data[f[1].dataIndex];switch(f[1].series.editMode){case"x":f[0].y=e[1];f[0].y1=e[1];break;case"y":f[0].x=e[0],f[0].x1=e[0]}l.series.justEditing=f}u.trigger("plotdown",f)}u.css("cursor","auto")}}function g(f){if(l.series.justEditing&&(u.trigger("plotup",l.series.justEditing),u.trigger("datadrop",l.series.justEditing),f=l.series.justEditing[1].series,!0===f.autoEdit)){var e=l.series.justEditing[0];f.data[f.dataIndex]=[e.x1,e.y1]}l.series.justEditing=null;s.triggerRedrawOverlay()}function d(f){var e;f=h(f);if(l.series.justEditing){switch(e=l.series.justEditing[1].seriesIndex,s.getData()[e].editMode){case"none":break;case"x":l.series.justEditing[0].x=f[0].x;l.series.justEditing[0].x1=f[0].x1;l.series.justEditing[0].pageX=f[0].pageX;break;case"y":l.series.justEditing[0].y=f[0].y;l.series.justEditing[0].y1=f[0].y1;l.series.justEditing[0].pageY=f[0].pageY;break;case"v":f[1]&&(l.series.justEditing[0]=f[0],l.series.justEditing[0].value=f[1].value);break;case"xy":l.series.justEditing[0]=f[0];break;default:l.series.justEditing[0]=f[0]}}else{if(f[1]){l.series.justMoving=f;switch(f[1].series.editMode){case"x":u.css("cursor","col-resize");break;case"y":u.css("cursor","row-resize");break;default:u.css("cursor","crosshair")}e=f[1].series;!1!==e.points.show||e.lines.show&&!1!==e.lines.show||!1!==e.bars.show||u.trigger("plothover",f)}else{u.css("cursor","auto"),l.series.justMoving=null}}s.triggerRedrawOverlay()}function h(t){var p,e=null,m=v.offset(),r=t.pageX-m.left-o.left,f=t.pageY-m.top-o.top;p=s.c2p({left:r,top:f});p.pageX=t.pageX;p.pageY=t.pageY;t=null;for(var k,e=0;e<s.getData().length;e++){var q=s.getData()[e];null!==q.nearBy.findItem&&(t=q.nearBy.findItem(r,f,e,q));if(t){break}}t?(e=t[0],r=t[1],f=s.getData()[e].datapoints.pointsize,2<t.length&&(k=t[2]),e={datapoint:s.getData()[e].datapoints.points.slice(r*f,(r+1)*f),dataIndex:r,series:s.getData()[e],seriesIndex:e,value:k}):e=null;e&&(e.pageX=parseInt(e.series.xaxis.p2c(e.datapoint[0])+m.left+s.getPlotOffset().left,0),e.pageY=parseInt(e.series.yaxis.p2c(e.datapoint[1])+m.top+s.getPlotOffset().top,0));return[p,e]}var l=null,v=null,o=null,u=null;s.hooks.bindEvents.push(function(f,e){l=f.getOptions();v=e;o=f.getPlotOffset();u=f.getPlaceholder();if(l.grid.editable||l.grid.clickable||l.grid.hoverable){v.mousedown(w),v.mouseup(g),v.mousemove(d),v.click(c)}});s.hooks.drawOverlay.push(function(p,k){var e,f,m;k.save();k.clearRect(0,0,p.getPlaceholder().width,p.getPlaceholder().height);k.translate(p.getPlotOffset().left,p.getPlotOffset().top);l.series.justEditing?(e=p.getData()[l.series.justEditing[1].seriesIndex],f=l.series.justEditing[0].x1,m=l.series.justEditing[0].y1,e.nearBy.drawEdit&&e.nearBy.drawEdit(k,f,m,e)):l.series.justMoving&&(e=p.getData()[l.series.justMoving[1].seriesIndex],e.nearBy.drawHover&&e.nearBy.drawHover(k,e,l.series.justMoving[1].dataIndex));k.restore()})},options:{series:{editable:null,editMode:"xy",justEditing:null,justMoving:null,autoSet:!1,nearBy:{distance:6,findItem:function(H,w,u,z){var x=z.nearBy.distance,B=x*x+1,D=null,L,G,K=z.xaxis,J=z.yaxis,I=z.datapoints.points,E=z.datapoints.pointsize,F=K.c2p(H),A=J.c2p(w),C=x/K.scale,v=x/J.scale;K.options.inverseTransform&&(C=Number.MAX_VALUE);J.options.inverseTransform&&(v=Number.MAX_VALUE);for(x=0;x<I.length;x+=E){if(L=I[x],G=I[x+1],null!==L){switch(z.nearBy.findMode){case"circle":if(L-F>C||L-F<-C){continue}if(G-A>v||G-A<-v){continue}L=Math.abs(K.p2c(L)-H);G=Math.abs(J.p2c(G)-w);G=L*L+G*G;G<B&&(B=G,D=[u,x/E]);break;case"vertical":a(H,K.p2c(L),K.p2c(L+z.nearBy.width))&&(G=Math.abs(J.p2c(G)-w),G<z.nearBy.distance&&(D=[u,x/E]));break;case"horizontal":var o=0>J.datamin?Math.max(0,J.datamin):Math.min(0,J.datamin);a(w,J.p2c(G),J.p2c(o))&&(G=Math.abs(K.p2c(L)-H),G<=z.nearBy.distance&&(D=[u,x/E]))}}}return D},findMode:"circle",drawEdit:function(e,g,f,l){var h=l.xaxis,c=l.yaxis;if(!(g<h.min||g>h.max||f<c.min||f>c.max)){switch(l.nearBy.findMode){case"circle":var d=l.points.radius+l.points.lineWidth/2;e.lineWidth=d;e.strokeStyle=b.color.parse(l.color).scale("a",0.5).toString();l=1.5*d;g=h.p2c(g);f=c.p2c(f);e.beginPath();e.arc(g,f,l,0,2*Math.PI,!1);e.fillStyle="#ff8080";e.fill();e.lineWidth=2;e.moveTo(g,f-l);e.lineTo(g,f+l);e.moveTo(g-l,f);e.lineTo(g+l,f);e.closePath();e.stroke();break;case"vertical":e.lineWidth=2;e.strokeStyle=b.color.parse(l.color).scale("a",0.5).toString();e.beginPath();e.moveTo(h.p2c(g),c.p2c(f));e.lineTo(h.p2c(g+l.nearBy.width),c.p2c(f));e.closePath();e.stroke();break;case"horizontal":e.lineWidth=4,e.strokeStyle=b.color.parse(l.color).scale("a",0.5).toString(),e.beginPath(),e.moveTo(h.p2c(g),c.p2c(f)),f=0>c.datamin?Math.max(0,c.datamin):Math.min(0,c.datamin),e.lineTo(h.p2c(g),c.p2c(f)),e.closePath(),e.stroke()}}},drawHover:function(f,d,c){}}},grid:{editable:!1}},name:"mouse",version:"0.2"});var a=b.plot.JUMlib.library.between})(jQuery);(function(a){a.plot.plugins.push({init:function(o,s){function b(f,m){l=f.getOptions();var k=l.grid.background.setZIndex;e=new c("flot-background",f.getPlaceholder());!0===a.isNumeric(k)?(a(f.getPlaceholder().children(".flot-overlay")).css("z-index",k+1),a(f.getCanvas()).css("z-index",k),a(e.element).css("z-index",k-1)):!0===l.grid.background.setZIndex?(a(f.getPlaceholder().children(".flot-overlay")).css("z-index",2),a(f.getCanvas()).css("z-index",1),a(e.element).css("z-index",0)):a(e.element).css("z-index",-1);g=e.context;h=f.getPlotOffset();g.save();g.translate(h.left,h.top);switch(l.grid.background.mode){case"image":k=l.grid.background.image;"undefined"!==typeof k&&g.drawImage(k,0,0,f.width(),f.height());break;case"color":v(f,g);break;case"userdefined":l.grid.background.fncDraw(f,g,f.width(),f.height());break;default:v(f,g)}g.restore()}function v(f,m){var k=a.plot.JUMlib.data.getColor({ctx:m,color:l.grid.background.color,left:0,top:0,height:f.height(),width:f.width()});m.fillStyle=k;m.fillRect(0,0,f.width(),f.height())}function d(f,p){var m=l.grid.overlay.image,k='<div style="position:absolute;width:'+f.width()+";height:"+f.height()+";top:"+h.top+";left:"+h.left+';">',k=a(k);a(m).css("opacity",l.grid.overlay.opacity).width(f.width()).height(f.height());a(m).css("top",h.top).css("position","absolute").css("left",h.left);a(m).appendTo(k);k.appendTo(f.getPlaceholder())}var c,e,g,l,h;c=s.Canvas;o.hooks.processOptions.push(function(f,k){!0===k.grid.background.active&&(l=k,f.hooks.drawBackground.push(b),!0===k.grid.overlay.active&&f.hooks.draw.push(d))})},options:{grid:{background:{active:!1,mode:"color",color:{colors:["white","yellow","orange","blue"]},image:null,fncDraw:null,setZIndex:!1},overlay:{active:!1,image:null,opacity:0.2}}},name:"background",version:"0.4"})})(jQuery);(function(d){var a={series:{lines:{show:!1}}},b={series:{editMode:"y",nearBy:{distance:7,findItem:null,findMode:"circle",drawHover:null}}},c=d.plot.JUMlib.library.between;d.plot.plugins.push({init:function(o){function u(p,m,f,k){!0===m.bandwidth.show&&(m.nearBy.findItem=l,m.nearBy.drawHover=h)}function s(p,m,f){if(f.bandwidth.show){if("string"===typeof f.bandwidth.lineWidth){f.bandwidth.barWidth=parseInt(f.bandwidth.lineWidth,0),f.nearBy.width=f.bandwidth.barWidth}else{var k=f.xaxis.p2c(f.xaxis.min+f.bandwidth.lineWidth)-f.xaxis.p2c(f.xaxis.min);f.bandwidth.barWidth=k;f.nearBy.width=f.bandwidth.lineWidth}r=p.getPlotOffset();for(p=0;p<f.data.length;p++){g(m,f,p,f.color)}}}function g(t,p,f,m){var q,k;k=f.length?p.data[f[0]]:p.data[f];f=r.left+p.xaxis.p2c(k[0]);q=r.top+p.yaxis.p2c(k[1]);k=r.top+p.yaxis.p2c(k[2]);p.bandwidth.drawBandwidth(t,p.bandwidth,f,q,k,m)}function l(x,v,m,q){function w(A,z,y,f){A=null;return A=[y,e.series.justEditing[1].dataIndex]}function k(C,D,B,E){var y=null;if(E.bandwidth.show){for(var A=0;A<E.data.length;A++){var z,f,F;F=E.data[A];z=E.xaxis.p2c(F[0])-E.bandwidth.barWidth/2;f=E.yaxis.p2c(F[1])-E.bandwidth.barWidth/2;F=E.yaxis.p2c(F[2])-E.bandwidth.barWidth/2;c(C,z,z+E.bandwidth.barWidth)&&(c(D,f,F)&&(y=[B,A],E.editMode="x",E.nearBy.findMode="horizontal"),c(D,f,f+E.bandwidth.barWidth)&&(y=[B,[A,1]],E.editMode="y",E.nearBy.findMode="vertical"),c(D,F,F+E.bandwidth.barWidth)&&(y=[B,[A,2]],E.editMode="y",E.nearBy.findMode="vertical"))}}return y}function p(C,D,B,E){var A=null;if(E.bandwidth.show){for(var y=0;y<E.data.length;y++){var z,f,F;F=E.data[y];z=E.xaxis.p2c(F[0])-E.bandwidth.barWidth/2;f=E.yaxis.p2c(F[1]);F=E.yaxis.p2c(F[2]);c(C,z,z+E.bandwidth.barWidth)&&c(D,f,F)&&(A=[B,y])}}return A}var t=null;e.series.justEditing?e.series.justEditing[1].seriesIndex===m&&(t=w(x,v,m,q)):t=e.grid.editable?k(x,v,m,q):p(x,v,m,q);return t}function h(m,f,k){m.save();m.translate(-r.left,-r.top);g(m,f,k,"rgba(255,255,255,"+f.bandwidth.highlight.opacity+")");m.restore()}var r=null,e=null;o.hooks.processOptions.push(function(k,f){f.series.bandwidth.active&&(d.extend(!0,f,a),d.plot.JUMlib.data.extendEmpty(f,b),e=f,k.hooks.processRawData.push(u),k.hooks.drawSeries.push(s))})},options:{series:{bandwidth:{active:!1,show:!1,fill:!0,lineWidth:"4px",highlight:{opacity:0.5},drawBandwidth:function(r,o,l,f,h,g){r.beginPath();r.strokeStyle=g;r.lineWidth=o.barWidth;r.lineCap="round";r.moveTo(l,f);r.lineTo(l,h);r.stroke()}}}},name:"bandwidth",version:"0.5"})})(jQuery);(function(b){var a={series:{editMode:"xy",nearBy:{distance:6,findMode:"circle"}}};b.plot.plugins.push({init:function(c){function e(m,l,h,g){}function d(t,o,p){if(p.bubbles.show){for(f=t.getPlotOffset(),t=0;t<p.data.length;t++){var x=o,s=p,w=p.data[t],v=p.color,u=void 0,q=void 0,r=void 0,l=void 0,u=f.left+s.xaxis.p2c(w[0]),q=f.top+s.yaxis.p2c(w[1]),l=w[2],r=parseInt(s.yaxis.scale*w[2]/2,0);s.bubbles.drawbubble(x,s,u,q,l,r,v,void 0)}}}var f=null;c.hooks.processOptions.push(function(h,g){g.series.bubbles.active&&(b.plot.JUMlib.data.extendEmpty(g,a),h.hooks.processRawData.push(e),h.hooks.drawSeries.push(d))})},options:{series:{bubbles:{active:!1,show:!1,fill:!0,lineWidth:2,highlight:{opacity:0.5},drawbubble:function(s,h,g,o,l,c,f,d){s.fillStyle=f;s.strokeStyle=f;s.lineWidth=h.bubbles.lineWidth;s.beginPath();s.arc(g,o,c,0,2*Math.PI,!0);s.closePath();h.bubbles.fill?s.fill():s.stroke();h.bubbles.bubblelabel.show&&(s.fillStyle=h.bubbles.bubblelabel.fillStyle,h=s.measureText(l),s.fillText(l,g-h.width/2,o+4))},bubblelabel:{show:!1,fillStyle:"black"}}}},name:"bubbles",version:"0.3"})})(jQuery);(function(c){var a={series:{lines:{show:!1}},legend:{show:!1}},b=c.plot.JUMlib.library.between;c.plot.candlestick={};c.plot.candlestick.createCandlestick=function(h){for(var d=[],g=[],f=0;f<h.data.length;f++){d.push([h.data[f][0],h.data[f][3]]),g.push([h.data[f][0],h.data[f][4]])}return[h,{label:"Max",data:g,lines:{show:!1},candlestick:{show:!1},nearBy:{findItem:null}},{label:"Min",data:d,lines:{show:!1},candlestick:{show:!1},nearBy:{findItem:null}}]};c.plot.plugins.push({init:function(h){function g(m,k,q,p){!0===k.candlestick.show&&(k.nearBy.findItem=l,k.nearBy.drawHover=d)}function o(m,k,q){if(!0===q.candlestick.show){if("string"===typeof q.candlestick.lineWidth){q.candlestick.barWidth=parseInt(q.candlestick.lineWidth,0),q.nearBy.width=q.candlestick.barWidth}else{var p=q.xaxis.p2c(q.xaxis.min+q.candlestick.lineWidth)-q.xaxis.p2c(q.xaxis.min);q.candlestick.barWidth=p;q.nearBy.width=q.candlestick.lineWidth}f=m.getPlotOffset();k.save();k.translate(f.left,f.top);for(m=0;m<q.data.length;m++){q.candlestick.drawCandlestick(k,q,q.data[m],!1)}k.restore()}}function l(r,k,u,s){function p(y,v,x,w){y=null;return y=[x,e.series.justEditing[1].dataIndex]}function q(D,F,E,C){var w=null;if(!0===C.candlestick.show){for(var z=0;z<C.data.length;z++){var y,v,A,B,x;x=C.data[z];y=C.xaxis.p2c(x[0])-C.candlestick.barWidth/2;v=C.yaxis.p2c(x[1])-C.candlestick.rangeWidth/2;A=C.yaxis.p2c(x[2])-C.candlestick.rangeWidth/2;B=C.yaxis.p2c(x[3])-C.candlestick.rangeWidth/2;x=C.yaxis.p2c(x[4])-C.candlestick.rangeWidth/2;b(D,y,y+C.candlestick.barWidth)&&(b(F,B,x)&&(w=[E,z],C.editMode="x",C.nearBy.findMode="horizontal"),b(F,v,v+C.candlestick.rangeWidth)&&(w=[E,[z,1]],C.editMode="y",C.nearBy.findMode="vertical"),b(F,A,A+C.candlestick.rangeWidth)&&(w=[E,[z,2]],C.editMode="y",C.nearBy.findMode="vertical"),b(F,B,B+C.candlestick.rangeWidth)&&(w=[E,[z,3]],C.editMode="y",C.nearBy.findMode="vertical"),b(F,x,x+C.candlestick.rangeWidth)&&(w=[E,[z,4]],C.editMode="y",C.nearBy.findMode="vertical"))}}return w}function t(A,D,C,B){for(var w=null,y=0;y<B.data.length;y++){var x,v,z;z=B.data[y];x=B.xaxis.p2c(z[0])-B.candlestick.barWidth/2;v=B.yaxis.p2c(z[3]);z=B.yaxis.p2c(z[4]);b(A,x,x+B.candlestick.barWidth)&&b(D,v,z)&&(w=[C,y])}return w}var m=null;!0===s.candlestick.show&&(e.series.justEditing?e.series.justEditing[1].seriesIndex===u&&(m=p(r,k,u,s)):m=e.grid.editable?q(r,k,u,s):t(r,k,u,s));return m}function d(m,k,p){m.save();k.candlestick.drawCandlestick(m,k,p.length?k.data[p[0]]:k.data[p],!0);m.restore()}var f=null,e=null;h.hooks.processOptions.push(function(m,k){k.series.candlestick.active&&(c.extend(!0,k,a),e=k,m.hooks.processRawData.push(g),m.hooks.drawSeries.push(o))})},options:{series:{candlestick:{active:!1,show:!1,rangeWidth:4,rangeColor:"rgb(0,128,128)",upColor:"rgb(255,0,0)",downColor:"rgb(0,255,0)",neutralColor:"rgb(0,0,0)",lineWidth:"8px",highlight:{opacity:0.5},drawCandlestick:function(r,h,o,l){function d(k,e,q){var p,m;p=e.xaxis.p2c(q[0]);m=e.yaxis.p2c(q[3]);q=e.yaxis.p2c(q[4]);k.lineWidth=e.candlestick.rangeWidth;k.beginPath();k.strokeStyle=e.candlestick.rangeColor;k.moveTo(p,m);k.lineTo(p,q);k.stroke()}function g(k,e,t){var q,m,p,s;q=e.xaxis.p2c(t[0]);m=e.yaxis.p2c(t[1]);p=e.yaxis.p2c(t[2]);s=t[1]>t[2]?e.candlestick.upColor:e.candlestick.downColor;t[1]==t[2]&&(s=e.candlestick.neutralColor,p=m+2);k.beginPath();k.strokeStyle=s;k.lineWidth=e.candlestick.barWidth;k.moveTo(q,m);k.lineTo(q,p);k.stroke()}function f(k,e,s,q){var m,p;m=e.xaxis.p2c(s[0]-e.candlestick.barWidth/2);p=e.yaxis.p2c(s[3]);s=e.yaxis.p2c(s[4]);k.beginPath();k.strokeStyle=q;k.lineWidth=e.candlestick.barWidth;k.moveTo(m,p);k.lineTo(m,s);k.stroke()}!0===l?f(r,h,o,"rgba(255,255,255,"+h.candlestick.highlight.opacity+")"):(d(r,h,o),g(r,h,o))}}}},name:"candlestick",version:"0.3"})})(jQuery);(function(f){function a(s,r,h,o,l,p,g,t){!1===t&&(s.beginPath(),s.lineWidth=r.gantt.barheight,s.strokeStyle="rgb(0,0,0)",s.moveTo(o,l),s.lineTo(p,l),s.stroke());s.beginPath();s.strokeStyle=g;s.lineWidth=r.gantt.barheight-2;s.lineCap="butt";s.moveTo(o+1,l);s.lineTo(p-1,l);s.stroke()}var b={series:{lines:{show:!1}}},d={series:{editMode:"y",nearBy:{distance:6,findItem:null,findMode:"circle",drawHover:null}}},c=f.plot.JUMlib.library.between;f.plot.plugins.push({init:function(l){function e(m,p,h,k){!0===p.gantt.show&&(p.nearBy.findItem=y,p.nearBy.drawHover=u)}function o(J,H){var M;v=J.getCanvas();f(v).parent();s=J.getAxes();x=J.getPlotOffset();t=J.getData();for(var G=0;G<t.length;G++){if(M=t[G],M.gantt.barheight=s.yaxis.p2c(1)/(s.yaxis.max-s.yaxis.min)*M.gantt.barHeight,M.gantt.show){for(var E=0;E<M.data.length;E++){r(H,M,M.data[E],M.color,!1)}if(M.gantt.connectSteps.show){for(var E=H,K=0;K<M.data.length;K++){for(var I=0;I<M.data.length;I++){if(M.data[K][2]==M.data[I][0]){var L=x.left+s.xaxis.p2c(M.data[K][2]),q=x.top+s.yaxis.p2c(M.data[K][1]),h=x.top+s.yaxis.p2c(M.data[I][1]),F=E,g=M.gantt.connectSteps.lineWidth,k=M.gantt.connectSteps.color;F.beginPath();F.lineWidth=g;F.strokeStyle=k;F.moveTo(L,q);F.lineTo(L,h);F.stroke()}}}}}}}function r(h,C,B,q,A){var z,p,m;z=x.left+s.xaxis.p2c(B[0]);z=Math.min(Math.max(x.left,z),x.left+l.width());p=x.top+s.yaxis.p2c(B[1]);m=x.left+s.xaxis.p2c(B[2]);m=Math.min(Math.max(m,x.left),x.left+l.width());if(m>x.left||z>x.left){if(z<x.left+l.width()||m<x.left+l.width()){4===B.length?a(h,C,B,z,p,m,q,A):C.gantt.drawstep(h,C,B,z,p,m,q,A)}}}function y(p,D,m,A){function z(J,G,H,I){var E=null;if(I.gantt.show){for(var k=0;k<I.data.length;k++){var h=I.data[k],K=I.xaxis.p2c(h[0]),F=I.xaxis.p2c(h[2]);Math.abs(I.yaxis.p2c(h[1])-G)<=I.gantt.barheight/2&&c(J,K,F)&&(E=[H,k])}}return E}function C(K,H,I,J){var G=null;if(J.gantt.show){for(var E=0;E<J.data.length;E++){var F=J.data[E],k=J.xaxis.p2c(F[0]),L=J.xaxis.p2c(F[2]);Math.abs(J.yaxis.p2c(F[1])-H)<=J.gantt.barheight/2&&(c(K,k,L)&&(G=[I,E],J.editMode="y",J.nearBy.findMode="vertical",J.nearBy.width=F[2]-F[0]),c(K,k,k+J.nearBy.distance)&&(G=[I,[E,1]],J.editMode="x",J.nearBy.findMode="horizontal"),c(K,L,L+J.nearBy.distance)&&(G=[I,[E,2]],J.editMode="x",J.nearBy.findMode="horizontal"))}}return G}function B(k,h,F,E){k=null;return k=[F,w.series.justEditing[1].dataIndex]}var q=null;w.series.justEditing?w.series.justEditing[1].seriesIndex===m&&(q=B(p,D,m,A)):q=w.grid.editable?C(p,D,m,A):z(p,D,m,A);return q}function u(g,h,k){g.save();g.translate(-x.left,-x.top);r(g,h,k.length?h.data[k[0]]:h.data[k],"rgba(255,255,255, "+h.gantt.highlight.opacity+")",!0);g.restore()}var x=null,w=null,v,s,t;l.hooks.processOptions.push(function(h,g){g.series.gantt.active&&(f.extend(!0,g,b),f.plot.JUMlib.data.extendEmpty(g,d),w=g,h.hooks.processRawData.push(e),h.hooks.draw.push(o))})},options:{series:{gantt:{active:!1,show:!1,connectSteps:{show:!1,lineWidth:2,color:"rgb(0,0,0)"},barHeight:0.6,highlight:{opacity:0.5},drawstep:a}}},name:"gantt",version:"0.3"})})(jQuery);(function(a){a.plot.plugins.push({init:function(o){function s(){function f(){if(1===g.actualStep){for(var w=0;w<g[k].data.length;w++){g[k].data[w][h]=g[k].dataOrg[w][q.valueIndex]}}}function u(){if(g.actualStep<=g[k].grow.steps){for(var w=0;w<g[k].data.length;w++){"up"===q.stepDirection?g[k].data[w][q.valueIndex]=g[k].dataOrg[w][q.valueIndex]/g[k].grow.steps*g.actualStep:"down"===q.stepDirection&&(g[k].data[w][q.valueIndex]=g[k].dataOrg[w][q.valueIndex]+(g[k].yaxis.max-g[k].dataOrg[w][q.valueIndex])/g[k].grow.steps*(g[k].grow.steps-g.actualStep))}}}function r(){if(g.actualStep<=g[k].grow.steps){for(var w=0;w<g[k].data.length;w++){"up"===q.stepDirection?g[k].data[w][q.valueIndex]=Math.min(g[k].dataOrg[w][q.valueIndex],g[k].yaxis.max/g[k].grow.steps*g.actualStep):"down"===q.stepDirection&&(g[k].data[w][q.valueIndex]=Math.max(g[k].dataOrg[w][q.valueIndex],g[k].yaxis.max/g[k].grow.steps*(g[k].grow.steps-g.actualStep)))}}}function p(){if(g.actualStep==g[k].grow.steps){for(var w=0;w<g[k].data.length;w++){g[k].data[w][q.valueIndex]=g[k].dataOrg[w][q.valueIndex]}}}var q,t=new Date;if(g.actualStep<l.series.grow.steps){g.actualStep++;for(var k=0;k<g.length;k++){for(var m=0;m<g[k].grow.growings.length;m++){q=g[k].grow.growings[m],"function"===typeof q.stepMode?q.stepMode(g[k],g.actualStep,q):"linear"===q.stepMode?u():"maximum"===q.stepMode?r():"delay"===q.stepMode?p():f()}}e.setData(g);e.draw();t=new Date-t;c=window.setTimeout(s,Math.max(0,l.series.grow.stepDelay-t))}else{window.clearTimeout(c),c=null}}function b(){c&&(window.clearTimeout(c),c=null)}function v(f){if(null===f||"object"!==typeof f){return f}var m=new f.constructor,k;for(k in f){m[k]=v(f[k])}return m}var d=!1,c,e=o,g=null,l=null,h;o.hooks.bindEvents.push(function(f,q){l=f.getOptions();if(!0===l.series.grow.active){for(var p=f.getData(),k=0;k<g.length;k++){l.series.grow.steps=Math.max(l.series.grow.steps,p[k].grow.steps)}0===l.series.grow.stepDelay&&l.series.grow.stepDelay++;s();l:{for(var p=a.plot.plugins,k=0,m=p.length;k<m;k++){if("resize"===p[k].name){p=!0;break l}}p=!1}p&&f.getPlaceholder().bind("resize",b)}});o.hooks.drawSeries.push(function(f,m,k){l=f.getOptions();h=l.series.grow.valueIndex;if(!0===l.series.grow.active&&!1===d){g=f.getData();g.actualStep=0;for(m=g.growingIndex=0;m<g.length;m++){for(g[m].dataOrg=v(g[m].data),k=0;k<g[m].data.length;k++){g[m].data[k][h]=0}}f.setData(g);d=!0}});o.hooks.shutdown.push(function(f,k){f.getPlaceholder().unbind("resize",b)})},options:{series:{grow:{active:!1,stepDelay:20,steps:100,growings:[{valueIndex:1,stepMode:"linear",stepDirection:"up"}]}}},name:"grow",version:"0.4"})})(jQuery);(function(d){var a={series:{nearBy:{distance:6,findItem:null,findMode:"circle",drawHover:null}}},b={grid:{show:!1}},c=d.plot.JUMlib.library.between;d.plot.plugins.push({init:function(D){function o(k,f,l,h){!0===f.pyramids.show&&(f.nearBy.findItem=C,f.nearBy.drawHover=y)}function e(g,k,h){if(h.pyramids.show){for(A=g.getPlotOffset(),w=h.data[0].value,r=k.canvas.height,u=k.canvas.width,z=k.canvas.height/h.data.length,x=k.canvas.width/2,g=0;g<h.data.length;g++){s(k,h,g,B.colors[g])}}}function s(k,g,E,h){var t,m,q;t=g.data[E].value*k.canvas.width/w;q=k.canvas.height-z*E;m=E+1==g.data.length?0:g.data[E+1].value*k.canvas.width/w;if(d.isFunction(g.pyramids.mode)){g.pyramids.mode(k,g,x,q,t,z,m,h)}else{switch(g.pyramids.mode){case"pyramid":v(k,g,q,t,z,m,h);break;case"slice":m=z;var p=q-m/2;k.save();k.beginPath();k.lineWidth=1;k.fillStyle=h;k.strokeStyle=h;k.translate(x-t/2,p-m/2);k.scale(t/2,m/2);k.arc(1,1,1,0,2*Math.PI,!1);k.closePath();k.fill();k.restore();break;default:v(k,g,q,t,z,m,h)}}if(!0===g.pyramids.label.show){E=g.data[E];q-=z/2;k.font=g.pyramids.label.font;k.fillStyle=g.pyramids.label.fillStyle;h=k.measureText(E.label);switch(g.pyramids.label.align){case"center":g=k.canvas.width/2-h.width/2;break;case"left":g=0;break;case"right":g=k.canvas.width-h.width;break;default:g=k.canvas.width-h.width}k.fillText(E.label,g,q)}}function v(k,f,t,p,g,m,q){k.beginPath();k.lineWidth=1;k.fillStyle=q;k.strokeStyle=q;k.moveTo(x-p/2,t);k.lineTo(x+p/2,t);k.lineTo(x+m/2,t-g);k.lineTo(x-m/2,t-g);k.closePath();k.fill()}function C(h,g,m,k){var l=null;g=Math.floor((r-g)/z);c(g,0,k.data.length-1)&&(k=k.data[g].value*u/w,!0===c(h,x-k/2,x+k/2)&&(l=[m,g]));return l}function y(g,f,h){g.save();g.translate(-A.left,-A.top);s(g,f,h,"rgba(255,255,255,"+f.pyramids.highlight.opacity+")");g.restore()}var B=null,A=null,z=null,w,x,r,u;D.hooks.processOptions.push(function(f,g){!0===g.series.pyramids.active&&(d.extend(!0,g,b),d.plot.JUMlib.data.extendEmpty(g,a),B=g,f.hooks.processRawData.push(o),f.hooks.drawSeries.push(e))})},options:{series:{pyramids:{active:!1,show:!1,mode:"pyramid",fill:!0,highlight:{opacity:0.5},label:{show:!1,align:"center",font:"20px Times New Roman",fillStyle:"Black"}}}},name:"pyramids",version:"0.2"})})(jQuery);(function(b){var a={grid:{show:!1}};b.plot.plugins.push({init:function(B){function e(h,f,m,k){}function C(p,m){z=p.getData();w=p.getOptions();m.clearRect(0,0,m.canvas.width,m.canvas.height);o=Math.min(m.canvas.width,m.canvas.height)/2*w.series.radar.radarSize;s=A=m.canvas.height/2;m.beginPath();m.lineWidth=2;m.strokeStyle=w.series.radar.color;m.fillStyle=w.series.radar.backColor;m.arc(A,s,o,0,2*Math.PI,!0);m.closePath();m.fill();y=document.createElement("canvas");y.width=m.canvas.width;y.height=m.canvas.height;b(y).css({position:"absolute",left:0,top:0});b(y).appendTo(B.getPlaceholder());x=y.getContext("2d");for(var k=0;k<z.length;k++){for(var G=m,t=z[k],d=0;d<t.data.length;d++){var u=G,r=t,D=t.data[d],f=2*Math.PI*D[0]/360,c=r.radar.itemSize,F=s+Math.round(Math.cos(f)*o*D[1]/100)-c,D=A+Math.round(Math.sin(f)*o*D[1]/100)-c;u.beginPath();u.lineWidth=1;u.fillStyle=r.color;u.strokeStyle=r.color;u.arc(F,D,c,0,2*Math.PI,!0);u.closePath();u.fill()}}window.setInterval(l,w.series.radar.delay)}function l(){var f=w.series.radar.angleSize,d=w.series.radar.angleSteps,p,m;x.clearRect(0,0,x.canvas.width,x.canvas.height);for(var h=x.lineWidth=1;h<=d;h++){p=(d-h+1)/10,m=(h-1)*f+v,g("rgba(255,255,255,"+p+")",m,f+m)}g(w.series.radar.backColor,v+d*f,v);v+=w.series.radar.angleStep;359<v&&(v=0)}function g(d,q,k){q=2*Math.PI*q/360;k=2*Math.PI*k/360;var m=s+Math.round(Math.cos(q)*o),p=A+Math.round(Math.sin(q)*o);x.strokeStyle=d;x.fillStyle=d;x.beginPath();x.moveTo(s,A);x.lineTo(m,p);x.arc(s,A,o,q,k);x.lineTo(s,A);x.closePath();x.fill()}var o=null,s=null,A=null,w=null,z=null,y=null,x=null,v=0;B.hooks.processOptions.push(function(d,c){!0===c.series.radar.active&&(b.extend(!0,c,a),w=c,d.hooks.processRawData.push(e),d.hooks.draw.push(C))})},options:{series:{radar:{active:!1,show:!1,radarSize:0.8,delay:10,angleStep:1,angleSize:10,angleSteps:6,color:"darkgreen",backColor:"darkgreen"}}},name:"radar",version:"0.1"})})(jQuery);(function(g){var a={grid:{show:!1}},b={series:{nearBy:{distance:6,findItem:null,findMode:"circle",drawEdit:null,drawHover:null}},grid:{ranges:5,font:"18px Times New Roman"}},d=g.plot.JUMlib.library.between,c=g.plot.JUMlib.data.createColors,f=g.plot.JUMlib.data.getColor;g.plot.plugins.push({init:function(e){function r(K,A,z){var s,q,w,y,h;if(z.rose.show){v=z;for(var k=K=0;k<z.data.length;k++){h=z.data[k],s=K+I,q=K+o-I,K+=o,h.length?(w=H(h[0]),y={ctx:A,serie:z,serieIndex:k,colors:D,radius:w,left:J,top:F},y=f(y),u(A,h[1],h[2],w,y)):(w=H(h),y={ctx:A,serie:z,serieIndex:k,colors:D,radius:w,left:J,top:F},y=f(y),u(A,s,q,w,y))}}}function u(q,k,z,y,s){k=2*Math.PI*k/360;z=2*Math.PI*z/360;var w=J+Math.round(Math.cos(k)*y),m=F+Math.round(Math.sin(k)*y);q.strokeStyle=s;q.fillStyle=s;q.beginPath();q.moveTo(J,F);q.lineTo(w,m);q.arc(J,F,y,k,z);q.lineTo(J,F);q.closePath();q.fill()}function H(h){return(h-C.series.rose.dataMin)/(C.series.rose.dataMax-C.series.rose.dataMin)*t}function B(q,l){function z(m,k){m.beginPath();m.moveTo(J,F);m.arc(J,F,t/C.grid.ranges*k,0,2*Math.PI);m.closePath();m.stroke()}function y(m,k){var K=2*Math.PI*k/360,A=J+Math.round(Math.cos(K)*t),K=F+Math.round(Math.sin(K)*t);m.beginPath();m.moveTo(J,F);m.lineTo(A,K);m.closePath();m.stroke()}function w(m,k,M){m.font=C.grid.font;var A=2*Math.PI*k/360,K=J+Math.round(Math.cos(A)*t),A=F+Math.round(Math.sin(A)*t),L=m.measureText(M);180>k&&(A+=10);d(k,90,270)&&(K-=L.width);m.fillText(M,K,A)}var s=0,h;x=l;p=q.getData();l.strokeStyle=C.grid.tickColor;l.fillStyle=C.grid.color;for(h=1;h<=C.grid.ranges;h++){z(l,h),!0===C.series.rose.drawGrid.drawValue&&l.fillText(C.series.rose.dataMin+(C.series.rose.dataMax-C.series.rose.dataMin)/C.grid.ranges*h,J+t/C.grid.ranges*h,F-1)}for(h=0;h<C.grid.tickLabel.length;h++){y(l,s),w(l,s+o*v.rose.drawGrid.labelPos,C.grid.tickLabel[h]),s+=o}}function G(k,q,m,l){return function(M,L,K,y){function A(P,S){var Q,O,R,T;x.save();x.beginPath();Q=2*Math.PI*P/360;O=2*Math.PI*(P+o)/360;R=J+Math.round(Math.cos(Q)*S);T=F+Math.round(Math.sin(Q)*S);x.moveTo(J,F);x.lineTo(R,T);x.arc(J,F,S,Q,O);x.closePath();Q=x.isPointInPath(M,L);x.restore();return Q}var z=null,w,N,s;for(s=w=0;s<y.data.length;s++){N=A(w,t);if(!0===N){z=[K,s];for(K=0;K<p.length;K++){N=H(p[K].data[s]),N=A(w,N),!0===N&&(z=[K,s])}break}w+=o}return z}(k,q,m,l)}function E(k,h,l){l*=o;u(k,l,l+o,t,"rgba(255,255,255,"+h.rose.highlight.opacity+")")}var C=null,v=null,x,p,t,J,F,o,I,D;e.hooks.processOptions.push(function(k,h){!0===h.series.rose.active&&(g.extend(!0,h,a),g.plot.JUMlib.data.extendEmpty(h,b),C=h,k.hooks.drawSeries.push(r),k.hooks.draw.push(B))});e.hooks.processRawData.push(function(k,l,m,q){if(!0===l.rose.show){m=k.getCanvas();t=Math.min(m.width,m.height)/2*C.series.rose.roseSize;J=F=m.height/2;D=c(C,l.data[0].length);l.nearBy.findItem=G;l.nearBy.drawHover=E;k.getPlotOffset();switch(C.series.rose.drawGrid.gridMode){case"data":o=360/l.data.length;break;case"ticks":o=360/C.grid.tickLabel.length}I=o*(1-C.series.rose.leafSize)/2}})},options:{series:{rose:{active:!1,show:!1,roseSize:0.7,leafSize:0.7,dataMin:0,dataMax:100,drawGrid:{drawValue:!0,drawLabel:!0,labelPos:0.5,gridMode:"data"},highlight:{opacity:0.5}}}},name:"rose",version:"0.1"})})(jQuery);(function(g){var a={grid:{show:!1},xaxes:[{min:0,max:100}],yaxes:[{min:0,max:100}]},b={series:{editMode:"none",nearBy:{distance:6,findMode:"circle"}}},d=g.plot.JUMlib.library.between,c=g.plot.JUMlib.data.createFont,f=g.plot.JUMlib.data.createColors;g.plot.plugins.push({init:function(e){function l(k,x,q,m){!0===x.rectangle.show&&(x.nearBy.drawHover=w,x.nearBy.findItem=s)}function o(K,G,I){var H=0,F=0,A=100,J=100;I.xaxis.options.font||(I.xaxis.options.font=c(K.getPlaceholder()));if(I.rectangle.show){t=I;v=K.getPlotOffset();p=f(u,I.data.length);for(K=r=0;K<I.data.length;K++){r+=I.data[K].data}for(K=0;K<I.data.length;K++){var L,E,y,x;x=I.data[K];switch(I.rectangle.directions[K%I.rectangle.directions.length]){case"t":L=F;E=H;y=A;x=100*(100*(x.data/r)/A);H+=x;J-=x;break;case"b":L=F;x=100*(100*(x.data/r)/A);y=A;E=H-x+J;J-=x;break;case"l":L=F;E=H;y=100*(100*(x.data/r)/J);x=J;F+=y;A-=y;break;case"r":E=H;y=100*(100*(x.data/r)/J);L=F+A-y;x=J;A-=y;break;default:L=F,E=H,y=A,x=100*(100*(x.data/r)/A),H+=x,J-=x}var h;L=v.left+I.xaxis.p2c(L);E=v.top+I.yaxis.p2c(100-E);y=I.xaxis.p2c(y)-I.xaxis.p2c(0);x=I.yaxis.p2c(0)-I.yaxis.p2c(x);h=g.plot.JUMlib.data.getColor({ctx:G,serie:t,dataIndex:K,colors:p,left:L,top:E,height:x,width:y});I.data[K].pos={x:L,y:E,w:y,h:x,color:h};I.rectangle.drawRectangle(G,I,K)}}}function w(k,h,m){h.rectangle.drawRectangle(k,h,m)}function s(m,k,A,z){for(var q=null,x=0;x<z.data.length;x++){var y=z.data[x].pos;d(m,y.x,y.x+y.w)&&d(k,y.y,y.y+y.h)&&(q=[A,x])}return q}var v=null,u=null,t=null,p,r;e.hooks.processOptions.push(function(k,h){h.series.rectangle.active&&(g.extend(!0,h,a),g.plot.JUMlib.data.extendEmpty(h,b),u=h,k.hooks.processRawData.push(l),k.hooks.drawSeries.push(o))})},options:{series:{rectangle:{active:!1,show:!1,fill:!0,lineWidth:2,directions:"tlbr",highlight:{opacity:0.5},drawRectangle:function(o,h,l){l=h.data[l];o.save();o.linewidth=h.rectangle.lineWidth;!0===h.rectangle.fill?(o.fillStyle=l.pos.color,o.fillRect(l.pos.x,l.pos.y,l.pos.w,l.pos.h)):(o.strokeStyle=l.pos.color,o.strokeRect(l.pos.x,l.pos.y,l.pos.w,l.pos.h));o.restore();o.fillStyle=h.color;o.strokeStyle=h.color;o.lineWidth=h.rectangle.lineWidth;h.rectangle.label.show&&(o.fillStyle=h.rectangle.label.fillStyle,h=h.xaxis.options.font,o.font=h.style+" "+h.variant+" "+h.weight+" "+h.size+"px '"+h.family+"'",h=o.measureText(l.label),o.fillText(l.label,l.pos.x+l.pos.w/2-h.width/2,l.pos.y+l.pos.h/2))},label:{show:!1,fillStyle:"black"}}}},name:"rectangle",version:"0.3"})})(jQuery);(function(f){var a={series:{spider:{active:!1,show:!1,spiderSize:0.8,lineWidth:3,lineStyle:"rgba(0,0,0,0.5)",pointSize:6,scaleMode:"leg",legMin:null,legMax:null,connection:{width:4},highlight:{opacity:0.5,mode:"point"},legs:{font:"20px Times New Roman",fillStyle:"Black",legScaleMin:0.95,legScaleMax:1.05,legStartAngle:0}}}},b={series:{editMode:"xy",nearBy:{distance:6,findItem:null,findMode:"circle",drawEdit:null,drawHover:null}},grid:{mode:"radar"}},d={grid:{show:!1,tickColor:"rgba(0,0,0,0.15)",ticks:5}},c=f.plot.JUMlib.library.between;f.plot.plugins.push({init:function(o){function e(h,g,l,k){!0===g.spider.show&&(g.nearBy.drawEdit=B,g.nearBy.findItem=z,g.nearBy.drawHover=t)}function u(k,w){I=k.getData();F=k.getOptions();w.clearRect(0,0,w.canvas.width,w.canvas.height);v=Math.min(w.canvas.width,w.canvas.height)/2*I[0].spider.spiderSize;J=r=w.canvas.height/2;var s=[],l;if("leg"===I[0].spider.scaleMode){for(l=0;l<I[0].data.length;l++){s.push(x(l))}}else{var m;l=Number.POSITIVE_INFINITY;m=Number.NEGATIVE_INFINITY;for(var p=0;p<I[0].data.length;p++){for(var q=0;q<I.length;q++){l=Math.min(l,I[q].data[p][1]),m=Math.max(m,I[q].data[p][1])}}l*=I[0].spider.legs.legScaleMin;m*=I[0].spider.legs.legScaleMax;F.series.spider.legMin&&(l=F.series.spider.legMin);F.series.spider.legMax&&(m=F.series.spider.legMax);m={min:l,max:m,range:m-l};for(l=0;l<I[0].data.length;l++){s.push(m)}}I.ranges=s;G(w,F.grid)}function x(h){for(var g=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,k=0;k<I.length;k++){g=Math.min(g,I[k].data[h][1]),l=Math.max(l,I[k].data[h][1])}g*=I[0].spider.legs.legScaleMin;l*=I[0].spider.legs.legScaleMax;F.series.spider.legMin&&(g=F.series.spider.legMin);F.series.spider.legMax&&(l=F.series.spider.legMax);return{min:g,max:l,range:l-g}}function H(O,N,A,K){for(var L=0;L<A.data.length;L++){var M=O,w=N,y=A,p=L,q=K,P=void 0,P=E(y,I.ranges,p),P=D(w,p,P);M.beginPath();M.lineWidth=1;M.fillStyle=q;M.strokeStyle=q;M.arc(P.x,P.y,y.spider.pointSize,0,2*Math.PI,!0);M.closePath();M.fill()}}function C(l,k,m,p,q){var s;q||(q=!1);l.beginPath();l.lineWidth=m.spider.connection.width;l.strokeStyle=p;l.fillStyle=p;s=E(m,I.ranges,0);s=D(k,0,s);l.moveTo(s.x,s.y);for(p=1;p<m.data.length;p++){s=E(m,I.ranges,p),s=D(k,p,s),l.lineTo(s.x,s.y)}s=E(m,I.ranges,0);s=D(k,0,s);l.lineTo(s.x,s.y);!0===q?l.fill():!0===m.spider.fill?l.fill():l.stroke()}function G(l,y){function p(h,g){h.lineWidth=1;h.strokeStyle=g.tickColor;for(var K=1;K<=g.ticks;K++){h.beginPath(),h.arc(J,r,v/g.ticks*K,0,2*Math.PI,!0),h.closePath(),h.stroke()}for(var k=K=null,A=0;A<m;A++){null===K&&(K=D(m,A,100),k=D(m,Math.floor(m/4),100)),q(h,A),s(h,A,K,k)}}function q(h,g){var k;h.beginPath();h.lineWidth=a.series.spider.lineWidth;h.strokeStyle=a.series.spider.lineStyle;h.moveTo(r,J);k=D(m,g,100);h.lineTo(k.x,k.y);h.stroke()}function s(K,k,O,L,M){var N,A;M=D(m,k,100);K.font=I[0].spider.legs.font;K.fillStyle=I[0].spider.legs.fillStyle;N=K.measureText(I[0].spider.legs.data[k].label);A=M.y>O.y?15:-15;c(M.y,O.y+10,O.y-10)&&(A=0);L=M.x<L.x?-1*N.width-N.width/2:0;c(M.x,O.x+10,O.x-10)&&(L=N.width/2);K.fillText(I[0].spider.legs.data[k].label,M.x+L,M.y+A)}var m=I[0].data.length,w;for(w=0;w<I.length;w++){C(l,m,I[w],I[w].color)}for(w=0;w<I.length;w++){H(l,m,I[w],I[w].color)}(function(k,g){switch(g.mode){case"radar":p(k,g);break;case"spider":var K,A;k.linewidth=1;k.strokeStyle=g.tickColor;for(K=0;K<=g.ticks;K++){var h=D(m,0,100/g.ticks*K);k.beginPath();k.moveTo(h.x,h.y);for(A=1;A<m;A++){h=D(m,A,100/g.ticks*K),k.lineTo(h.x,h.y)}k.closePath();k.stroke()}h=K=null;for(A=0;A<m;A++){null===K&&(K=D(m,A,100),h=D(m,Math.floor(m/4),100)),q(k,A),s(k,A,K,h)}break;default:p(k,g)}})(l,y)}function E(h,g,l,k){k?h=100*((k-g[l].min)/g[l].range):(h=Math.max(Math.min(h.data[l][1],g[l].max),g[l].min),h=100*((h-g[l].min)/g[l].range));return h}function D(k,g,p){var m,l;l=2*Math.PI*F.series.spider.legs.legStartAngle/360;m=J+Math.round(Math.cos(2*Math.PI/k*g+l)*v*p/100);k=r+Math.round(Math.sin(2*Math.PI/k*g+l)*v*p/100);return{x:m,y:k}}function z(m,l,q,s){function w(R,Q,N,O){var P,L,M,A=null,K=O.data.length;for(P=0;P<K;P++){L=D(K,P,E(O,I.ranges,P)),M=Math.abs(L.x-R),L=Math.abs(L.y-Q),M=Math.sqrt(M*M+L*L),M<=O.nearBy.distance&&(A=[N,P])}return A}function y(R,Q,P,M){var N,O,L,A=null;O=M.data.length;var K=F.series.justEditing[1].dataIndex;N=(R-J)*(R-J)+(Q-r)*(Q-r);N=Math.sqrt(N);L=N=100*(N/v);N=I.ranges[K];N=N.min+N.range/100*L;O=D(O,K,L);R=Math.abs(O.x-R);Q=Math.abs(O.y-Q);Math.sqrt(R*R+Q*Q)<=M.spider.pointSize&&(A=[P,K,N,0]);return A}var p=null;F.series.justEditing?F.series.justEditing[1].seriesIndex===q&&(p=y(m,l,q,s)):p=w(m,l,q,s);return p}function B(l,k,m,p){l.beginPath();l.lineWidth=1;k="rgba(255, 0, 0, "+p.spider.highlight.opacity+")";l.fillStyle=k;l.strokeStyle=k;k=E(p,I.ranges,F.series.justEditing[1].dataIndex,F.series.justEditing[0].value);p=D(p.data.length,F.series.justEditing[1].dataIndex,k);l.arc(p.x,p.y,F.series.spider.pointSize,0,2*Math.PI,!0);l.closePath();l.fill()}function t(g,m,l){if(!m.justEditing){l="rgba(255, 255, 255, "+m.spider.highlight.opacity+")";var k=m.data.length;switch(m.spider.highlight.mode){case"point":H(g,k,m,l);break;case"line":C(g,k,m,l,!1);break;case"area":C(g,k,m,m.color,!0)}}}var v=null,J=null,F=null,r=null,I;o.hooks.processOptions.push(function(h,g){g.series.spider.active&&(f.extend(!0,g,d),f.plot.JUMlib.data.extendEmpty(g,b),F=g,h.hooks.processRawData.push(e),h.hooks.draw.push(u))})},options:a,name:"spider",version:"0.6"})})(jQuery);(function(f){var a={series:{nearBy:{distance:6,findItem:null,findMode:"circle",drawEdit:null,drawHover:null}}},b={grid:{show:!1}},d=f.plot.JUMlib.data.createColors,c=f.plot.JUMlib.data.getColor;f.plot.plugins.push({init:function(C){function x(g,h,k){if(k.spiral.show){L=k;g.getPlotOffset();H=d(M,k.data.length);D=Math.min(h.canvas.width,h.canvas.height)/2*M.series.spiral.spiralSize;F=u=h.canvas.height/2;K=h;for(g=I=0;g<k.data.length;g++){I+=k.data[g].data}for(g=0;g<k.data.length;g++){r.push({data:k.data[g].data,size:360*(k.data[g].data/I)})}}B=o=1;e=window.setInterval(E,M.series.spiral.delay)}function E(){var k,v,h,s;K.clearRect(0,0,K.canvas.width,K.canvas.height);0===M.series.spiral.rotations?(t=0,h=M.series.spiral.steps):(t=360*o/M.series.spiral.steps,h=M.series.spiral.steps*M.series.spiral.rotations);for(var l=0;l<r.length;l++){v=(B-1)*M.series.spiral.steps+o,k=v/h*D,v=v/h*r[l].size,s=c({ctx:K,serie:L,dataIndex:l,colors:H,radius:k,left:F,top:u}),G(K,t,t+v,k,s),t+=v}o++;o>M.series.spiral.steps&&(o=1,B++,B>M.series.spiral.rotations&&(window.clearInterval(e),L.nearBy.findItem=N,L.nearBy.drawHover=J))}function G(l,k,v,s,m){k=2*Math.PI*t/360;v=2*Math.PI*v/360;var p=F+Math.round(Math.cos(k)*s),q=u+Math.round(Math.sin(k)*s);l.strokeStyle=m;l.fillStyle=m;l.beginPath();l.moveTo(F,u);l.lineTo(p,q);l.arc(F,u,s,k,v);l.lineTo(F,u);l.closePath();l.fill()}function N(A,z,y,q){A:{q=null;var s;for(s=t=0;s<r.length;s++){K.save();K.beginPath();var v=2*Math.PI*t/360,w=2*Math.PI*(t+r[s].size)/360,p=F+Math.round(Math.cos(v)*D),l=u+Math.round(Math.sin(v)*D);K.moveTo(F,u);K.lineTo(p,l);K.arc(F,u,D,v,w);K.closePath();if(K.isPointInPath(A,z)){q=[y,s];K.restore();A=q;break A}t+=r[s].size}A=q}return A}function J(h,g,l){for(var k=t=0;k<l;k++){t+=r[k].size}G(h,t,t+r[l].size,D,"rgba(255,255,255,"+g.spiral.highlight.opacity+")")}var M=null,L=null,K,H,I,D,F,u,o,B,r=[],e,t;C.hooks.processOptions.push(function(g,h){!0===h.series.spiral.active&&(f.extend(!0,h,b),f.plot.JUMlib.data.extendEmpty(h,a),M=h,g.hooks.drawSeries.push(x))})},options:{series:{spiral:{active:!1,show:!1,spiralSize:0.8,rotations:3,steps:36,delay:50,highlight:{opacity:0.5}}}},name:"spiral",version:"0.3"})})(jQuery);(function(b){var a={series:{nearBy:{distance:6,findItemDefault:null,findMode:"circle",drawHover:null}}};b.plot.plugins.push({init:function(s){function c(f,p,m,k){!0===p.heatmap.show&&(p.nearBy.findItemDefault=p.nearBy.findItem,p.nearBy.findItem=d,(new Image).src=g.series.heatmap.backImage)}function v(f,m){var k;g.series.heatmap.backImage&&(k=g.series.heatmap.backImage,h=f.getPlotOffset(),m.save(),m.translate(h.left,h.top),m.drawImage(k,0,0,f.width(),f.height()),m.restore())}function e(D,C,B){o=document.createElement("canvas");o.style.top="0px";o.style.left="0px";o.style.position="absolute";o.height=C.canvas.height;o.width=C.canvas.width;l=o.getContext("2d");h=D.getPlotOffset();for(var y=B.data.length-1;0<=y;y--){var z=B.data[y],A=C,w=l,K=B.xaxis.p2c(z[0]),m=B.yaxis.p2c(z[1]),z=z[2],k=B.heatmap.radiusOut,f=w.createRadialGradient(K,m,B.heatmap.radiusIn,K,m,k),K=K-k,I=m-k,m=2*k;f.addColorStop(0,"rgba(0,0,0,"+(z?z/B.heatmap.max:"0.1")+")");f.addColorStop(1,"rgba(0,0,0,0)");w.fillStyle=f;w.fillRect(K,I,m,m);m=K;k=I;z=h;f=D.width();I=D.heigth;K=2*B.heatmap.radiusOut;m+K>f&&(m=f-K);0>m&&(m=0);0>k&&(k=0);k+K>I&&(k=I-K);for(var w=w.getImageData(m,k,K,K).data,f=w.length,m=m+z.left,k=k+z.top,K=A.getImageData(m,k,K,K),I=K.data,G=g.series.heatmap.gradient,H=g.series.heatmap.opacity,F=3;F<f;F+=4){var J=w[F];if(z=4*J){I[F-3]=G[z],I[F-2]=G[z+1],I[F-1]=G[z+2],I[F]=J<H?J:H}}K.data=I;A.putImageData(K,m,k)}}function d(f,q,p,k){var m=null;return m=k.nearBy.findItemDefault(f,q,p,k)}var g=null,h="7",o=null,l=null;s.hooks.processOptions.push(function(m,u){if(u.series.heatmap.active){b.plot.JUMlib.data.extendEmpty(u,a);g=u;m.hooks.processRawData.push(c);m.hooks.drawBackground.push(v);m.hooks.drawSeries.push(e);var t=document.createElement("canvas");t.width="1";t.height="256";var p=t.getContext("2d"),q=p.createLinearGradient(0,0,1,256),r=g.series.heatmap.gradient,k;for(k in r){q.addColorStop(k,r[k])}p.fillStyle=q;p.fillRect(0,0,1,256);g.series.heatmap.gradient=p.getImageData(0,0,1,256).data;delete t;delete q;delete p}})},options:{series:{heatmap:{active:!1,show:!1,backImage:null,radiusIn:10,radiusOut:20,visible:!0,width:0,height:0,max:!1,gradient:{"0.45":"rgb(0,0,255)","0.55":"rgb(0,255,255)","0.65":"rgb(0,255,0)","0.95":"yellow",1:"rgb(255,0,0)"},opacity:180,highlight:{opacity:0.5}}}},name:"heatmap",version:"0.3"})})(jQuery);(function(a){a.plot.plugins.push({init:function(k,c){function f(m,l){b=l;h=m.getOptions();m.getPlotOffset()}function d(p,m){function o(){function t(){var e;v[w]=s;if(0===s){b.putImageData(q.getImageData(0,0,q.canvas.width,q.canvas.height),0,0),window.clearInterval(g)}else{if(e=Pixastic.process(q.canvas,h.animate.pixastic.mode,v).getContext("2d"),b.putImageData(e.getImageData(0,0,e.canvas.width,e.canvas.height),0,0),s-=x,0<x&&0>=s||0>x&&0<=s){s=0}}}var s,x,v={},w,u=new Date;switch(h.animate.pixastic.mode){case"blurfast":s=2.5*Math.abs(h.animate.pixastic.maxValue);w="amount";v={amount:2.5};break;case"lighten":s=Math.min(1,Math.max(-1,h.animate.pixastic.maxValue));w="amount";v={amount:1};break;case"emboss":s=10*Math.abs(h.animate.pixastic.maxValue);w="strength";v={greyLevel:127,direction:"topleft",blend:!0};break;case"mosaic":s=parseInt(100*Math.abs(h.animate.pixastic.maxValue));w="blockSize";v={blockSize:100};break;case"noise":s=Math.abs(h.animate.pixastic.maxValue);w="strength";v={mono:!0,amount:1,strength:0.5};break;default:s=Math.min(1,Math.max(-1,h.animate.pixastic.maxValue))}x=s/h.animate.steps;t();g=window.setInterval(t,h.animate.stepDelay-(new Date-u))}function l(D){function B(){b.putImageData(q.getImageData(A*w,y*s,w,s),A*w,y*s);switch(D.mode){case"lt":A++>=D.x&&(A=0,y++>=D.y&&window.clearInterval(g));break;case"tl":y++>=D.y&&(y=0,A++>=D.x&&window.clearInterval(g));break;case"rb":0>A--&&(A=D.x-1,0>y--&&window.clearInterval(g));break;case"br":0>y--&&(y=D.y-1,0>A--&&window.clearInterval(g));break;case"random":if(0===z.length){window.clearInterval(g)}else{var e=parseInt(Math.random()*z.length);A=z[e][0];y=z[e][1];z.splice(e,1)}}}var A,y,z=[],w=b.canvas.width/D.x,s=b.canvas.height/D.y,G=new Date,F=h.animate.stepDelay;switch(D.mode){case"lt":y=A=0;break;case"tl":y=A=0;break;case"rb":A=D.x-1;y=D.y-1;break;case"br":A=D.x-1;y=D.y-1;break;case"random":for(var E=0;E<D.x;E++){for(var C=0;C<D.y;C++){z.push([E,C])}}E=parseInt(Math.random()*z.length);A=z[E][0];y=z[E][1];z.splice(E,1)}B();F-=new Date-G;g=window.setInterval(B,F)}function r(I){function G(e){for(var x=0,v=0,u=[],t;x<e.length;){for(v=0;v<e.length-x-1;){e[v]>e[v+1]&&(t=e[v],e[v]=e[v+1],e[v+1]=t,u.push([v,v+1])),++v}++x}return u}function F(t){function e(v,O,E){var D;if(1<v.length){D=v[Math.floor((E+O)/2)];for(var N=O,C=E,x;N<=C;){for(;v[N]<D;){N++}for(;v[C]>D;){C--}N<=C&&(x=v[N],v[N]=v[C],v[C]=x,u.push([N,C]),N++,C--)}D=N;O<D-1&&e(v,O,D-1);D<E&&e(v,D,E)}return v}var u=[];e(t,0,t.length-1);return u}function A(t){var e=t.length,x,v,u=[];for(s=0;s<e;s++){x=s;for(v=s+1;v<e;v++){t[v]<t[x]&&(x=v)}s!=x&&(v=t[s],t[s]=t[x],t[x]=v,u.push([s,x]))}return u}function B(){var e,C,x,u,v,t;0===L.length?window.clearInterval(g):(u=Math.floor(L[0][0]/I.x),x=L[0][0]-u*I.x,t=Math.floor(L[0][1]/I.x),v=L[0][1]-t*I.x,L.splice(0,1),e=b.getImageData(x*J,u*H,J,H),C=b.getImageData(v*J,t*H,J,H),b.putImageData(C,x*J,u*H),b.putImageData(e,v*J,t*H))}for(var z=[],w=[],L=[],K=I.x*I.y,J=b.canvas.width/I.x,H=b.canvas.height/I.y,y=h.animate.stepDelay,M=new Date,s=0;s<K;s++){z.push(s)}for(s=K-1;0<=s;s--){K=Math.floor(Math.random()*s),w.push(z[K]),z.splice(K,1)}(function(t){for(var D,v,x,C,u=0;u<t.length;u++){v=Math.floor(t[u]/I.x),D=t[u]-v*I.x,C=Math.floor(u/I.x),x=u-C*I.y,b.putImageData(q.getImageData(D*J,v*H,J,H),x*J,C*H)}})(w);switch(I.mode){case"bubble":L=G(w);break;case"quick":L=F(w);break;case"selection":L=A(w);break;default:L=G(w)}B();y-=new Date-M;g=window.setInterval(B,y)}var q;q=document.createElement("canvas").getContext("2d");q.canvas.width=b.canvas.width;q.canvas.height=b.canvas.height;q.putImageData(b.getImageData(0,0,b.canvas.width,b.canvas.height),0,0);b.clearRect(0,0,b.canvas.width,b.canvas.height);switch(h.animate.mode){case"tile":l(h.animate.tile);break;case"pixastic":o(h.animate.pixastic);break;case"sorting":r(h.animate.sorting);break;default:b.putImageData(q.getImageData(0,0,q.canvas.width,q.canvas.height),0,0)}}var h,g,b;k.hooks.processOptions.push(function(m,l){!0===l.animate.active&&(m.hooks.draw.push(f),m.hooks.bindEvents.push(d),h=l)})},options:{animate:{active:!1,mode:"tile",tile:{x:3,y:3,mode:"lt"},pixastic:{maxValue:1,mode:"blurfast"},sorting:{x:5,y:5,mode:"bubble"},stepDelay:500,steps:20}},name:"animate",version:"0.2"})})(jQuery);(function(c){var a={grid:{show:!1}},b={};c.plot.plugins.push({init:function(e,A){function l(h,p){var k,f;if(!0===v.series.video.active&&!1===x){z=h.getData();for(k=0;k<z.length;k++){if(!0===z[k].video.show){for(u=Math.max(u,z[k].data.length),z[k].dataOrg=s(z[k].data),f=0;f<z[k].data.length;f++){z[k].data[f]=null}}}h.setData(z);x=!0}}function g(d,f){!0===v.series.video.active&&(y=d,window.setTimeout(o,0))}function o(){function t(f){r={seriesIndex:m,dataIndex:w,data:z[m].data[w],serie:z[m]};"string"===typeof f.stepAction?d.push(f.stepCollection[f.stepAction].runStep(r,f.stepCollection[f.stepAction])):"object"===typeof f.stepAction&&d.push(f.stepAction.runStep(r,f.stepAction))}var m,d=[],r,h;for(m=0;m<z.length;m++){!0===z[m].video.show&&(z[m].data[w]=z[m].dataOrg[w],y.setData(z),y.draw(),h=z[m].video,"byStep"===h.stepAction?t(h.data[m].data[m][h.stepCollection.byStep.stepDataIndex]):t(h.stepAction))}w++;w<u&&c.when.apply(null,d).then(function(){o()})}function s(f){if(null===f||"object"!==typeof f){return f}var d=new f.constructor,h;for(h in f){d[h]=s(f[h])}return d}var z=null,v=null,y=null,x=!1,w=0,u=0;e.hooks.processOptions.push(function(f,d){d.series.video.active&&(v=d,c.extend(!0,d,a),c.plot.JUMlib.data.extendEmpty(d,b),v=d,f.hooks.draw.push(l),f.hooks.bindEvents.push(g))})},options:{series:{video:{active:!1,show:!1,stepAction:"simple",stepCollection:{simple:{runStep:function(e,d){var f;if(d.walkPad){return f=c.Deferred(),c(d.walkPad).append("<br>"+e.data[2]),window.setTimeout(function(){f.resolve()},d.walkTime),f.promise()}alert(e.data[2])},walkPad:"#stepPad",walkTime:2000},youtube:{runStep:function(e,d){function g(){jQuery(d.videoPad).tubeplayer("destroy");f.resolve()}var f;if(d.videoPad){return f=c.Deferred(),3<e.data.length?"string"===typeof e.data[3]&&(jQuery.tubeplayer.defaults.afterReady=function(){jQuery(d.videoPad).tubeplayer("play")},jQuery(d.videoPad).tubeplayer({width:d.width,height:d.height,initialVideo:e.data[3],onPlayerEnded:g,onStop:g}),jQuery(d.videoPad).tubeplayer("play"),window.setTimeout(function(){g()},d.maxDuration)):window.setTimeout(function(){f.resolve()},d.noVideoDuration),f.promise()}alert("no videoPad defined")},videoPad:"#videoPad",width:400,height:300,maxDuration:20000,noVideoDuration:2000},delay:{runStep:function(g,d){var f;f=$Deferred();window.setTimeout(function(){f.resolve()},d.duration);return f.promise()},duration:1000},byStep:{stepDataIndex:2}}}}},name:"video",version:"0.2"})})(jQuery);(function(c){var a={},b={series:{editMode:"xy",nearBy:{distance:7,findItem:null,findMode:"circle",drawHover:null}}};c.plot.plugins.push({init:function(d){function v(k,q,m,p){!0===q.contour.show&&(q.nearBy.findItem=l,q.nearBy.drawHover=u)}function g(k,f,m){if(m.contour.show){for(o=k.getPlotOffset(),k=0;k<m.data.length;k++){h(f,m,k,m.color)}}}function e(f,p){var k=s.grid.overlay.image,m='<div style="position:absolute;width:'+f.width()+";height:"+f.height()+";top:"+o.top+";left:"+o.left+';">',m=c(m);c(k).css("opacity",s.grid.overlay.opacity).width(f.width()).height(f.height());c(k).css("top",o.top).css("position","absolute").css("left",o.left);c(k).appendTo(m);m.appendTo(f.getPlaceholder())}function h(D,C,B,A){var z=C.data[B];B=parseInt(o.left+C.xaxis.p2c(z[0]),0);var y=parseInt(o.top+C.yaxis.p2c(z[1]),0),x=parseInt(C.xaxis.scale*z[2],0),w=parseInt(C.yaxis.scale*z[3],0),z=z[4],t,f;C=C.contour.ellipseStep;x/=2;f=w/2;w=B+x*Math.cos(z);t=y+x*Math.sin(z);D.save();D.beginPath();D.fillStyle=A;D.moveTo(w,t);for(A=C;A<2*Math.PI;A+=C){w=B+x*Math.cos(A)*Math.cos(z)-f*Math.sin(A)*Math.sin(z),t=y+x*Math.cos(A)*Math.sin(z)+f*Math.sin(A)*Math.cos(z),D.lineTo(w,t)}D.closePath();D.fill();D.restore()}function l(t,A,z,x){function w(f,p,m,k){f=null;return f=[m,s.series.justEditing[1].dataIndex]}function r(k,f,p,m){if(m.contour.show){for(k=0;k<m.data.length;k++){}}return null}function q(k,f,p,m){if(m.contour.show){for(k=0;k<m.data.length;k++){}}return null}var y=null;s.series.justEditing?s.series.justEditing[1].seriesIndex===z&&(y=w(t,A,z,x)):y=s.grid.editable?r(t,A,z,x):q(t,A,z,x);return y}function u(k,f,m){k.save();k.translate(-o.left,-o.top);h(k,f,m,"rgba(255,255,255,"+f.bandwidth.highlight.opacity+")");k.restore()}var o=null,s=null;d.hooks.processOptions.push(function(f,k){k.series.contour.active&&(c.extend(!0,k,a),c.plot.JUMlib.data.extendEmpty(k,b),s=k,f.hooks.processRawData.push(v),f.hooks.drawSeries.push(g),s.grid.overlay.image&&f.hooks.draw.push(e))})},options:{series:{contour:{active:!1,show:!1,ellipseStep:0.1}},grid:{overlay:{image:null,opacity:0.2}}},name:"contour",version:"0.1"})})(jQuery);var candleData=[];var candleCoeff=(1000*60)*5;var lineWidth;function updateLastCandTrade(){if(tradeDataLoaded==false){setTimeout(function(){updateLastTrade()},20);return}curTime=new Date();rounded=new Date((Math.floor(curTime.getTime()/candleCoeff)*candleCoeff));seconds=new Date().getTime();num3=price;num3=parseFloat(num3);if(candleData[candleData.length-1][0]==rounded.getTime()){candleData[candleData.length-1][2]=num3;if(num3<candleData[candleData.length-1][3]){candleData[candleData.length-1][3]=num3}if(num3>candleData[candleData.length-1][4]){candleData[candleData.length-1][4]=num3}}else{candleData.push([rounded.getTime(),num3,num3,num3,num3]);if(candleData.length!=0){for(var a=0;a<(candleData.length/5);a++){difference=(rounded.getTime())-candleData[a][0];if(difference>((keepMins*60*1000))){delete candleData[a];candleData.splice(a,1);a--}}}}}function updateCandle(){if(tradeDataLoaded==false){setTimeout(function(){updateLastTrade()},20);return}var d;var c=$("#placeholder");if(darkTheme){d="rgb(255,255,255)"}else{d="rgb(0,0,0)"}if(!showCand){return}var b={series:{candlestick:{active:true}},xaxis:{mode:"time",min:candleData[0][0],max:(candleData[candleData.length-1][0])+candleCoeff,timezone:"browser"},yaxes:[{labelWidth:labelWidthRight,position:"right"},{min:minvol,max:maxvol,position:"left",labelWidth:labelWidthLeft}],grid:{hoverable:false,clickable:false}};b.yaxes[0].max=max;b.yaxes[0].min=min;if(buyDepthData.length!=0&&sellDepthData.length!=0){if(parseFloat(min)>parseFloat(getHighBid())){b.yaxes[0].min=parseFloat(getHighBid())}if(parseFloat(max)<parseFloat(getLowAsk())){b.yaxes[0].max=parseFloat(getLowAsk())}}var a=$.plot.candlestick.createCandlestick({label:"Last Trade",data:candleData,candlestick:{show:true,lineWidth:lineWidth,rangeWidth:"1",rangeColor:d}});a.push({label:"Volume",data:volData,color:volBarColor,bars:{show:true,barWidth:flotBarWidth,fill:true,lineWidth:0.3,fillColor:{colors:[{opacity:0.1},{opacity:0.4}]}},yaxis:2});a.push({data:smaData,color:"#FFFF00",label:"SMA",lines:{show:showSMA,lineWidth:1.5}});a.push({data:emaData,color:"#FFFFFF",label:"EMA",lines:{show:showEMA,lineWidth:1.5}});a.unshift({data:docData,color:"#5A5A9D",label:"DOC",lines:{show:showDOC,fill:true,lineWidth:0}});plot=$.plot($("#placeholder"),a,b);plot.draw();if(showBidAskLines&&buyDepthData.length!=0&&sellDepthData.length!=0){drawBidAskLines(plot,"ask");drawBidAskLines(plot,"bid")}}function changeCandleGraphHist(a){docMin=null;docMax=null;min=0;max=0.06;minOrig=0;maxOrig=0.000001;minvol=0;maxvol=20;flotBarWidth=60000;periodSold=0;periodBought=0;boughtHistData=[];soldHistData=[];appendclearTrades();newsDataGraph.length=0;updateNewsDataGraph(parseInt(a*60));coeff=(1000*60);lineWidth="10px";if(a>61){candleCoeff=coeff*5;coeff=coeff*5}else{candleCoeff=coeff}keepMins=parseInt(a);var c;tradeDataLoaded=false;tradeData=[];sumTradeDat=[];volData=[];candleData=[];tradeDataTicks=[];$.ajax({type:"GET",url:"https://api.bitcointicker.co/trades/"+curExchange+"/"+curPair+"/"+a+"/",dataType:"json",success:function(e){for(c in e){if(e[c].tradeType=="ask"){periodSold=periodSold+parseFloat(e[c].amount);curTradeType=0}else{periodBought=periodBought+parseFloat(e[c].amount);curTradeType=1}if(tradeData.length>0){if(tradeData[tradeData.length-1][0]>e[c].time*1000){}}num3=parseFloat(e[c].price);num3=parseFloat(e[c].price);rounded=new Date((Math.floor((e[c].time*1000)/candleCoeff)*candleCoeff));if(candleData.length==0){candleData.push([rounded.getTime(),num3,num3,num3,num3])}else{if(candleData[candleData.length-1][0]==rounded.getTime()){candleData[candleData.length-1][2]=num3;if(num3<candleData[candleData.length-1][3]){candleData[candleData.length-1][3]=num3}if(num3>candleData[candleData.length-1][4]){candleData[candleData.length-1][4]=num3}}else{candleData.push([rounded.getTime(),num3,num3,num3,num3]);if(candleData.length!=0){for(var h=0;h<(candleData.length/5);h++){difference=(rounded.getTime())-candleData[h][0];if(difference>((keepMins*60*1000))){delete candleData[h];candleData.splice(h,1);h--}}}}}if(num3>parseFloat(maxOrig)){max=parseFloat(num3).toFixed(pricePrecision);maxOrig=parseFloat(num3).toFixed(pricePrecision)}if(minOrig==0||num3<parseFloat(minOrig)){min=parseFloat(num3).toFixed(pricePrecision);minOrig=parseFloat(num3).toFixed(pricePrecision)}if(e[c].price<price){tradeData.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,0,curTradeType]);tradeDataTicks.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,0,1]);if(e.length-c<34){appendTradeCells(e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,0,false,false)}}else{tradeData.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,1,curTradeType]);tradeDataTicks.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,1,1]);if(e.length-c<34){appendTradeCells(e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,1,false,false)}}price=e[c].price;last=e[c].price;voldate=([e[c].time]*1000);rounded=new Date((Math.floor(voldate/coeff)*coeff));seconds=new Date();if(volData.length==0){volData.push([rounded.getTime(),parseFloat(e[c].amount)]);if(currentExchange=="mtgox"){if(e[c].tradeType=="ask"){soldHistData.push([rounded.getTime(),parseFloat(e[c].amount)]);boughtHistData.push([rounded.getTime(),parseInt(0)])}else{soldHistData.push([rounded.getTime(),parseInt(0)]);boughtHistData.push([rounded.getTime(),parseFloat(e[c].amount)])}}}else{if(volData[volData.length-1][0]==rounded.getTime()){volData[volData.length-1][1]=(volData[volData.length-1][1])+(parseFloat(e[c].amount));if(currentExchange=="mtgox"){if(e[c].tradeType=="ask"){soldHistData[soldHistData.length-1][1]=(soldHistData[soldHistData.length-1][1])+(parseFloat(e[c].amount))}else{boughtHistData[boughtHistData.length-1][1]=(boughtHistData[boughtHistData.length-1][1])+(parseFloat(e[c].amount))}}if(volData[volData.length-1][1]>maxvol){maxvol=Math.round(volData[volData.length-1][1])+50}}else{volData.push([rounded.getTime(),parseFloat(e[c].amount)]);if(currentExchange=="mtgox"){if(e[c].tradeType=="ask"){soldHistData.push([rounded.getTime(),parseFloat(e[c].amount)]);boughtHistData.push([rounded.getTime(),parseInt(0)])}else{soldHistData.push([rounded.getTime(),parseFloat(0)]);boughtHistData.push([rounded.getTime(),parseFloat(e[c].amount)])}}if(e[c].amount>maxvol){maxvol=Math.round(volData[volData.length-1][1])+50}}}}if(tradeData.length!=0&&1==2){var g=1;var d=(tradeData.length-31);if(d<0){d=0}for(var f=tradeData.length-1;f>d;f--){volnum3=tradeData[f][2];volnum3=parseFloat(volnum3).toFixed(pricePrecision);seconds=new Date(tradeData[f][0]);if(tradeData[f][3]==1){if(keepMins>43200){document.getElementById("tradeT"+g).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+g).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+g).style.color="#29CB1C";if(parseFloat(volnum3)>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}else{document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}document.getElementById("tradeVol"+g).style.color="#29CB1C";document.getElementById("tradePrice"+g).firstChild.nodeValue="Price: "+tradeData[f][1];document.getElementById("tradePrice"+g).style.color="#29CB1C"}else{if(keepMins>43200){document.getElementById("tradeT"+g).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+g).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+g).style.color="red";if(volnum3>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}else{document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}document.getElementById("tradeVol"+g).style.color="red";document.getElementById("tradePrice"+g).firstChild.nodeValue="Price: "+tradeData[f][1];document.getElementById("tradePrice"+g).style.color="red"}g++}}if(showSMA){initSma()}if(showEMA){initEma()}if(showDOC){initDoc()}tradeDataLoaded=true;updateCandle()},data:{},async:true});if(currentExchange=="mtgox"){updateBoughtSoldText();drawBoughtSoldGraph()}else{document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a"}if(depthDisplayType=="boughtsold"){drawBoughtSoldSumGraph()}if(currentExchange.endsWith(currentCrypto.toLowerCase())){var b=currentExchange.replace(currentCrypto.toLowerCase(),"")}else{var b=currentExchange}if(!firstPageLoad){history.pushState(null,"","/"+b+"/"+currentCrypto.toLowerCase()+"/"+currentCurrency.toLowerCase()+"/"+getTimePeriodString(keepMins)+"/")}else{firstPageLoad=false}}function hourlyCandGraphHist(d){appendclearTrades();var c;var b;var e;var a;boughtHistData=[];soldHistData=[];docMin=null;docMax=null;min=0;max=0.06;minOrig=0;maxOrig=0.000001;minvol=0;maxvol=20;periodSold=0;periodBought=0;lineWidth="6px";flotBarWidth=60000;if(d==720){flotBarWidth=60000*5;coeff=(1000*60)*5}if(d==1440){lineWidth="3px";flotBarWidth=60000*4;coeff=(1000*60)*5}if(d==4320){flotBarWidth=60000*60;coeff=(1000*60)*60}if(d>4320&&d<10080){coeff=(1000*60)*10;flotBarWidth=60000*60}if(d>=10080&&d<43200){coeff=(1000*60)*60;flotBarWidth=60000*50}if(d>=43200){flotBarWidth=60000*1250;coeff=(1000*60)*1440;lineWidth="6px"}if(d>=131487){lineWidth="8px"}if(d>=262974){lineWidth="5px"}if(d>7889238){lineWidth="1px"}candleCoeff=coeff;keepMins=parseInt(d);var g;tradeDataLoaded=false;tradeData=[];sumTradeDat=[];volData=[];candleData=[];tradeDataTicks=[];$.ajax({type:"GET",url:"https://api.bitcointicker.co/candtrades/"+curExchange+"/"+curPair+"/"+d+"/",dataType:"json",success:function(h){for(g in h){periodSold=periodSold+parseFloat(h[g].asksum);periodBought=periodBought+parseFloat(h[g].bidsum);num3=parseFloat(h[g].price);rounded=new Date((Math.floor((h[g].time*1000)/candleCoeff)*candleCoeff));c=parseFloat(h[g].open);b=parseFloat(h[g].close);e=parseFloat(h[g].minprice);a=parseFloat(h[g].maxprice);candleData.push([rounded.getTime(),c,b,e,a]);if(parseFloat(h[g].maxprice)>parseFloat(maxOrig)){max=parseFloat(h[g].maxprice).toFixed(pricePrecision);maxOrig=parseFloat(h[g].maxprice).toFixed(pricePrecision)}if(minOrig==0||parseFloat(h[g].minprice)<parseFloat(minOrig)){min=parseFloat(h[g].minprice).toFixed(pricePrecision);minOrig=parseFloat(h[g].minprice).toFixed(pricePrecision)}if(h[g].price<price){tradeData.push([h[g].time*1000,parseFloat(h[g].price).toFixed(pricePrecision),h[g].amount,0,h[g].bidsum,h[g].asksum]);tradeDataTicks.push([h[g].time*1000,parseFloat(h[g].price).toFixed(pricePrecision),h[g].amount,0,1]);appendTradeCells(h[g].time*1000,parseFloat(h[g].price).toFixed(pricePrecision),h[g].amount,0,true,false)}else{tradeData.push([h[g].time*1000,parseFloat(h[g].price).toFixed(pricePrecision),h[g].amount,1,h[g].bidsum,h[g].asksum]);tradeDataTicks.push([h[g].time*1000,parseFloat(h[g].price).toFixed(pricePrecision),h[g].amount,1,1]);appendTradeCells(h[g].time*1000,parseFloat(h[g].price).toFixed(pricePrecision),h[g].amount,1,true,false)}price=h[g].price;last=h[g].price;voldate=([h[g].time]*1000);rounded=new Date(voldate);if(volData.length==0){volData.push([[h[g].time]*1000,parseFloat(h[g].amount)]);maxvol=Math.round(h[g].amount)+50;if(currentExchange=="mtgox"){soldHistData.push([rounded.getTime(),parseFloat(h[g].asksum)]);boughtHistData.push([rounded.getTime(),parseFloat(h[g].bidsum)])}}else{if(volData[volData.length-1][1]>maxvol){maxvol=Math.round(volData[volData.length-1][1])+50}volData.push([h[g].time*1000,parseFloat(h[g].amount)]);if(currentExchange=="mtgox"){soldHistData.push([rounded.getTime(),parseFloat(h[g].asksum)]);boughtHistData.push([rounded.getTime(),parseFloat(h[g].bidsum)])}}}sumTradeDat[sumTradeDat.length]=tradeData[tradeData.length-1][1];if(showSMA){initSma()}if(showEMA){initEma()}if(showDOC){initDoc()}tradeDataLoaded=true;updateCandle()},data:{},async:true});updateCentChange();if(currentExchange=="mtgox"){updateBoughtSoldText();drawBoughtSoldGraph()}else{document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a"}if(depthDisplayType=="boughtsold"){drawBoughtSoldSumGraph()}if(currentExchange.endsWith(currentCrypto.toLowerCase())){var f=currentExchange.replace(currentCrypto.toLowerCase(),"")}else{var f=currentExchange}if(!firstPageLoad){history.pushState(null,"","/"+f+"/"+currentCrypto.toLowerCase()+"/"+currentCurrency.toLowerCase()+"/"+getTimePeriodString(keepMins)+"/")}else{firstPageLoad=false}}var DepthCookie=(function(){var c=null;var a=function(){};var b=function(){var d=getCookie("depthvalues");if(d!=""){return d}else{return null}};var a=function(){var d=new Date();d.setDate(d.getDate()+5*365);setCookie("depthvalues",JSON.stringify(c),d,"/")};return{initDepthCookie:function(){var d=b();if(d!==null){c=JSON.parse(d)}},getValue:function(d){var e;if(c!==null){e=c[d];if(e===undefined){return null}else{return e}}else{return null}},setValue:function(d,e){if(c===null){c={}}c[d]=e;a()}}})();var TickerCookies=(function(){var a=null;var b=function(){};var c=function(){var d=getCookie("tickercookies");if(d!=""){return d}else{return null}};var b=function(){var d=new Date();d.setDate(d.getDate()+5*365);setCookie("tickercookies",JSON.stringify(a),d,"/")};return{init:function(){var d=c();if(d!==null){a=JSON.parse(d)}},getValue:function(d){var e;if(a!==null){e=a[d];if(e===undefined){return null}else{return e}}else{return null}},setValue:function(d,e){if(a===null){a={}}a[d]=e;b()}}})();var curExchange="";var curPair="";var last=0;var buy=0;var sell=0;var lastVol=0;var lastDepthVol=0;var lastDepthChange=0;var newsjsonData=[];var depthmap={};var depthCellsInitiated=false;var firstTradeReceived=false;var depthGraphLoaded=false;var depthGraphRoundedLoaded=false;var lastSellAnimateTime=new Date();var lastBuyAnimateTime=new Date();var tradeDataLoaded=false;var conn;var stampConn;var stampDepthConn;var btcconn;var btcconnConnected=false;var min,max,minvol,maxvol;var maxOrig,minOrig;var depthPrecision=5;var pricePrecision=3;var graphPaddingSize=0.5;var depthBarGraphWidth=0.5;var minMaxArrowPrecision=1;var bidaskLinePrecision=1;var bidaskLineDisplayPrecision=1;var bidaskLineTextType="10px Arial";var firstPageLoad=true;var firstUpdateCumulativeCall=true;min=0;max=10;minOrig=0;maxOrig=10;minvol=0;maxvol=20;var seconds=new Date().getTime()/1000;var lastDepthCellsUpdate=new Date().getTime();var tradeData=[];var tradeDataTicks=[];var smaData=[];var emaData=[];var docData=[];var maxRangeData=[];var minRangeData=[];var docMin;var docMax;var showSMA=false;var showEMA=false;var showDOC=false;var showRANGE=false;var showCand=false;var showLegend=false;var zoomedDepthThresh=30;var animationInProgress=false;var animationRequestId=0;var animationStartMin=0;var animationStartMax=0;var doAnimation=true;var showBidAskLines=false;var updateDepthDataLastRun;var updateDepthData5MinLastRun;var emaPeriod=22;var newsData=[];var alertQueue=[];var processingAlerts=false;var newsDataGraph=[];var currentNewsItem=0;var globalNewsTimer=null;var globalNewsFadeTimer=null;var lastTradePrice=0;var beepSound;var alertSound;var beepSoundLoaded=false;var playticksound=false;var alertTypeSound=false;var alertTypeChrome=false;var highThreshValSet=false;var highThreshVal=0;var incrementThreshSet=false;var incrementHighVal=0;var incrementLowVal=0;var incrementThreshVal=0;var lowThreshValSet=false;var lowThreshVal=0;var notification;var lastdivID=1;var firstdivID=1;var displayRoundedDepth=false;var pusher;var threshSoundLoaded=false;var buySumDataRoundedDiffHigher=[];var buySumDataRoundedDiffLower=[];var sellSumDataRoundedDiffHigher=[];var sellSumDataRoundedDiffLower=[];var showNews=false;var ordersExpanded=false;var lastSellSumData=[];var lastBuySumData=[];var lastSellSumTarget=[];var lastBuySumTarget=[];var labelWidthRight=35;var labelWidthLeft=35;var depthPollScheduled=false;var sellDepthData=[];var sellDepthGraph=[];var sellDepthGraph1=[];var sellDepthGraph2=[];var buyDepthGraph=[];var buyDepthGraph1=[];var buyDepthGraph2=[];var sellSumData=[];var sellSumData1=[];var sellSumData2=[];var sellSumData3=[];var buyDepthData=[];var buySumData=[];var buySumData1=[];var buySumData2=[];var lagData=[];var updateInterval=2000;var highlightvol=10;var lastUSDTick,lastGBPTick,lastEURTick,lastStampUSDTick,lastBtcchinaTick,lastBtceUSDTick,lastHuobiCNYTick,lastAUDTick,lastBitfinexUSDTick,lastKrakenEURTick,lastokcoinCNYTick,lastBitfinexUSDBCHTick,lastGeminiUSDTick,lastBitfinexETHBTCTick,lastCoinbaseUSDBCHTick;var stampBids={};var stampAsks={};var stampLowBid=0;var stampHighAsk=0;var firstStampDepth=true;lastUSDTick=0;lastGBPTick=0;lastEURTick=0;lastStampUSDTick=0;lastBtcchinaTick=0;lastBtceUSDTick=0;lastHuobiCNYTick=0;lastBitfinexUSDTick=0;lastKrakenEURTick=0;lastAUDTick=0;lastokcoinCNYTick=0;lastBitfinexUSDBCHTick=0;lastGeminiUSDTick=0;lastCoinbaseUSDBCHTick=0;var sellDepthGraphRounded=[];var sellDepthGraphRounded1=[];var sellDepthGraphRounded5min=[];var buyDepthGraphRounded=[];var buyDepthGraphRounded1=[];var buyDepthGraphRounded5min=[];var firstSnapshot=true;var sellSumDataRounded=[];var sellSumDataRounded1=[];var sellSumDataRounded2=[];var buySumDataRounded=[];var buySumDataRounded1=[];var buySumDataRounded2=[];var firstTickReceived=false;var priceDivisor=100000;var graphMaxValue=0;var maxchangeVol=1;var connectedUsers=0;var backgroundColor="#000000";var textColor="#FFFFFF";var tradeCellBckColor="#101010";var volBarColor="#AFD8F8";var expiryDate;var curTradeType=0;var lastReconnectAttempt=10000000;var lastTradeTime;var totalPoints=300;var volData=[];var sumTradeDat=[];var lastUpdate=new Date().getTime();var curTime=new Date().getTime();var lastSellAnimateTime;var lastbuyAnimateTime;var price=0;var depthPrice=0;var num3=0;var coeff=1000*60;var volnum3;var curTime=new Date();var rounded=new Date((Math.floor(curTime.getTime()/coeff)*coeff)-30000);var voldate;var lastTid=0;var screenWidth=0;var screenHeight=0;var graphWidth=0;var graphHeight=0;var opacityf=0;var keepMins=61;var difference;var flotBarWidth=60000;var tickerToggleButn;var optionsToggleButn;var themeToggleButn;var expandOrderButn;var plusToggleButn;var minusToggleButn;var showTicker=true;var showOptions=false;var darkTheme=true;var bidsUpdated=false;var previousPoint=null;var xpoint;var ypoint;var depthRange=300;var currentCurrency="USD";var currentCrypto="BTC";var currentExchange="stamp";var connectionType="pubnub";var ws;var boughtSoldData=[];var periodSold=0;var periodBought=0;var depthDisplayType="cumulative";var depthBidAskSumLoaded=false;var depthBidSum=[];var depthAskSum=[];var boughtHistData=[];var soldHistData=[];var bidLine=[];var askLine=[];var pubnub;var logScale=false;function roundHalf(a){return Math.round(a*2)/2}function getPairsFromUrl(){var a=window.location.pathname.split("/");return a[2]+"/"+a[3]}function displayAlert(){if(alertQueue.length!=0){var a;var b;b=alertQueue[0];$("#alerttext").text(b);if(b.indexOf("high")!=-1){a="green"}if(b.indexOf("low")!=-1){a="red"}if(b.indexOf("peak")!=-1){$("#alerttext").css("font-size","small")}else{$("#alerttext").css("font-size","medium")}switch(a){case"green":$("#alerts").css({background:"rgb(3,169,41)"}).css({background:"-moz-linear-gradient(left, rgba(3,169,41,1) 0%, rgba(2,143,34,1) 44%, rgba(0,109,25,1) 100%)"}).css({background:"-webkit-gradient(linear, left top, right top, color-stop(0%,rgba(3,169,41,1)), color-stop(44%,rgba(2,143,34,1)), color-stop(100%,rgba(0,109,25,1)))"}).css({background:"-webkit-linear-gradient(left, rgba(3,169,41,1) 0%,rgba(2,143,34,1) 44%,rgba(0,109,25,1) 100%);"}).css({background:"-o-linear-gradient(left, rgba(3,169,41,1) 0%,rgba(2,143,34,1) 44%,rgba(0,109,25,1) 100%)"}).css({background:"ms-linear-gradient(left, rgba(3,169,41,1) 0%,rgba(2,143,34,1) 44%,rgba(0,109,25,1) 100%)"}).css({background:"linear-gradient(left, rgba(3,169,41,1) 0%,rgba(2,143,34,1) 44%,rgba(0,109,25,1) 100%)"});break;case"red":$("#alerts").css({background:"rgb(169,3,41)"}).css({background:"-moz-linear-gradient(left, rgba(169,3,41,1) 0%, rgba(143,2,34,1) 44%, rgba(109,0,25,1) 100%)"}).css({background:"-webkit-gradient(linear, left top, right top, color-stop(0%,rgba(169,3,41,1)), color-stop(44%,rgba(143,2,34,1)), color-stop(100%,rgba(109,0,25,1)))"}).css({background:"-webkit-linear-gradient(left, rgba(169,3,41,1) 0%,rgba(143,2,34,1) 44%,rgba(109,0,25,1) 100%);"}).css({background:"-o-linear-gradient(left, rgba(169,3,41,1) 0%,rgba(2,143,34,1) 44%,rgba(109,0,25,1) 100%)"}).css({background:"ms-linear-gradient(left, rgba(3,169,41,1) 0%,rgba(2,143,34,1) 44%,rgba(109,0,25,1) 100%)"}).css({background:"linear-gradient(left, rgba(169,3,41,1) 0%,rgba(143,2,34,1) 44%,rgba(109,0,25,1) 100%)"});break}$("#alerts").slideDown(1000,function(){$("#alerttext").show();$("#alertimg").show();setTimeout(function(){$("#alerttext").hide();$("#alertimg").hide();alertQueue.splice(0,1);$("#alerts").slideUp(1000,function(){displayAlert()})},10000)})}else{processingAlerts=false;return}}function canvas_arrow(a,e,c,f,d){var g=5;var k=f-e;var h=d-c;var b=Math.atan2(h,k);a.moveTo(e,c);a.lineTo(f,d);a.lineTo(f-g*Math.cos(b-Math.PI/6),d-g*Math.sin(b-Math.PI/6));a.moveTo(f,d);a.lineTo(f-g*Math.cos(b+Math.PI/6),d-g*Math.sin(b+Math.PI/6))}function setupPrecision(a){switch(a){case"USD":depthPrecision=5;graphPaddingSize=0.5;depthBarGraphWidth=0.5;pricePrecision=3;minMaxArrowPrecision=1;bidaskLinePrecision=1;bidaskLineDisplayPrecision=1;bidaskLineTextType="10px Arial";break;case"BTC":depthPrecision=6;graphPaddingSize=0.00001;depthBarGraphWidth=0.00001;pricePrecision=6;minMaxArrowPrecision=6;bidaskLinePrecision=6;bidaskLineDisplayPrecision=5;bidaskLineTextType="9px Arial";break;default:depthPrecision=5;graphPaddingSize=0.5;depthBarGraphWidth=0.5;pricePrecision=3;minMaxArrowPrecision=1;bidaskLinePrecision=1;bidaskLineDisplayPrecision=1;bidaskLineTextType="10px Arial"}}function binarySearch2d(e,d){var c=0;var a=e.length-1;var f;var b={};while(c<=a){f=Math.floor((c+a)/2);if(parseFloat(e[f][0])===d){b.found=true;b.pos=f;return b}else{if(e[f][0]<d){c=f+1}else{a=f-1}}}b.found=false;b.pos=c;return b}function binarySearch2dReverse(e,d){var c=0;var a=e.length-1;var f;var b={};while(c<=a){f=Math.floor((c+a)/2);if(parseFloat(e[f][0])===d){b.found=true;b.pos=f;return b}else{if(e[f][0]>d){c=f+1}else{a=f-1}}}b.found=false;b.pos=c;return b}function getTradeVolDisplayText(c,a){var b;if(a=="BTC"){if(parseFloat(c)>999){b=(c/1000).toFixed(c%1000!=0)+"k"}else{if(parseFloat(c)>=100){b=parseFloat(c).toFixed(4)}else{if(parseFloat(c)>=10){b=parseFloat(c).toFixed(5)}else{b=parseFloat(c).toFixed(pricePrecision)}}}}else{if(parseFloat(c)>999){b=(c/1000).toFixed(c%1000!=0)+"k"}else{b=parseFloat(c).toFixed(pricePrecision)}}return b}function getVolDisplayTxt(b){var a;if(currentCurrency=="BTC"){a=5}else{a=4}if(parseFloat(b)<10){return parseFloat(b).toFixed(depthPrecision)}else{if(parseFloat(b)>9&&parseFloat(b)<100){return parseFloat(b).toFixed(a)}else{if(parseFloat(b)>99&&parseFloat(b)<1000){return parseFloat(b).toFixed(a)}else{if(parseFloat(b)>999){return(b/1000).toFixed(pricePrecision)+" k"}}}}}function calcDocGraphMax(b,a){return a+((parseFloat(a)-parseFloat(b))*0.1)}function calcDocGraphMin(b,a){return b-((parseFloat(a)-parseFloat(b))*0.1)}function drawHighLowPoints(m,e,q,g){var l=$("#placeholder");var k,c;var r;var f=5;var d;var h;var b;var p;k=plot.pointOffset({x:(e),y:m});if(e>(tradeData[tradeData.length-1][0]-(tradeData[tradeData.length-1][0]-tradeData[0][0])/2)){h=-5.5;b=-20.5;p=-50.5}else{h=5.5;b=20.5;p=22.5}r=plot.getCanvas().getContext("2d");r.strokeStyle="#FFFFFF";r.beginPath();canvas_arrow(r,k.left+b,k.top+0.5,k.left+h,k.top+0.5);r.stroke();r.font="bold 9px Arial";r.fillStyle="#FFFFFF";r.fillText(parseFloat(m).toFixed(minMaxArrowPrecision),k.left+p,k.top+3.5);k=plot.pointOffset({x:(g),y:q});if(g>(tradeData[tradeData.length-1][0]-(tradeData[tradeData.length-1][0]-tradeData[0][0])/2)){h=-5.5;b=-20.5;p=-50.5}else{h=5.5;b=20.5;p=22.5}r=plot.getCanvas().getContext("2d");r.strokeStyle="#FFFFFF";r.beginPath();canvas_arrow(r,k.left+b,k.top+0.5,k.left+h,k.top+0.5);r.stroke();r.font="bold 9px Arial";r.fillStyle="#FFFFFF";r.fillText(parseFloat(q).toFixed(minMaxArrowPrecision),k.left+p,k.top+3.5)}function getHighBid(){var c=false;var b=0;var a;while(c==false&&b<buyDepthData.length){if(parseFloat(buyDepthData[b][1])!=0){a=buyDepthData[b][0];c=true}b++}if(c==false){return buyDepthData[0][0]}else{return a}}function getLowAsk(){var b=false;var a=0;var c;while(b==false&&a<sellDepthData.length){if(parseFloat(sellDepthData[a][1])!=0){c=sellDepthData[a][0];b=true}a++}if(b==false){return sellDepthData[0][0]}else{return c}}function drawBidAskLines(e,f){var h=$("#placeholder");var g,d;var k;var l=false;var c,b;if(volData.length==0||buyDepthData.length==0||sellDepthData.length==0){return}if(f=="bid"){c=getHighBid();g=e.pointOffset({x:(volData[0][0]),y:parseFloat(c).toFixed(bidaskLinePrecision)});d=e.pointOffset({x:(volData[volData.length-1][0])+coeff,y:parseFloat(c).toFixed(bidaskLinePrecision)});k=e.getCanvas().getContext("2d");k.strokeStyle="#29CB1C";k.lineWidth=1;k.beginPath();k.moveTo(g.left+0.5,g.top+0.5);k.lineTo(d.left+0.5,d.top+0.5);k.stroke();k.fillStyle=backgroundColor;k.strokeStyle="#29CB1C";k.beginPath();d.left+=1;k.moveTo(d.left,d.top+0.5);k.lineTo(d.left+3.5,d.top-6.5);k.lineTo(d.left+38.5,d.top-6.5);k.lineTo(d.left+38.5,d.top+6.5);k.lineTo(d.left+3.5,d.top+6.5);k.closePath();k.lineWidth=0;k.fill();k.lineWidth=1;k.stroke();k.font=bidaskLineTextType;k.fillStyle="#29CB1C";k.fillText(parseFloat(c).toFixed(bidaskLineDisplayPrecision),d.left+4,d.top+3.5)}else{b=getLowAsk();g=e.pointOffset({x:(volData[0][0]),y:parseFloat(b).toFixed(bidaskLinePrecision)});d=e.pointOffset({x:(volData[volData.length-1][0])+coeff,y:parseFloat(b).toFixed(bidaskLinePrecision)});k=e.getCanvas().getContext("2d");k.strokeStyle="#FF0000";k.beginPath();k.lineWidth=1;k.moveTo(g.left+0.5,g.top+0.5);k.lineTo(d.left+0.5,d.top+0.5);k.stroke();k.fillStyle=backgroundColor;k.strokeStyle="#FF0000";k.beginPath();d.left+=1;k.moveTo(d.left,d.top+0.5);k.lineTo(d.left+3.5,d.top-6.5);k.lineTo(d.left+38.5,d.top-6.5);k.lineTo(d.left+38.5,d.top+6.5);k.lineTo(d.left+3.5,d.top+6.5);k.closePath();k.lineWidth=0;k.fill();k.lineWidth=1;k.stroke();k.font=bidaskLineTextType;k.fillStyle="#FF0000";k.fillText(parseFloat(b).toFixed(bidaskLineDisplayPrecision),d.left+4,d.top+3.5)}}function update_stamp_live_trades(a){if(currentExchange=="stamp"){lastVol=parseFloat(a.amount);price=parseFloat(a.price);updateLastTrade();if(showCand){updateLastCandTrade()}}}function update_stamp_live_depth(d){var c=0;var h=0;var a=0;var l=false;var k;var f={};var g={};stampBids={};stampAsks={};if(currentExchange=="stamp"){if(d.bids.length>30){c=30}else{c=d.bids.length}if(d.asks.length>30){h=30}else{h=d.asks.length}lastUpdate=new Date().getTime();if(tradeDataTicks.length!=0){buy=parseFloat(d.bids[0][0]);sell=parseFloat(d.asks[0][0]);last=parseFloat(tradeDataTicks[tradeDataTicks.length-1][1]);updateLast()}var b=c;var e=h;stampLowBid=parseFloat(d.bids[b-1][0]);stampHighAsk=parseFloat(d.asks[e-1][0]);for(i=0;i<c;i++){a=d.bids[i][0];stampBids[parseFloat(a)]=parseFloat(d.bids[i][1]);l=false;for(j=0;(j<buyDepthData.length&&l==false);j++){if(parseFloat(a)==parseFloat(buyDepthData[j][0])){if(parseFloat(d.bids[i][1]).toFixed(depthPrecision)!=parseFloat(buyDepthData[j][1]).toFixed(depthPrecision)){lastDepthChange=parseFloat(d.bids[i][1])-parseFloat(buyDepthData[j][1]);depthPrice=parseFloat(a*priceDivisor);lastDepthVol=parseFloat(d.bids[i][1])*100000000;updateLastBuy();updateGraphLastBuy()}l=true}else{if(parseFloat(a)>parseFloat(buyDepthData[j][0])){lastDepthVol=parseFloat(d.bids[i][1])*100000000;depthPrice=parseFloat(a*priceDivisor);lastDepthChange=parseFloat(d.bids[i][1]);updateLastBuy();updateGraphLastBuy();l=true}}}}l=false;for(j=0;(j<buyDepthData.length&&l==false);j++){if(parseFloat(buyDepthData[j][0])<parseFloat(d.bids[c-1][0])){l=true}else{if(!(parseFloat(buyDepthData[j][0]) in stampBids)){a=parseFloat(parseFloat(buyDepthData[j][0]));lastDepthChange=0-parseFloat(buyDepthData[j][1]);depthPrice=a*priceDivisor;lastDepthVol=0;updateLastBuy();updateGraphLastBuy()}}}for(i=0;i<h;i++){a=d.asks[i][0];stampAsks[parseFloat(a)]=parseFloat(d.asks[i][1]);l=false;for(j=0;(j<sellDepthData.length&&l==false);j++){if(parseFloat(a)==parseFloat(sellDepthData[j][0])){if(parseFloat(d.asks[i][1]).toFixed(depthPrecision)!=parseFloat(sellDepthData[j][1]).toFixed(depthPrecision)){lastDepthChange=parseFloat(d.asks[i][1])-parseFloat(sellDepthData[j][1]);depthPrice=a*priceDivisor;lastDepthVol=parseFloat(d.asks[i][1])*100000000;updateLastSell();updateGraphLastSell()}l=true}else{if(parseFloat(a)<parseFloat(sellDepthData[j][0])){lastDepthVol=parseFloat(d.asks[i][1])*100000000;depthPrice=a*priceDivisor;lastDepthChange=parseFloat(d.asks[i][1]);updateLastSell();updateGraphLastSell();l=true}}}}l=false;for(j=0;(j<sellDepthData.length&&l==false);j++){if(parseFloat(sellDepthData[j][0])>parseFloat(d.asks[h-1][0])){l=true}else{if(!(parseFloat(sellDepthData[j][0]) in stampAsks)){a=parseFloat(parseFloat(sellDepthData[j][0]));lastDepthChange=0-parseFloat(sellDepthData[j][1]);depthPrice=a*priceDivisor;lastDepthVol=0;updateLastSell();updateGraphLastSell()}}}}}function update_stamp_live_depth_created(a){}function update_stamp_live_depth_deleted(a){}function update_stamp_live_depth_changed(a){}function formatNumber(a){if(parseFloat(a)>999&&parseFloat(a)<10000){return(a/1000).toFixed(1)+"k"}if(parseFloat(a)>9999&&parseFloat(a)<100000){return(a/1000).toFixed(2)+"k"}if(parseFloat(a)>99999){return(a/1000000).toFixed(1)+"0m"}return a}function updateTickerColor(b,a){document.getElementById(b).style.color=a;document.getElementById(b).style.background=backgroundColor}function updateBoughtSoldText(){var b;var a;if(periodBought>999&&periodBought<1000000){b=parseFloat(periodBought/1000).toFixed(periodBought%1000!=0)+"k"}else{if(periodBought>999999){b=parseFloat(periodBought/1000000).toFixed(periodBought%1000000!=0)+"m"}else{b=parseFloat(periodBought).toFixed(pricePrecision)}}if(periodSold>999&&periodSold<1000000){a=parseFloat(periodSold/1000).toFixed(periodSold%1000!=0)+"k"}else{if(periodSold>999999){a=parseFloat(periodSold/1000000).toFixed(periodSold%1000000!=0)+"m"}else{a=parseFloat(periodSold).toFixed(pricePrecision)}}document.getElementById("bought").firstChild.nodeValue=b;document.getElementById("sold").firstChild.nodeValue=a}function isOdd(a){return a%2}function updateCentChange(){if(tradeData.length!=0){var a;a=parseFloat(parseFloat(parseFloat(tradeData[tradeData.length-1][1])-parseFloat(tradeData[0][1]))/parseFloat(tradeData[0][1])*100);a=parseFloat(a).toFixed(2);document.getElementById("centval").firstChild.nodeValue=a;if(parseFloat(a)>=0){document.getElementById("centval").style.color="#29CB1C";document.getElementById("centsign").style.color="#29CB1C"}else{document.getElementById("centval").style.color="red";document.getElementById("centsign").style.color="red"}}}function updateLagVal(){if(lagData.length!=0){var b=0;for(var a=0;a<lagData.length;a++){b=b+parseFloat(lagData[a])}}}function handleTickerConnections(){btcconn.emit("subscribe","bitstampUSDTicker");btcconn.emit("subscribe","btcchinaTicker");btcconn.emit("subscribe","coinbaseUSDTicker");btcconn.emit("subscribe","coinbasebchUSDTicker");btcconn.emit("subscribe","bitstampbchUSDTicker");btcconn.emit("subscribe","coinbaseethBTCTicker");btcconn.emit("subscribe","huobiTicker");btcconn.emit("subscribe","BitfUSDBCHTicker");btcconn.emit("subscribe","bitfinexTickerETHBTC");btcconn.emit("subscribe","bitfinexTickerBCH");btcconn.emit("subscribe","geminiUSDTicker");btcconn.emit("subscribe","bitfinexTicker");btcconn.emit("subscribe","krakenEURTicker");btcconn.emit("subscribe","volstats");btcconn.emit("subscribe","alerts");btcconn.emit("subscribe","newsstream")}function updateTradeCells(){if(tradeDataTicks.length!=0){var c=1;var a=(tradeDataTicks.length-31);if(a<0){a=0}for(var b=tradeDataTicks.length-1;b>a;b--){if(isOdd(c)!=true){document.getElementById("tradecell"+c).style.background=tradeCellBckColor;document.getElementById("tradeT"+c).style.background=tradeCellBckColor;document.getElementById("tradeVol"+c).style.background=tradeCellBckColor;document.getElementById("tradePrice"+c).style.background=tradeCellBckColor}else{document.getElementById("tradecell"+c).style.background=backgroundColor;document.getElementById("tradeT"+c).style.background=backgroundColor;document.getElementById("tradeVol"+c).style.background=backgroundColor;document.getElementById("tradePrice"+c).style.background=backgroundColor}volnum3=tradeDataTicks[b][2];volnum3=parseFloat(volnum3).toFixed(pricePrecision);seconds=new Date(tradeDataTicks[b][0]);if(tradeDataTicks[b][3]==1){if(keepMins>43200&&tradeDataTicks[b][4]==1){document.getElementById("tradeT"+c).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+c).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+c).style.color="#29CB1C";if(parseFloat(volnum3)>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+c).firstChild.nodeValue="Vol: "+getVolDisplayTxt(volnum3)}else{document.getElementById("tradeVol"+c).firstChild.nodeValue="Vol: "+getVolDisplayTxt(volnum3)}document.getElementById("tradeVol"+c).style.color="#29CB1C";document.getElementById("tradePrice"+c).firstChild.nodeValue="Price: "+tradeDataTicks[b][1];document.getElementById("tradePrice"+c).style.color="#29CB1C"}else{if(keepMins>43200&&tradeDataTicks[b][4]==1){document.getElementById("tradeT"+c).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+c).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+c).style.color="red";if(volnum3>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+c).firstChild.nodeValue="Vol: "+getVolDisplayTxt(volnum3)}else{document.getElementById("tradeVol"+c).firstChild.nodeValue="Vol: "+getVolDisplayTxt(volnum3)}document.getElementById("tradeVol"+c).style.color="red";document.getElementById("tradePrice"+c).firstChild.nodeValue="Price: "+tradeDataTicks[b][1];document.getElementById("tradePrice"+c).style.color="red"}c++}}}function appendTradeCells(d,g,e,f,c,a){var h=false;if(showCand&&keepMins>=43200){h=true}if(!showCand&&keepMins>43200){h=true}var k;volnum3=getTradeVolDisplayText(e,currentCurrency);seconds=new Date(d);if(h&&c){k=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{k=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}if(f==1){var b=$('<div id="rowdiv'+lastdivID+'" class="trowgreen"><div class="ttime">'+k+'</div><div class="tvol">vol: '+volnum3+'</div><div class="tprice">Price: '+g+"</div></div>");$(".traderows").after(b);if(a){if(isOdd(lastdivID)){$("#rowdiv"+lastdivID).animate({backgroundColor:backgroundColor,color:"#29CB1C"},5000)}else{$("#rowdiv"+lastdivID).animate({backgroundColor:tradeCellBckColor,color:"#29CB1C"},5000)}}else{if(isOdd(lastdivID)){$("#rowdiv"+lastdivID).css({"background-color":backgroundColor,color:"#29CB1C"})}else{$("#rowdiv"+lastdivID).css({"background-color":tradeCellBckColor,color:"#29CB1C"})}}}else{var b=$('<div id="rowdiv'+lastdivID+'" class="trowred"><div class="ttime">'+k+'</div><div class="tvol">vol: '+volnum3+'</div><div class="tprice">Price: '+g+"</div></div>");$(".traderows").after(b);if(a){if(isOdd(lastdivID)){$("#rowdiv"+lastdivID).animate({"background-color":backgroundColor,color:"red"},5000)}else{$("#rowdiv"+lastdivID).animate({"background-color":tradeCellBckColor,color:"red"},5000)}}else{if(isOdd(lastdivID)){$("#rowdiv"+lastdivID).css({"background-color":backgroundColor,color:"red"})}else{$("#rowdiv"+lastdivID).css({"background-color":tradeCellBckColor,color:"red"})}}}lastdivID=lastdivID+1;if((lastdivID-firstdivID)>50){$("#rowdiv"+firstdivID).remove();firstdivID++}}function initSma(){if(typeof tradeData[tradeData.length-1]==="undefined"){setTimeout(function(){initSma()},20);return}smaData=[];var h=0;var a=0;var c=0;var f=1;var k=1;var b;var e;var g;var d;smaData.push([tradeData[0][0],parseFloat(tradeData[0][1]),parseFloat(tradeData[0][1])]);a=parseFloat(tradeData[0][1]);b=new Date(parseInt(tradeData[0][0]));e=new Date((Math.floor(b.getTime()/coeff)*coeff));for(c=1;c<tradeData.length;c++){h=0;g=new Date(parseInt(tradeData[c][0]));d=new Date((Math.floor(g.getTime()/coeff)*coeff));if(d.getTime()!=e.getTime()){f++;a+=parseFloat(tradeData[c-1][1]);h=parseFloat(a)/parseInt(parseInt(f));smaData.push([tradeData[c][0],parseFloat(h),parseFloat(tradeData[c-1][1])]);b=new Date(parseInt(tradeData[c][0]));e=new Date((Math.floor(b.getTime()/coeff)*coeff))}}}function initEma(){if(typeof tradeData[tradeData.length-1]==="undefined"){setTimeout(function(){initEma()},20);return}emaData=[];var l=0;var h=0;var b=0;var e=0;var a;var f;var g;var d;var c=1;emaData.push([tradeData[0][0],parseFloat(tradeData[0][1])]);a=new Date(parseInt(tradeData[0][0]));f=new Date((Math.floor(a.getTime()/coeff)*coeff));for(b=1;b<tradeData.length;b++){g=new Date(parseInt(tradeData[b][0]));d=new Date((Math.floor(g.getTime()/coeff)*coeff));if(d.getTime()!=f.getTime()){l=0;h=0;e=parseFloat(2/(emaPeriod+1));h=parseFloat(tradeData[b-1][1])*e+emaData[c-1][1]*(1-e);emaData.push([tradeData[b][0],parseFloat(h)]);c++;a=new Date(parseInt(tradeData[b][0]));f=new Date((Math.floor(a.getTime()/coeff)*coeff))}}}function initDoc(){if(typeof tradeData[tradeData.length-1]==="undefined"){setTimeout(function(){initDoc()},20);return}docData=[];var r=0;var a=0;var g=0;var m=0;var t=1;var b;var l;var q;var k;var e;var p;var f;var h;var s;var d=parseInt(keepMins);var c=docMin;var o=docMax;if(parseInt(d)<=180){c=parseFloat(tradeData[0][1]);o=parseFloat(tradeData[0][1]);b=new Date(parseInt(tradeData[0][0]));l=new Date((Math.floor(b.getTime()/coeff)*coeff));([l.getTime(),parseFloat(o),parseFloat(c),parseFloat(o),parseFloat(c)]);for(g=1;g<tradeData.length;g++){q=new Date(parseInt(tradeData[g][0]));k=new Date((Math.floor(q.getTime()/coeff)*coeff));if(k.getTime()!=l.getTime()){h=o;s=c;if(docData.length!=0){if(docData.length<20){e=1}else{e=parseInt(parseInt(docData.length)-19)}f=parseFloat(docData[parseInt(e-1)][3]);p=parseFloat(docData[parseInt(e-1)][4]);for(m=e;m<docData.length;m++){if(parseFloat(docData[m][3])>parseFloat(f)){f=parseFloat(docData[m][3])}if(parseFloat(docData[m][4])<parseFloat(p)){p=parseFloat(docData[m][4])}}if(f>o){o=f}if(p<c){c=p}}if(parseFloat(c)<parseFloat(min)){min=calcDocGraphMin(c,o);if(parseFloat(min)<0){min=0}}if(parseFloat(o)>parseFloat(max)){max=calcDocGraphMin(docMin,docMax)}b=new Date(parseInt(tradeData[g][0]));l=new Date((Math.floor(b.getTime()/coeff)*coeff));docData.push([l.getTime(),parseFloat(o),parseFloat(c),parseFloat(h),parseFloat(s)]);c=parseFloat(tradeData[g][1]);o=parseFloat(tradeData[g][1])}else{if(parseFloat(tradeData[g][1])>o){o=parseFloat(tradeData[g][1])}if(parseFloat(tradeData[g][1])<c){c=parseFloat(tradeData[g][1])}}}}else{$.ajax({type:"GET",url:"https://bitcointicker.co/getHistCandStick.php?mins="+d+"&cur="+currentCurrency+"&exch="+currentExchange,dataType:"json",success:function(u){c=parseFloat(u[0].minprice);o=parseFloat(u[0].maxprice);b=new Date(parseInt(u[0].time*1000));l=new Date((Math.floor(b.getTime()/coeff)*coeff));docData.push([l.getTime(),parseFloat(o),parseFloat(c),parseFloat(o),parseFloat(c)]);for(g=1;g<u.length;g++){q=new Date(parseInt(u[g].time));k=new Date((Math.floor(q.getTime()/coeff)*coeff));if(k.getTime()!=l.getTime()){h=o;s=c;if(docData.length!=0){if(docData.length<20){e=1}else{e=parseInt(parseInt(docData.length)-19)}f=parseFloat(docData[parseFloat(e-1)][3]);p=parseFloat(docData[parseFloat(e-1)][4]);for(m=e;m<docData.length;m++){if(parseFloat(docData[m][3])>parseFloat(f)){f=parseFloat(docData[m][3])}if(parseFloat(docData[m][4])<parseFloat(p)){p=parseFloat(docData[m][4])}}if(f>o){o=f}if(p<c){c=p}}if(parseFloat(c)<parseFloat(min)){min=calcDocGraphMin(c,o);if(parseFloat(min)<0){min=0}}if(parseFloat(o)>=parseFloat(max)){max=calcDocGraphMax(c,o)}b=new Date(parseInt(u[g].time*1000));l=new Date((Math.floor(b.getTime()/coeff)*coeff));docData.push([l.getTime(),parseFloat(o),parseFloat(c),parseFloat(h),parseFloat(s)]);c=parseFloat(u[g].minprice);o=parseFloat(u[g].maxprice)}else{if(parseFloat(u[g].maxprice)>o){o=parseFloat(u[g].maxprice)}if(parseFloat(u[g].minprice)<c){c=parseFloat(tradeData[g].minprice)}}}h=o;s=c;if(docData.length!=0){if(docData.length<20){e=1}else{e=parseInt(parseInt(docData.length)-19)}f=parseFloat(docData[parseFloat(e-1)][3]);p=parseFloat(docData[parseFloat(e-1)][4]);for(m=e;m<docData.length;m++){if(parseFloat(docData[m][3])>parseFloat(f)){f=parseFloat(docData[m][3])}if(parseFloat(docData[m][4])<parseFloat(p)){p=parseFloat(docData[m][4])}}if(parseFloat(f)>parseFloat(o)){o=f}if(parseFloat(p)<parseFloat(c)){c=p}}if(parseFloat(c)<parseFloat(min)){min=calcDocGraphMin(c,o);if(parseFloat(min)<0){min=0}}if(parseFloat(o)>=parseFloat(max)){max=calcDocGraphMax(c,o)}b=new Date(parseInt((u[g-1].time)*1000));l=new Date((Math.floor((b.getTime()/coeff)*coeff)+coeff));docData.push([l.getTime(),parseFloat(o),parseFloat(c),parseFloat(h),parseFloat(s)]);c=parseFloat(u[g-1].minprice);o=parseFloat(u[g-1].maxprice)},data:{},async:true})}docMin=parseFloat(c);docMax=parseFloat(o)}function initMaxRange(){maxRangeData=[];minRangeData=[];var f=0;var e;var d;var c;var b;var a=parseInt(keepMins);if(parseInt(a)<=180){return}else{minparam=a;if(a===4320){minparam=a+60}else{if(a===43200){minparam=a+1440}}$.ajax({type:"GET",url:"https://bitcointicker.co/getHistCandStick.php?mins="+minparam+"&cur="+currentCurrency+"&exch="+currentExchange,dataType:"json",success:function(h){var g=0;if(a===4320||a===43200){g=coeff*5}e=new Date(parseInt(h[0].time*1000));d=new Date((Math.floor(e.getTime()/coeff)*coeff)+g);if(parseFloat(h[0].maxprice)>parseFloat(max)){max=parseFloat(h[0].maxprice)}maxRangeData.push([d.getTime(),parseFloat(h[0].maxprice),parseFloat(h[0].price)]);if(parseFloat(h[0].minprice)<min){min=parseFloat(h[0].minprice)}minRangeData.push([d.getTime(),parseFloat(h[0].minprice),parseFloat(h[0].price)]);for(f=1;f<h.length;f++){c=new Date(parseInt(h[f].time*1000));b=new Date((Math.floor(c.getTime()/coeff)*coeff)+g);if(b.getTime()!=d.getTime()){e=new Date(parseInt(h[f].time*1000));d=new Date((Math.floor(e.getTime()/coeff)*coeff)+g);if(parseFloat(h[f].maxprice)>parseFloat(max)){max=parseFloat(h[f].maxprice)}maxRangeData.push([b.getTime(),parseFloat(h[f].maxprice),parseFloat(h[f].price)]);if(parseFloat(h[f].minprice)<min){min=parseFloat(h[f].minprice)}minRangeData.push([b.getTime(),parseFloat(h[f].minprice),parseFloat(h[f].price)])}else{if(h[f].maxprice>maxRangeData[maxRangeData.length-1][1]){if(parseFloat(h[f].maxprice)>parseFloat(max)){max=parseFloat(h[f].maxprice)}maxRangeData[maxRangeData.length-1][1]=h[f].maxprice}if(h[f].minprice<minRangeData[minRangeData.length-1][1]){if(parseFloat(h[f].minprice)<min){min=parseFloat(h[f].minprice)}minRangeData[minRangeData.length-1][1]=h[f].minprice}}}},data:{},async:true})}}function unsubscribeWS(a){switch(a){case"USD":ws.send(JSON.stringify({channel:"24e67e0d-1cad-4cc0-9e7a-f8523ef460fe",op:"unsubscribe"}));break;case"EUR":ws.send(JSON.stringify({channel:"057bdc6b-9f9c-44e4-bc1a-363e4443ce87",op:"unsubscribe"}));break;case"GBP":ws.send(JSON.stringify({channel:"60c3af1b-5d40-4d0e-b9fc-ccab433d2e9c",op:"unsubscribe"}));break;case"JPY":ws.send(JSON.stringify({channel:"94483e07-d797-4dd4-bc72-dc98f1fd39e3",op:"unsubscribe"}));ws.send(JSON.stringify({channel:"a39ae532-6a3c-4835-af8c-dda54cb4874e",op:"unsubscribe"}));break;case"AUD":ws.send(JSON.stringify({channel:"296ee352-dd5d-46f3-9bea-5e39dede2005",op:"unsubscribe"}));break}}function unsubscribe(a){switch(a){case"USD":conn.send('{"channel":"24e67e0d-1cad-4cc0-9e7a-f8523ef460fe","op":"unsubscribe"}');break;case"EUR":conn.send('{"channel":"057bdc6b-9f9c-44e4-bc1a-363e4443ce87","op":"unsubscribe"}');break;case"GBP":conn.send('{"channel":"60c3af1b-5d40-4d0e-b9fc-ccab433d2e9c","op":"unsubscribe"}');break;case"JPY":conn.send('{"channel":"94483e07-d797-4dd4-bc72-dc98f1fd39e3","op":"unsubscribe"}');conn.send('{"channel":"a39ae532-6a3c-4835-af8c-dda54cb4874e","op":"unsubscribe"}');break;case"AUD":conn.send('{"channel":"296ee352-dd5d-46f3-9bea-5e39dede2005","op":"unsubscribe"}');break}}function clearAlerts(a){if(highThreshValSet){highThreshValSet=false;setCookie("highThreshValSet","false",expiryDate,"/");document.getElementById("HighThreshSetMsg").style.color="yellow";document.getElementById("HighThreshSetMsg").firstChild.nodeValue=a}if(lowThreshValSet){lowThreshValSet=false;setCookie("lowThreshValSet","false",expiryDate,"/");document.getElementById("LowThreshSetMsg").style.color="yellow";document.getElementById("LowThreshSetMsg").firstChild.nodeValue=a}$("#tickChromeAlert input[type=checkbox]").removeClass("disabled");$("#tickChromeAlert input[type=checkbox]").removeClass("disabled")}function toggleDepthType(a){depthDisplayType=a;if(a=="sum"){depthBidSum=[];depthAskSum=[];$.ajax({type:"GET",url:"https://bitcointicker.co/getBidAskSum.php?cur="+currentCurrency+"&exch="+currentExchange,dataType:"json",success:function(b){for(n in b){if(b[n].bidsum!=null){depthBidSum.push([b[n].time*1000,parseInt(b[n].bidsum)])}if(b[n].asksum!=null){depthAskSum.push([b[n].time*1000,parseInt(b[n].asksum)])}}depthBidAskSumLoaded=true;drawDepthBidSumGraph()},data:{},async:true})}if(a=="cumulative"){delete plotSum;animationInProgress=false;drawDepthGraph(false)}if(a=="boughtsold"){drawBoughtSoldSumGraph()}}function buildPairUrl(a,d,c){var b='<span class="exchange" id="'+a+d+'"><a href="#" onclick="changeExchange(&#x27;'+a+"&#x27;,&#x27;"+c+'&#x27;);return false">'+c+"</a>&nbsp;</span>";return b}function setExchangePair(c,a,b){curPair=(a+b).toLowerCase();switch(c){case"bitfinex":case"bitfinexbch":case"bitfinexeth":curExchange="bitfinex";break;case"coinbase":case"coinbasebch":case"coinbaseeth":curExchange="coinbase";break;case"stamp":case"stampbch":curExchange="bitstamp";break;default:curExchange=c;break}}function handleExchangePairs(h,b,f){var d=document.getElementById("exchangepairs");d.innerHTML="";var a="";var g=document.createElement("p");switch(h){case"bitfinex":case"bitfinexbch":case"bitfinexeth":var c=$("body").find("#bitfinex");c.addClass("active");a+=buildPairUrl("bitfinex","BTCUSD","btc/usd")+"| ";a+=buildPairUrl("bitfinexbch","BCHUSD","bch/usd")+"| ";a+=buildPairUrl("bitfinexeth","ETHBTC","eth/btc");g.innerHTML=a;document.getElementById("exchangepairs").appendChild(g);var e=$("body").find("#"+h+b+f);e.addClass("active");curExchange="bitfinex";break;case"coinbase":case"coinbasebch":case"coinbaseeth":var c=$("body").find("#coinbase");c.addClass("active");a+=buildPairUrl("coinbase","BTCUSD","btc/usd")+"| ";a+=buildPairUrl("coinbasebch","BCHUSD","bch/usd")+"| ";a+=buildPairUrl("coinbasebch","BCHBTC","bch/btc")+"| ";a+=buildPairUrl("coinbaseeth","ETHBTC","eth/btc");g.innerHTML=a;document.getElementById("exchangepairs").appendChild(g);var e=$("body").find("#"+h+b+f);e.addClass("active");curExchange="coinbase";break;case"stamp":case"stampbch":var c=$("body").find("#stamp");c.addClass("active");a+=buildPairUrl("stamp","BTCUSD","btc/usd")+"| ";a+=buildPairUrl("stampbch","BCHUSD","bch/usd");g.innerHTML=a;document.getElementById("exchangepairs").appendChild(g);var e=$("body").find("#"+h+b+f);e.addClass("active");curExchange="bitstamp";break;default:var c=$("body").find("#"+initExchange);c.addClass("active");curExchange=h;break}}function handleChannelConnections(a){if(a=="btcchina"){btcconn.emit("subscribe","btcchinaTrades");btcconn.emit("subscribe","btcchinaCNYDepth");btcconn.emit("unsubscribe","mtgoxlag")}if(a=="huobi"){btcconn.emit("subscribe","huobiTrades");btcconn.emit("subscribe","huobidepthCNY");btcconn.emit("unsubscribe","mtgoxlag")}if(a=="okcoin"){btcconn.emit("subscribe","okcoinCNYTrades");btcconn.emit("subscribe","okcoinCNYDepth");btcconn.emit("unsubscribe","mtgoxlag")}if(a=="coinbase"){btcconn.emit("subscribe","coinbaseUSDDepth");btcconn.emit("subscribe","coinbaseTrades");btcconn.emit("unsubscribe","mtgoxlag")}if(a=="coinbasebch"&&currentCurrency=="USD"){btcconn.emit("subscribe","coinbasebchUSDDepth");btcconn.emit("subscribe","coinbasebchusdTrades")}if(a=="stampbch"&&currentCurrency=="USD"){btcconn.emit("subscribe","stampbchUSDDepth");btcconn.emit("subscribe","stampbchusdTrades")}if(a=="coinbasebch"&&currentCurrency=="BTC"){btcconn.emit("subscribe","coinbasebchBTCDepth");btcconn.emit("subscribe","coinbasebchbtcTrades")}if(a=="coinbaseeth"){btcconn.emit("subscribe","coinbaseethBTCDepth");btcconn.emit("subscribe","coinbaseethbtcTrades")}if(a=="gemini"){btcconn.emit("subscribe","geminiUSDDepth");btcconn.emit("subscribe","geminiUSDTrades");btcconn.emit("unsubscribe","mtgoxlag")}if(a=="bitfinex"){btcconn.emit("subscribe","bitfinexTrades");btcconn.emit("subscribe","bitfinexdepthUSD");btcconn.emit("unsubscribe","mtgoxlag")}if(a=="bitfinexbch"){btcconn.emit("subscribe","bitfinexTradesBCH");btcconn.emit("subscribe","bitfinexdepthBCH")}if(a=="bitfinexeth"){btcconn.emit("subscribe","bitfinexTradesETHBTC");btcconn.emit("subscribe","bitfinexdepthETHBTC")}if(a=="kraken"){btcconn.emit("subscribe","krakenEURTrades");btcconn.emit("subscribe","krakenEURDepth");btcconn.emit("unsubscribe","mtgoxlag")}if(a=="btce"){btcconn.emit("subscribe","btceTrades");btcconn.emit("subscribe","btceUSDDepth");btcconn.emit("unsubscribe","mtgoxlag")}}function getTimePeriodString(a){var b;switch(a){case 10:b="10m";break;case 60:case 61:b="1hr";break;case 180:b="3hr";break;case 720:b="12hr";break;case 1440:b="24hr";break;case 4320:b="3days";break;case 10080:b="7days";break;case 43200:b="30days";break;case 131487:b="3Mth";break;case 262974:b="6Mth";break;case 5256000:b="AllTime";break;default:b="1hr"}return b}function changeExchange(h,a){firstTickReceived=false;firstTradeReceived=false;var b=currentExchange;currentExchange=h;if(b=="stamp"){if(typeof pusher!=="undefined"){pusher.disconnect()}btcconn.emit("unsubscribe","bitstampUSDDepth");btcconn.emit("unsubscribe","bitstampUSDTrades")}if(b=="btce"){btcconn.emit("unsubscribe","btceTrades");btcconn.emit("unsubscribe","btceUSDDepth")}if(b=="btcchina"){btcconn.emit("unsubscribe","btcchinaTrades");btcconn.emit("unsubscribe","btcchinaCNYDepth")}if(b=="huobi"){btcconn.emit("unsubscribe","huobiTrades");btcconn.emit("unsubscribe","huobidepthCNY")}if(b=="okcoin"){btcconn.emit("unsubscribe","okcoinCNYTrades");btcconn.emit("unsubscribe","okcoinCNYDepth")}if(b=="bitfinex"){btcconn.emit("unsubscribe","bitfinexTrades");btcconn.emit("unsubscribe","bitfinexdepthUSD")}if(b=="coinbase"){btcconn.emit("unsubscribe","coinbaseUSDDepth");btcconn.emit("unsubscribe","coinbaseTrades")}if(b=="coinbasebch"&&currentCurrency=="USD"){btcconn.emit("unsubscribe","coinbasebchUSDDepth");btcconn.emit("unsubscribe","coinbasebchusdTrades")}if(b=="stampbch"&&currentCurrency=="USD"){btcconn.emit("unsubscribe","stampbchUSDDepth");btcconn.emit("unsubscribe","stampbchusdTrades")}if(b=="coinbasebch"&&currentCurrency=="BTC"){btcconn.emit("unsubscribe","coinbasebchBTCDepth");btcconn.emit("unsubscribe","coinbasebchbtcTrades")}if(b=="coinbaseeth"){btcconn.emit("unsubscribe","coinbaseethBTCDepth");btcconn.emit("unsubscribe","coinbaseethbtcTrades")}if(b=="gemini"){btcconn.emit("unsubscribe","geminiUSDDepth");btcconn.emit("unsubscribe","geminiUSDTrades")}if(b=="bitfinexbch"){btcconn.emit("unsubscribe","bitfinexTradesBCH");btcconn.emit("unsubscribe","bitfinexdepthBCH")}if(b=="bitfinexeth"){btcconn.emit("unsubscribe","bitfinexTradesETHBTC");btcconn.emit("unsubscribe","bitfinexdepthETHBTC")}if(b=="kraken"){btcconn.emit("unsubscribe","krakenEURTrades");btcconn.emit("unsubscribe","krakenEURDepth")}if(currentExchange=="stamp"){currentCurrency="USD";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=300}if(currentExchange=="btce"){currentCurrency="USD";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=100}if(currentExchange=="btcchina"){currentCurrency="CNY";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=1000}if(currentExchange=="huobi"){currentCurrency="CNY";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=500}if(currentExchange=="okcoin"){currentCurrency="CNY";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=500}if(currentExchange=="coinbase"){currentCurrency="USD";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=50}if(currentExchange=="coinbasebch"){var d=a.split("/");currentCurrency=d[1].toUpperCase();currentCrypto="BCH";document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();if(currentCurrency=="BTC"){depthRange=0.001}else{depthRange=50}}if(currentExchange=="stampbch"){var d=a.split("/");currentCurrency=d[1].toUpperCase();currentCrypto="BCH";document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();if(currentCurrency=="BTC"){depthRange=0.001}else{depthRange=50}}if(currentExchange=="coinbaseeth"){currentCurrency="BTC";currentCrypto="ETH";document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=0.001}if(currentExchange=="gemini"){currentCurrency="USD";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=50}if(currentExchange=="bitfinex"){currentCurrency="USD";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=100}if(currentExchange=="bitfinexbch"){currentCurrency="USD";currentCrypto="BCH";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=100}if(currentExchange=="bitfinexeth"){currentCurrency="BTC";currentCrypto="ETH";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=0.001}if(currentExchange=="kraken"){currentCurrency="EUR";currentCrypto="BTC";$("#USDClass").attr("class","currency active");$("#EURClass").attr("class","currency");$("#GBPClass").attr("class","currency");$("#AUDClass").attr("class","currency");document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();depthRange=30}if(h=="mtgox"){currentCurrency="USD";currentCrypto="BTC";btcconn.emit("subscribe","mtgoxlag");depthRange=30}var l=DepthCookie.getValue(h+currentCurrency);if(l!==null){depthRange=l}if(currentExchange.endsWith(currentCrypto.toLowerCase())){var f=currentExchange.replace(currentCrypto.toLowerCase(),"")}else{var f=currentExchange}var m=TickerCookies.getValue("showsma");if(m!==null){showSMA=m}$("#smaToggle input[type=checkbox]").prop("checked",showSMA);var g=TickerCookies.getValue("showema");if(g!==null){showEMA=g}$("#emaToggle input[type=checkbox]").prop("checked",showEMA);var e=TickerCookies.getValue("showdoc");if(e!==null){showDOC=e}$("#docToggle input[type=checkbox]").prop("checked",showDOC);var c=TickerCookies.getValue("showrange");if(c!==null){showRANGE=c}$("#rangeToggle input[type=checkbox]").prop("checked",showRANGE);var k=TickerCookies.getValue("showcand");if(k!==null){showCand=k}$("#candToggle input[type=checkbox]").prop("checked",showCand);setExchangePair(currentExchange,currentCrypto,currentCurrency);setupPrecision(currentCurrency);changeCurrency(currentCurrency);if(h=="stamp"||h=="btcchina"||h=="huobi"||h=="okcoin"||h=="bitfinex"||h=="bitfinexbch"||h=="bitfinexeth"||h=="kraken"||h=="coinbase"||h=="coinbasebch"||h=="coinbaseeth"||h=="stampbch"||h=="gemini"){document.getElementById("BOUGHTSOLDA").style.visibility="hidden";if(depthDisplayType=="boughtsold"){depthDisplayType="cumulative";document.getElementById("CUMULATIVE").className="depthPaneLink active";document.getElementById("DEPTHSUM").className="depthPaneLink";document.getElementById("DEPTHBOUGHTSOLD").className="depthPaneLink";drawDepthGraph(false)}}else{document.getElementById("BOUGHTSOLDA").style.visibility="visible"}if(currentExchange=="stamp"){btcconn.emit("unsubscribe","mtgoxlag");btcconn.emit("subscribe","bitstampUSDDepth");btcconn.emit("subscribe","bitstampUSDTrades")}handleChannelConnections(currentExchange);handleExchangePairs(currentExchange,currentCrypto,currentCurrency)}function clearNewsDataGraph(){var b;curTime=new Date();rounded=new Date((Math.floor(curTime.getTime()/coeff)*coeff));if(newsDataGraph.length!=0){for(var a=0;a<(newsDataGraph.length);a++){b=(rounded.getTime())-newsDataGraph[a][0];if(b>((keepMins*60*1000))){delete newsDataGraph[a];newsDataGraph.splice(a,1);a--}}}}function changeCurrency(a){firstTickReceived=false;firstTradeReceived=false;depthGraphLoaded=false;depthGraphRoundedLoaded=false;depthBidAskSumLoaded=false;tradeData=[];tradeDataTicks=[];sellDepthData=[];sellDepthGraph=[];sellDepthGraph1=[];sellDepthGraph2=[];buyDepthGraph=[];buyDepthGraph1=[];buyDepthGraph2=[];sellSumData=[];sellSumData1=[];sellSumData2=[];sellSumData3=[];buyDepthData=[];buySumData=[];buySumData1=[];buySumData2=[];lastSellSumData=[];lastBuySumData=[];sellDepthGraphRounded=[];buyDepthGraphRounded=[];sellSumDataRounded=[];sellSumDataRounded1=[];sellSumDataRounded2=[];buySumDataRounded=[];buySumDataRounded1=[];buySumDataRounded2=[];clearAlerts("Alert cleared on exchange and/or currency switch");if(currentExchange=="mtgox"){if(a=="AUD"){depthRange=50}else{depthRange=15}}if(a=="JPY"){priceDivisor=1000}else{if(a=="BTC"){priceDivisor=1000000}else{priceDivisor=100000}}appendclearTrades();switch(connectionType){case"socketio":unsubscribe(currentCurrency);break;case"websocket":unsubscribeWS(currentCurrency);break}currentCurrency=a;firstTickReceived=false;document.getElementById("currency").firstChild.nodeValue=currentCurrency+"/"+currentCrypto;if(keepMins<720){changeGraphHist(keepMins)}else{hourlyGraphHist(keepMins)}$.ajax({type:"GET",url:"https://api.bitcointicker.co/depth/"+curExchange+"/"+curPair+"/raw/",dataType:"json",success:function(d){var e;var b=new Date();var c=b.getTime();for(e in d){lastDepthVol=parseFloat(d[e].amount);depthPrice=parseFloat(d[e].price);if(d[e].type=="1"){updateLastSellnoStyle(c);updateGraphLastSellnoStyle(c)}if(d[e].type=="0"){updateLastBuynoStyle(c);updateGraphLastBuynoStyle(c)}}depthGraphLoaded=true;updateLast();drawLineGraph();if(showBidAskLines){drawBidAskLines(plot,"ask");drawBidAskLines(plot,"bid")}},data:{},async:true});$.ajax({type:"GET",url:"https://api.bitcointicker.co/depth/"+curExchange+"/"+curPair+"/round/",dataType:"json",success:function(c){var e;var b=new Date();var d=b.getTime();for(e in c){lastDepthVol=parseFloat(c[e].amount);depthPrice=parseFloat(c[e].price);if(c[e].type=="1"){updateGraphLastSellnoStyleRounded(d)}if(c[e].type=="0"){updateGraphLastBuynoStyleRounded(d)}}depthGraphRoundedLoaded=true},data:{},async:true});switch(connectionType){case"socketio":subscribe(currentCurrency);break;case"websocket":subscribeWS(currentCurrency);break}firstSnapshot=true;updateDepthData();updateDepthData5Min(false);updateCumulative(false);if(depthDisplayType=="sum"){toggleDepthType("sum")}if(depthDisplayType=="boughtsold"){toggleDepthType("boughtsold")}}function updateNewsFeed(){var a=(newsData[0][0])/1000;$.getJSON("https://api.bitcointicker.co/news/"+a+"/",function(b){var c;for(c in b){newsData.unshift([((b[c].newsDate)*1000),b[c].title,b[c].publisher,b[c].unescapedurl,b[c].id,0,0]);newsDataGraph.push({min:((b[c].newsDate)*1000),max:((b[c].newsDate)*1000),eventType:b[c].unescapedurl,title:b[c].title,description:b[c].publisher})}});setTimeout(function(){updateNewsFeed()},300000)}function updateNewsDataGraph(d){var a=new Date();var c=(a.getTime())/1000;var b=parseInt(c-d);$.getJSON("https://api.bitcointicker.co/news/"+b+"/",function(e){var f;for(f in e){newsDataGraph.unshift({min:((e[f].newsDate)*1000),max:((e[f].newsDate)*1000),eventType:e[f].unescapedurl,title:e[f].title,description:e[f].publisher})}})}function updateCumulative(a){if(firstUpdateCumulativeCall==true){a=true;firstUpdateCumulativeCall=false}if(typeof tradeData[tradeData.length-1]==="undefined"||sellDepthGraphRounded.length==0||buyDepthGraphRounded.length==0||depthGraphLoaded==false||depthGraphRoundedLoaded==false){setTimeout(function(){updateCumulative(a)},20);return}graphMaxValue=0;maxchangeVol=1;var f=0;var c=parseFloat(tradeData[tradeData.length-1][1]);var e=depthRange;var b;var d=parseFloat(0);var d=0;sellSumData=[];buySumData=[];if(e<zoomedDepthThresh){for(b=0;b<buyDepthGraph.length-1;b++){if(parseFloat(buyDepthGraph[b][0])>c-(e)){buySumData.push([buyDepthGraph[b][0],(parseFloat(buyDepthGraph[b][1])+d)]);d=(buySumData[buySumData.length-1][1])}else{b=buyDepthGraph.length}}graphMaxValue=d;d=0;for(b=0;b<sellDepthGraph.length-1;b++){if(parseFloat(sellDepthGraph[b][0])<c+(e)){sellSumData.push([sellDepthGraph[b][0],(parseFloat(sellDepthGraph[b][1])+d)]);d=(sellSumData[sellSumData.length-1][1])}else{b=sellDepthGraph.length}}if(d>graphMaxValue){graphMaxValue=d}graphMaxValue=parseInt(graphMaxValue)}else{for(b=0;b<buyDepthGraphRounded.length-1;b++){if(parseFloat(buyDepthGraphRounded[b][0])>c-(e)){buySumData.push([buyDepthGraphRounded[b][0],(parseFloat(buyDepthGraphRounded[b][1])+d)]);d=(buySumData[buySumData.length-1][1])}}graphMaxValue=d;d=0;for(b=0;b<sellDepthGraphRounded.length-1;b++){if(parseFloat(sellDepthGraphRounded[b][0])<c+(e)){sellSumData.push([sellDepthGraphRounded[b][0],(parseFloat(sellDepthGraphRounded[b][1])+d)]);d=(sellSumData[sellSumData.length-1][1])}}if(d>graphMaxValue){graphMaxValue=d}graphMaxValue=parseInt(graphMaxValue)}buySumDataRoundedDiffHigher=[];buySumDataRoundedDiffLower=[];sellSumDataRoundedDiffHigher=[];sellSumDataRoundedDiffLower=[];b=0;while(parseFloat(sellDepthGraphRounded[b][0])<c+(e)&&(b<sellDepthGraphRounded.length-2&&b<sellDepthGraphRounded5min.length-2)){if(parseFloat(sellDepthGraphRounded[b][0])<c+(e)&&parseFloat(sellDepthGraphRounded[b][0])==parseFloat(sellDepthGraphRounded5min[b][0])){f=parseFloat(sellDepthGraphRounded[b][1])-parseFloat(sellDepthGraphRounded5min[b][1]);if(f!=0){if(f>0){sellSumDataRoundedDiffHigher.push([parseFloat(sellDepthGraphRounded[b][0]),parseFloat(sellDepthGraphRounded[b][1])-parseFloat(sellDepthGraphRounded5min[b][1])]);if(Math.abs(sellSumDataRoundedDiffHigher[sellSumDataRoundedDiffHigher.length-1][1])>maxchangeVol){maxchangeVol=Math.abs(sellSumDataRoundedDiffHigher[sellSumDataRoundedDiffHigher.length-1][1])}}else{sellSumDataRoundedDiffLower.push([parseFloat(sellDepthGraphRounded[b][0]),parseFloat(sellDepthGraphRounded[b][1])-parseFloat(sellDepthGraphRounded5min[b][1])]);if(Math.abs(sellSumDataRoundedDiffLower[sellSumDataRoundedDiffLower.length-1][1])>maxchangeVol){maxchangeVol=Math.abs(sellSumDataRoundedDiffLower[sellSumDataRoundedDiffLower.length-1][1])}}}}b++}for(b=0;(b<buyDepthGraphRounded.length-1&&b<buyDepthGraphRounded5min.length-1);b++){if(parseFloat(buyDepthGraphRounded[b][0])>parseFloat(c-(e))&&parseFloat(buyDepthGraphRounded[b][0])==parseFloat(buyDepthGraphRounded5min[b][0])){f=parseFloat(buyDepthGraphRounded[b][1])-parseFloat(buyDepthGraphRounded5min[b][1]);if(f!=0){if(f>0){buySumDataRoundedDiffHigher.push([parseFloat(buyDepthGraphRounded[b][0]),parseFloat(buyDepthGraphRounded[b][1])-parseFloat(buyDepthGraphRounded5min[b][1])]);if(Math.abs(buySumDataRoundedDiffHigher[buySumDataRoundedDiffHigher.length-1][1])>maxchangeVol){maxchangeVol=Math.abs(buySumDataRoundedDiffHigher[buySumDataRoundedDiffHigher.length-1][1])}}else{buySumDataRoundedDiffLower.push([parseFloat(buyDepthGraphRounded[b][0]),parseFloat(buyDepthGraphRounded[b][1])-parseFloat(buyDepthGraphRounded5min[b][1])]);if(Math.abs(buySumDataRoundedDiffLower[buySumDataRoundedDiffLower.length-1][1])>maxchangeVol){maxchangeVol=Math.abs(buySumDataRoundedDiffLower[buySumDataRoundedDiffLower.length-1][1])}}}}}if(a==false){if(animationInProgress==false){drawDepthGraph(false)}}if(a==true){if(doAnimation){if(animationInProgress==false){drawDepthGraph(true)}}else{drawDepthGraph(false)}setTimeout(function(){updateCumulative(true)},20000)}}function plusDepth(){if(depthDisplayType=="sum"){return}depthRange=depthRange-(depthRange/4);if(depthRange<depthBarGraphWidth){depthRange=depthBarGraphWidth}DepthCookie.setValue(currentExchange+currentCurrency,depthRange);lastSellSumData=[];lastBuySumData=[];lastBuySumData=deepCopy(buySumData);lastSellSumData=deepCopy(sellSumData);updateCumulative(false)}function minusDepth(){depthRange=depthRange+(depthRange/4);if(depthRange<depthBarGraphWidth){depthRange=depthBarGraphWidth}DepthCookie.setValue(currentExchange+currentCurrency,depthRange);lastSellSumData=[];lastBuySumData=[];lastBuySumData=deepCopy(buySumData);lastSellSumData=deepCopy(sellSumData);updateCumulative(false)}function showBoughtSoldTip(a,c,b){$('<div id="tooltip">'+b+"</div>").css({position:"absolute",display:"none",top:c+5,left:a+10,border:"2px solid #4872A7",padding:"2px","font-size":"0.6em",size:"10","background-color":"#000",opacity:1}).appendTo("body").fadeIn(200)}function removeTooltip(){$("#tooltip").remove();previousPoint=null}function showTooltip(a,c,b){if($("#tooltip").length==0){$('<div id="tooltip">'+b+"</div>").css({position:"absolute",display:"none",top:c+5,left:a+30,border:"2px solid #4872A7",padding:"2px","font-size":"0.6em","line-height":"1.2em",size:"10","background-color":"#000",opacity:0.8}).appendTo("body").fadeIn(200)}else{$("#tooltip").css({position:"absolute",top:c+5,left:a+30,border:"2px solid #4872A7",padding:"2px","font-size":"0.6em","line-height":"1.2em",size:"10","background-color":"#000",opacity:0.8});$("#tooltip").html(b)}}$(window).bind("load",function(){screenWidth=$(window).width();screenHeight=$(window).height();graphWidth=screenWidth-600;graphHeight=screenHeight/2;if(tradeDataTicks.length!=0){var c=1;var a=(tradeDataTicks.length-31);if(a<0){a=0}for(var b=tradeDataTicks.length-1;b>a;b--){volnum3=tradeDataTicks[b][2];volnum3=parseFloat(volnum3).toFixed(pricePrecision);seconds=new Date(tradeDataTicks[b][0]);c++}}});$(window).bind("resize",function(){screenWidth=$(window).width();screenHeight=$(window).height();graphWidth=screenWidth-600;graphHeight=screenHeight/2;if(showTicker==false){$(".demo-placeholder").css("width",(screenWidth-100));$(".volumeplaceholder").css("width",(screenWidth-100))}if(showTicker==true){$(".demo-placeholder").css("width","100%");$(".volumeplaceholder").css("width","100%")}if(typeof plot!=="undefined"){plot.resize()}if(typeof plotSum!=="undefined"){plotSum.resize()}update(false);drawDepthGraph(false)});function refreshOptions(b,a){if(b){options={yaxes:[{min:min,max:max,position:"right",labelWidth:labelWidthRight},{min:minvol,max:maxvol,position:"left",labelWidth:labelWidthLeft}],events:{data:newsDataGraph},selection:{color:"#e8cfac"},xaxis:{mode:"time",timezone:"browser"},legend:{show:true,position:"nw"},grid:{hoverable:true,clickable:true,borderWidth:1,backgroundColor:{colors:[a,a]}}};drawLineGraph()}else{options={yaxes:[{min:min,max:max,position:"right",labelWidth:labelWidthRight},{min:minvol,max:maxvol,position:"left",labelWidth:labelWidthLeft}],xaxis:{mode:"time",timezone:"browser"},legend:{show:true,position:"nw"},grid:{hoverable:true,clickable:true,borderWidth:1,backgroundColor:{colors:[a,a]}}};drawLineGraph()}}function update(d){if(typeof tradeData[tradeData.length-1]==="undefined"){setTimeout(function(){update(d)},20);return}var b;var c;var g;var a;var e;options.yaxes[0].max=max;options.yaxes[0].min=min;if(buyDepthData.length!=0&&sellDepthData.length!=0){if(parseFloat(min)>parseFloat(getHighBid())){options.yaxes[0].min=parseFloat(getHighBid())}if(parseFloat(max)<parseFloat(getLowAsk())){options.yaxes[0].max=parseFloat(getLowAsk())}}options.yaxes[1].max=maxvol;if(logScale){options.yaxes[0].transform=function(k){if(parseFloat(k)>1){var h=(Math.log(k)/Math.log(10));return(Math.log(k)/Math.log(10))}else{return k}}}else{options.yaxes[0].transform=null}if(!showCand){if(previousPoint!=null){plot.setCrosshair(previousPoint)}plot.setData([{data:maxRangeData,color:"#24d620",label:"max",lines:{show:showRANGE,fill:true,lineWidth:0}},{data:minRangeData,color:"#ff0000",label:"min",lines:{show:showRANGE,fill:true,lineWidth:0}},{data:docData,color:"#5A5A9D",label:"DOC",lines:{show:showDOC,fill:true,lineWidth:0}},{data:tradeData,label:"Last Trade",lines:{show:true,lineWidth:1.5}},{data:volData,color:volBarColor,bars:{show:true,fill:true,fillColor:{colors:[{opacity:0.1},{opacity:0.5}]},lineWidth:0.3,barWidth:flotBarWidth,colors:[{opacity:0.1},{opacity:1}]},label:"Volume",yaxis:2},{data:smaData,color:"#0000D9",label:"SMA",lines:{show:showSMA,lineWidth:1.5}},{data:emaData,color:"#FF0000",label:"EMA",lines:{show:showEMA,lineWidth:1.5}}]);var f=plot.getOptions();f.yaxes[0].min=options.yaxes[0].min;f.yaxes[0].max=options.yaxes[0].max;f.yaxes[1].min=options.yaxes[1].min;f.yaxes[1].max=options.yaxes[1].max;plot.setupGrid();plot.draw();if(showBidAskLines){drawBidAskLines(plot,"ask");drawBidAskLines(plot,"bid")}b=tradeData[0][1];c=tradeData[0][0];g=tradeData[0][1];a=tradeData[0][0];for(e=1;e<tradeData.length;e++){if(parseFloat(tradeData[e][1])<parseFloat(b)){b=tradeData[e][1];c=tradeData[e][0]}if(parseFloat(tradeData[e][1])>parseFloat(g)){g=tradeData[e][1];a=tradeData[e][0]}}drawHighLowPoints(b,c,g,a);$("#placeholder").unbind("plothover");$("#placeholder").bind("plothover",function(k,u,v){plot.unhighlight();var s,r,h,p=plot.getData();var t=p[3];for(r=0;r<t.data.length;++r){if(t.data[r][0]>u.x){break}}var m=p[4];for(h=0;h<m.data.length;++h){if(m.data[h][0]>u.x){break}}if(r>=t.data.length){return}if(h<1){return}xpoint=parseFloat(t.data[r][1]).toFixed(pricePrecision);ypoint=new Date((t.data[r][0]));xpointvol=parseFloat(m.data[h-1][1]).toFixed(2);var l=plot.pointOffset({x:u.x,y:u.y});previousPoint=u;plot.highlight(p[3],t.data[r]);if(keepMins>43200){ypoint=ypoint.getFullYear()+"/"+pad((ypoint.getMonth())+1)+"/"+pad(ypoint.getDate());showTooltip(l.left,l.top+100,"On "+ypoint+"</br>Price: <strong>"+xpoint+"</strong></br>Volume: <strong>"+xpointvol+"</strong>")}else{ypoint=pad(ypoint.getHours())+":"+pad(ypoint.getMinutes())+":"+pad(ypoint.getSeconds());showTooltip(l.left,l.top+100,"On "+ypoint+"</br>Price: <strong>"+xpoint+"</strong></br>Volume: <strong>"+xpointvol+"</strong>")}return;if(v){if(previousPoint!=v.dataIndex){previousPoint=v.dataIndex;$("#tooltip").remove();if(v.series.label=="Last Trade"){xpoint=parseFloat(v.datapoint[1]).toFixed(pricePrecision);ypoint=new Date((v.datapoint[0]));if(keepMins>43200){ypoint=ypoint.getFullYear()+"/"+pad((ypoint.getMonth())+1)+"/"+pad(ypoint.getDate());showTooltip(v.pageX,v.pageY,"On "+ypoint+"</br>Price was <strong>"+xpoint+"</strong>")}else{ypoint=pad(ypoint.getHours())+":"+pad(ypoint.getMinutes())+":"+pad(ypoint.getSeconds());showTooltip(v.pageX,v.pageY,"At "+ypoint+"</br>Price was <strong>"+xpoint+"</strong>")}}if(v.series.label=="Volume"){xpoint=parseFloat(v.datapoint[1]).toFixed(2);ypoint=new Date((v.datapoint[0]));if(keepMins>43200){ypoint=ypoint.getFullYear()+"/"+pad((ypoint.getMonth())+1)+"/"+pad(ypoint.getDate());showTooltip(v.pageX,v.pageY,"On "+ypoint+"</br>Volume was <strong>"+xpoint+"</strong>")}else{ypoint=pad(ypoint.getHours())+":"+pad(ypoint.getMinutes())+":"+pad(ypoint.getSeconds());showTooltip(v.pageX,v.pageY,"At "+ypoint+"</br>Volume was <strong>"+xpoint+"</strong>")}}}}else{$("#tooltip").remove();previousPoint=null}})}else{updateCandle()}curTime=new Date().getTime();num3=(curTime-lastUpdate)/1000;num3=parseFloat(num3).toFixed(3);if(num3<10){document.getElementById("clock").firstChild.nodeValue=num3}else{document.getElementById("clock").firstChild.nodeValue=parseFloat(num3).toFixed(2)}drawBoughtSoldGraph();if(tradeDataTicks.length>100){tradeDataTicks.splice(0,60)}if(depthDisplayType=="boughtsold"){drawBoughtSoldSumGraph()}if(d==true){setTimeout(function(){update(true)},updateInterval)}}$(function(){$("#newsToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showNews=true}else{showNews=false}refreshOptions(showNews,backgroundColor)})});$(function(){$("#ticksoundToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){if(beepSoundLoaded==false){beepSound=new Audio("tick.mp3");beepSoundLoaded=true}playticksound=true;setCookie("playticksound","true",expiryDate,"/")}else{playticksound=false;setCookie("playticksound","false",expiryDate,"/")}})});$(function(){$("#roundDepthToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){displayRoundedDepth=true;setCookie("rounddepth","true",expiryDate,"/");updateDepthCellsRounded(true)}else{displayRoundedDepth=false;setCookie("rounddepth","false",expiryDate,"/");updateDepthCells(true)}})});$(function(){$("#animateToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){doAnimation=true;setCookie("doAnimation","true",expiryDate,"/")}else{doAnimation=false;setCookie("doAnimation","false",expiryDate,"/")}})});$(function(){$("#personalizedAdsToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){TickerCookies.setValue("showpersonalizedads",true)}else{TickerCookies.setValue("showpersonalizedads",false)}})});$(function(){$("#bidaskToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showBidAskLines=true;setCookie("showBidAskLines","true",expiryDate,"/");update(false)}else{showBidAskLines=false;setCookie("showBidAskLines","false",expiryDate,"/");update(false)}})});$(function(){$("#tickChromeAlert input[type=checkbox]").click(function(){if($(this).is(":checked")){alertTypeChrome=true;setCookie("alertTypeChrome","true",expiryDate,"/");var a=Notification.permission;if(a!=="granted"){Notification.requestPermission()}}else{alertTypeChrome=false;setCookie("alertTypeChrome","false",expiryDate,"/")}})});$(function(){$("#ticksoundAlert input[type=checkbox]").click(function(){if($(this).is(":checked")){alertTypeSound=true;setCookie("alertTypeSound","true",expiryDate,"/")}else{alertTypeSound=false;setCookie("alertTypeSound","false",expiryDate,"/")}})});$(function(){$("#smaToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showSMA=true;TickerCookies.setValue("showsma",true);initSma();drawLineGraph()}else{showSMA=false;TickerCookies.setValue("showsma",false);smaData=[];drawLineGraph()}})});$(function(){$("#legendToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showLegend=true;options.legend.show=true;setCookie("showLegend","true",expiryDate,"/");drawLineGraph()}else{showLegend=false;options.legend.show=false;setCookie("showLegend","false",expiryDate,"/");drawLineGraph()}})});$(function(){$("#emaToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showEMA=true;TickerCookies.setValue("showema",true);initEma();drawLineGraph()}else{showEMA=false;TickerCookies.setValue("showema",false);emaData=[];drawLineGraph()}})});$(function(){$("#docToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showDOC=true;TickerCookies.setValue("showdoc",true);initDoc();drawLineGraph()}else{showDOC=false;TickerCookies.setValue("showdoc",false);docData=[];drawLineGraph()}})});$(function(){$("#rangeToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showRANGE=true;TickerCookies.setValue("showrange",true);initMaxRange()}else{showRANGE=false;TickerCookies.setValue("showrange",false);maxRangeData=[];minRangeData=[];drawLineGraph()}})});$(function(){$("#logScaleToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){logScale=true;drawLineGraph()}else{logScale=false;drawLineGraph()}})});$(function(){$("#candToggle input[type=checkbox]").click(function(){if($(this).is(":checked")){showCand=true;TickerCookies.setValue("showcand",true);if(keepMins<=180){changeCandleGraphHist(keepMins)}else{hourlyCandGraphHist(keepMins)}}else{showCand=false;TickerCookies.setValue("showcand",false);update(false);if(keepMins<=180){changeGraphHist(keepMins)}else{hourlyGraphHist(keepMins)}}})});$(function(){$("#setHighThreshVal").click(function(){if(incrementThreshSet==false){var a=$("#highThreshVal").val();if($.isNumeric(a)){if(alertTypeSound==true||alertTypeChrome==true){if(tradeDataTicks[tradeDataTicks.length-1][1]>parseFloat(a)){document.getElementById("HighThreshSetMsg").style.color="red";document.getElementById("HighThreshSetMsg").firstChild.nodeValue="Current value already higher!"}else{document.getElementById("HighThreshSetMsg").style.color="#29CB1C";document.getElementById("HighThreshSetMsg").firstChild.nodeValue="OK - Alert on price > "+a;if(threshSoundLoaded==false){alertSound=new Audio("alert.mp3");threshSoundLoaded=true}highThreshVal=parseFloat(a);highThreshValSet=true;setCookie("highThreshValSet","true",expiryDate,"/");setCookie("highThreshVal",parseFloat(highThreshVal).toFixed(pricePrecision),expiryDate,"/");$("#incrementThreshVal").attr("disabled","disabled");$("#incrementThreshVal").attr("readonly","readonly");$("#tickChromeAlertBox").attr("disabled","disabled");$("#tickSoundAlertBox").attr("disabled","disabled");$("#tickChromeAlertBox").attr("readonly","readonly");$("#tickSoundAlertBox").attr("readonly","readonly")}}else{document.getElementById("HighThreshSetMsg").style.color="red";document.getElementById("HighThreshSetMsg").firstChild.nodeValue="You must choose at least one alert type!"}}else{document.getElementById("HighThreshSetMsg").style.color="red";document.getElementById("HighThreshSetMsg").firstChild.nodeValue="Not a number!!"}}})});$(function(){$("#clearHighThreshVal").click(function(){if(highThreshValSet){highThreshVal=0;highThreshValSet=false;setCookie("highThreshValSet","false",expiryDate,"/");if(lowThreshValSet==false){$("#incrementThreshVal").removeAttr("disabled");$("#incrementThreshVal").removeAttr("readonly");$("#tickChromeAlertBox").removeAttr("disabled");$("#tickSoundAlertBox").removeAttr("disabled");$("#tickChromeAlertBox").removeAttr("readonly");$("#tickSoundAlertBox").removeAttr("readonly")}document.getElementById("HighThreshSetMsg").style.color="#29CB1C";document.getElementById("HighThreshSetMsg").firstChild.nodeValue="Alert cleared"}})});$(function(){$("#setLowThreshVal").click(function(){if(incrementThreshSet==false){var a=$("#lowThreshVal").val();if($.isNumeric(a)){if(alertTypeSound==true||alertTypeChrome==true){if(tradeDataTicks[tradeDataTicks.length-1][1]<parseFloat(a)){document.getElementById("LowThreshSetMsg").style.color="red";document.getElementById("LowThreshSetMsg").firstChild.nodeValue="Current value already lower!"}else{document.getElementById("LowThreshSetMsg").style.color="#29CB1C";document.getElementById("LowThreshSetMsg").firstChild.nodeValue="OK - Alert on price < "+a;if(threshSoundLoaded==false){alertSound=new Audio("alert.mp3");threshSoundLoaded=true}lowThreshVal=parseFloat(a);lowThreshValSet=true;setCookie("lowThreshValSet","true",expiryDate,"/");setCookie("lowThreshVal",parseFloat(lowThreshVal).toFixed(pricePrecision),expiryDate,"/");$("#incrementThreshVal").attr("disabled","disabled");$("#incrementThreshVal").attr("readonly","readonly");$("#tickChromeAlertBox").attr("disabled","disabled");$("#tickSoundAlertBox").attr("disabled","disabled");$("#tickChromeAlertBox").attr("readonly","readonly");$("#tickSoundAlertBox").attr("readonly","readonly")}}else{document.getElementById("LowThreshSetMsg").style.color="red";document.getElementById("LowThreshSetMsg").firstChild.nodeValue="You must choose at least one alert type!"}}else{document.getElementById("LowThreshSetMsg").style.color="red";document.getElementById("LowThreshSetMsg").firstChild.nodeValue="Not a number!!"}}})});$(function(){$("#clearLowThreshVal").click(function(){if(lowThreshValSet){lowThreshVal=0;lowThreshValSet=false;setCookie("lowThreshValSet","false",expiryDate,"/");if(highThreshValSet==false){$("#incrementThreshVal").removeAttr("disabled");$("#incrementThreshVal").removeAttr("readonly");$("#tickChromeAlertBox").removeAttr("disabled");$("#tickSoundAlertBox").removeAttr("disabled");$("#tickChromeAlertBox").removeAttr("readonly");$("#tickSoundAlertBox").removeAttr("readonly")}document.getElementById("LowThreshSetMsg").style.color="#29CB1C";document.getElementById("LowThreshSetMsg").firstChild.nodeValue="Alert Cleared"}})});$(function(){$("#setIncrementThreshVal").click(function(){var a=$("#incrementThreshVal").val();if(lowThreshValSet==false&&highThreshValSet==false){if($.isNumeric(a)){if(alertTypeSound==true||alertTypeChrome==true){document.getElementById("IncrementThreshSetMsg").style.color="#29CB1C";document.getElementById("IncrementThreshSetMsg").firstChild.nodeValue="OK - Alert on price change +/- "+a;if(threshSoundLoaded==false){alertSound=new Audio("alert.mp3");threshSoundLoaded=true}incrementLowVal=parseFloat(parseFloat(tradeDataTicks[tradeDataTicks.length-1][1])-parseFloat(a)).toFixed(pricePrecision);incrementHighVal=parseFloat(parseFloat(tradeDataTicks[tradeDataTicks.length-1][1])+parseFloat(a)).toFixed(pricePrecision);incrementThreshSet=true;incrementThreshVal=parseFloat(a).toFixed(pricePrecision);setCookie("incrementThreshSet","true",expiryDate,"/");setCookie("incrementThreshVal",parseFloat(incrementThreshVal).toFixed(pricePrecision),expiryDate,"/");$("#lowThreshVal").attr("disabled","disabled");$("#lowThreshVal").attr("readonly","readonly");$("#highThreshVal").attr("disabled","disabled");$("#highThreshVal").attr("readonly","readonly");$("#incrementThreshVal").attr("disabled","disabled");$("#incrementThreshVal").attr("readonly","readonly");$("#tickChromeAlertBox").attr("disabled","disabled");$("#tickSoundAlertBox").attr("disabled","disabled");$("#tickChromeAlertBox").attr("readonly","readonly");$("#tickSoundAlertBox").attr("readonly","readonly")}else{document.getElementById("IncrementThreshSetMsg").style.color="red";document.getElementById("IncrementThreshSetMsg").firstChild.nodeValue="You must choose at least one alert type!"}}else{document.getElementById("IncrementThreshSetMsg").style.color="red";document.getElementById("IncrementThreshSetMsg").firstChild.nodeValue="Not a number!!"}}})});$(function(){$("#clearIncrementThreshVal").click(function(){if(incrementThreshSet){incrementLowVal=0;incrementHighVal=0;incrementThreshSet=false;setCookie("incrementThreshSet","false",expiryDate,"/");$("#lowThreshVal").removeAttr("disabled","disabled");$("#lowThreshVal").removeAttr("readonly","readonly");$("#highThreshVal").removeAttr("disabled","disabled");$("#highThreshVal").removeAttr("readonly","readonly");$("#incrementThreshVal").removeAttr("disabled");$("#incrementThreshVal").removeAttr("readonly");$("#tickChromeAlertBox").removeAttr("disabled");$("#tickSoundAlertBox").removeAttr("disabled");$("#tickChromeAlertBox").removeAttr("readonly");$("#tickSoundAlertBox").removeAttr("readonly");document.getElementById("IncrementThreshSetMsg").style.color="#29CB1C";document.getElementById("IncrementThreshSetMsg").firstChild.nodeValue="Alert Cleared"}})});$(function(){$(".timespans a").click(function(){$(this).parent().addClass("active").siblings().removeClass("active")})});$(function(){$(".depthPaneToggleui a").click(function(){$(this).parent().addClass("active").siblings().removeClass("active")})});function toDateTime(b){var a=new Date(1970,0,1);a.setSeconds(b);return a}$(document).ready(function(){DepthCookie.initDepthCookie();TickerCookies.init();var a=TickerCookies.getValue("showpersonalizedads");if(a!==null){showPersonalizedAds=a}else{showPersonalizedAds=true}var e=TickerCookies.getValue("showpersonalizedads");if(e!==null){if(e==true){$("#personalizedAdsToggle input[type=checkbox]").prop("checked",true)}else{$("#personalizedAdsToggle input[type=checkbox]").prop("checked",false)}}else{$("#personalizedAdsToggle input[type=checkbox]").prop("checked",true)}keepMins=passedPeriod;var b=$("body").find("#"+getTimePeriodString(keepMins));b.addClass("active");if(initExchange=="stamp"){lastSellAnimateTime=new Date();lastBuyAnimateTime=new Date();changeExchange(initExchange,null)}else{lastSellAnimateTime=new Date();lastBuyAnimateTime=new Date();var d=getPairsFromUrl();changeExchange(initExchange,d)}drawDepthGraph(true);$(function(){$("span.clickMe").click(function(g){var f=$("section.hidden");f.fadeIn().css({display:"block"}).css({width:$(window).width()+"px",height:$(window).height()+"px"}).css({top:($(window).height()-f.height())/2+"px",left:($(window).width()-f.width())/2+"px"}).css({"background-color":"rgba(0,0,0,0.5)"}).appendTo("body");$("span.close").click(function(){$(f).fadeOut()})})});$(function(){function h(l){if(l==0){$("div .newsinfo")[0].style.display="none";TickerCookies.setValue("hasSeenCycleNewsTip",true)}else{setTimeout(function(){l--;$("#ntipcountdown").html(l);h(l)},1000)}}var k=TickerCookies.getValue("hasSeenCycleNewsTip");if(k===null&&getCookie("hasVisited")==="0"){$("div .newsinfo")[0].style.display="block";setTimeout(function(){h(15)},1000)}$("div .newsinfo").click(function(l){$("div .newsinfo")[0].style.display="none";TickerCookies.setValue("hasSeenCycleNewsTip",true)});var f={};var g=false;$(".menucontainer").hover(function(){var l=$(this).attr("rel");var m=$(".dropdown");if(f[l]){clearTimeout(f[l])}f[l]=setTimeout(function(){m.fadeIn("fast").show();g=true},100)},function(){var l=$(this).attr("rel");var m=$(".dropdown");if(f[l]){clearTimeout(f[l])}f[l]=setTimeout(function(){m.hide();g=false},500)})});var c=!showPersonalizedAds?1:0;(adsbygoogle=window.adsbygoogle||[]).requestNonPersonalizedAds=c;(adsbygoogle=window.adsbygoogle||[]).push({});document.addEventListener("keyup",function(g){if(g.defaultPrevented){return}var f=g.key||g.keyCode;if(f===","||f==="<"){currentNewsItem--;currentNewsItem--;if(currentNewsItem==-1){currentNewsItem=newsData.length-1}if(currentNewsItem==-2){currentNewsItem=newsData.length-2}$("#newsBar").css("opacity",1);updateNews(true)}if(f==="."||f===">"){$("#newsBar").css("opacity",1);updateNews(true)}})});btcconnConnected=true;btcconn=io.connect("https://updates2.bitcointicker.co:8080",{transports:["websocket"],upgrade:false,secure:true,"force new connection":true});handleTickerConnections();btcconn.on("connect",function(){if(btcconnConnected==false){handleTickerConnections();handleChannelConnections(currentExchange);btcconnConnected=true}});btcconn.on("disconnect",function(){btcconnConnected=false});function handleDepthMsg(a){a.depth.forEach(function(b){lastDepthVol=parseFloat(b.amount*100000000);depthPrice=parseFloat(b.price)*priceDivisor;lastDepthChange=parseFloat((b.change));if(b.type=="1"){updateLastSell();updateGraphLastSell()}if(b.type=="0"){updateLastBuy();updateGraphLastBuy()}})}btcconn.on("message",function(b){var c;switch(b.channel){case"bitstampUSDDepth":if(currentExchange=="stamp"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"coinbaseUSDDepth":if(currentExchange=="coinbase"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"coinbasebchUSDDepth":if(currentExchange=="coinbasebch"&&currentCurrency=="USD"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"stampbchUSDDepth":if(currentExchange=="stampbch"&&currentCurrency=="USD"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"coinbaseethBTCDepth":if(currentExchange=="coinbaseeth"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*1000000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"coinbasebchBTCDepth":if(currentExchange=="coinbasebch"&&currentCurrency=="BTC"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*1000000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"geminiUSDDepth":if(currentExchange=="gemini"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"bitfinexdepthUSD":if(currentExchange=="bitfinex"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"bitfinexdepthBCH":if(currentExchange=="bitfinexbch"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"bitfinexdepthETHBTC":if(currentExchange=="bitfinexeth"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*1000000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"krakenEURDepth":if(currentExchange=="kraken"){if(b.depth.constructor===Array){handleDepthMsg(b)}else{lastDepthVol=parseFloat(b.depth.amount*100000000);depthPrice=parseFloat(b.depth.price)*100000;lastDepthChange=parseFloat((b.depth.change));if(b.depth.type=="1"){updateLastSell();updateGraphLastSell()}if(b.depth.type=="0"){updateLastBuy();updateGraphLastBuy()}}}break;case"bitstampUSDTrades":if(currentExchange=="stamp"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);updateLastTrade()}break;case"bitstampUSDTicker":document.getElementById("StampUSDTicker").firstChild.nodeValue=b.ticker.last;if(parseFloat(lastStampUSDTick)<parseFloat(b.ticker.last).toFixed(3)&&parseInt(lastStampUSDTick)!=0){document.getElementById("StampUSDTicker").style.color=backgroundColor;document.getElementById("StampUSDTicker").style.background="#29CB1C";setTimeout(function(){updateTickerColor("StampUSDTicker","#29CB1C")},1000)}if(parseFloat(lastStampUSDTick)>parseFloat(b.ticker.last).toFixed(3)&&parseInt(lastStampUSDTick)!=0){document.getElementById("StampUSDTicker").style.color=backgroundColor;document.getElementById("StampUSDTicker").style.background="red";setTimeout(function(){updateTickerColor("StampUSDTicker","red")},1000)}lastStampUSDTick=parseFloat(b.ticker.last).toFixed(3);if(currentExchange=="stamp"){lastUpdate=new Date().getTime();last=b.ticker.last;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"btcchinaTicker":if(currentExchange=="btcchina"){lastUpdate=new Date().getTime();last=b.ticker.ticker.last;firstTickReceived=true;buy=b.ticker.ticker.buy;sell=b.ticker.ticker.sell;updateLast()}break;case"coinbaseUSDTicker":document.getElementById("BtceUSDTicker").firstChild.nodeValue=parseFloat(b.ticker.last).toFixed(3);if(parseFloat(lastBtceUSDTick)<parseFloat(b.ticker.last).toFixed(2)&&parseInt(lastBtceUSDTick)!=0){document.getElementById("BtceUSDTicker").style.color=backgroundColor;document.getElementById("BtceUSDTicker").style.background="#29CB1C";setTimeout(function(){updateTickerColor("BtceUSDTicker","#29CB1C")},1000)}if(parseFloat(lastBtceUSDTick)>parseFloat(b.ticker.last).toFixed(2)&&parseInt(lastBtceUSDTick)!=0){document.getElementById("BtceUSDTicker").style.color=backgroundColor;document.getElementById("BtceUSDTicker").style.background="red";setTimeout(function(){updateTickerColor("BtceUSDTicker","red")},1000)}lastBtceUSDTick=parseFloat(b.ticker.last).toFixed(2);if(currentExchange=="coinbase"){lastUpdate=new Date().getTime();last=b.ticker.last;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"coinbasebchUSDTicker":document.getElementById("CoinUSDBCHTicker").firstChild.nodeValue=parseFloat(b.ticker.last).toFixed(2);if(parseFloat(lastCoinbaseUSDBCHTick)<parseFloat(b.ticker.last).toFixed(2)&&parseInt(lastCoinbaseUSDBCHTick)!=0){document.getElementById("CoinUSDBCHTicker").style.color=backgroundColor;document.getElementById("CoinUSDBCHTicker").style.background="#29CB1C";setTimeout(function(){updateTickerColor("CoinUSDBCHTicker","#29CB1C")},1000)}if(parseFloat(lastCoinbaseUSDBCHTick)>parseFloat(b.ticker.last).toFixed(2)&&parseInt(lastCoinbaseUSDBCHTick)!=0){document.getElementById("CoinUSDBCHTicker").style.color=backgroundColor;document.getElementById("CoinUSDBCHTicker").style.background="red";setTimeout(function(){updateTickerColor("CoinUSDBCHTicker","red")},1000)}lastCoinbaseUSDBCHTick=parseFloat(b.ticker.last).toFixed(2);if(currentExchange=="coinbasebch"&&currentCurrency=="USD"){lastUpdate=new Date().getTime();last=b.ticker.last;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"bitstampbchUSDTicker":if(currentExchange=="stampbch"&&currentCurrency=="USD"){lastUpdate=new Date().getTime();last=b.ticker.last;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"coinbasebchBTCTicker":if(currentExchange=="coinbasebch"&&currentCurrency=="BTC"){lastUpdate=new Date().getTime();last=b.ticker.last;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"coinbaseethBTCTicker":if(currentExchange=="coinbaseeth"){lastUpdate=new Date().getTime();last=b.ticker.last;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"huobiTicker":if(currentExchange=="huobi"){lastUpdate=new Date().getTime();last=b.ticker.lastPrice;firstTickReceived=true;buy=b.ticker.highBuy;sell=b.ticker.lowSell;updateLast()}break;case"geminiUSDTicker":document.getElementById("geminiUSDTicker").firstChild.nodeValue=parseFloat(b.ticker.last).toFixed(2);if(parseFloat(lastGeminiUSDTick)<parseFloat(b.ticker.last).toFixed(2)&&parseInt(lastGeminiUSDTick)!=0){document.getElementById("geminiUSDTicker").style.color=backgroundColor;document.getElementById("geminiUSDTicker").style.background="#29CB1C";setTimeout(function(){updateTickerColor("geminiUSDTicker","#29CB1C")},1000)}if(parseFloat(lastGeminiUSDTick)>parseFloat(b.ticker.last).toFixed(2)&&parseInt(lastGeminiUSDTick)!=0){document.getElementById("geminiUSDTicker").style.color=backgroundColor;document.getElementById("geminiUSDTicker").style.background="red";setTimeout(function(){updateTickerColor("geminiUSDTicker","red")},1000)}lastGeminiUSDTick=parseFloat(b.ticker.last).toFixed(2);if(currentExchange=="gemini"){lastUpdate=new Date().getTime();last=b.ticker.last;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"BitfUSDBCHTicker":if(currentExchange=="okcoin"){lastUpdate=new Date().getTime();last=b.ticker.lastPrice;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"bitfinexTickerBCH":if(currentExchange=="bitfinexbch"){lastUpdate=new Date().getTime();last=b.ticker.lastPrice;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"bitfinexTickerETHBTC":document.getElementById("BitfETHBTCTicker").firstChild.nodeValue=parseFloat(b.ticker.lastPrice).toFixed(5);if(parseFloat(lastBitfinexETHBTCTick)<parseFloat(b.ticker.lastPrice).toFixed(5)){document.getElementById("BitfETHBTCTicker").style.color=backgroundColor;document.getElementById("BitfETHBTCTicker").style.background="#29CB1C";setTimeout(function(){updateTickerColor("BitfETHBTCTicker","#29CB1C")},1000)}if(parseFloat(lastBitfinexETHBTCTick)>parseFloat(b.ticker.lastPrice).toFixed(5)){document.getElementById("BitfETHBTCTicker").style.color=backgroundColor;document.getElementById("BitfETHBTCTicker").style.background="red";setTimeout(function(){updateTickerColor("BitfETHBTCTicker","red")},1000)}lastBitfinexETHBTCTick=parseFloat(b.ticker.lastPrice).toFixed(5);if(currentExchange=="bitfinexeth"){lastUpdate=new Date().getTime();last=b.ticker.lastPrice;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"bitfinexTicker":document.getElementById("BitfUSDTicker").firstChild.nodeValue=parseFloat(b.ticker.lastPrice).toFixed(3);if(parseFloat(lastBitfinexUSDTick)<parseFloat(b.ticker.lastPrice).toFixed(2)&&parseInt(lastBitfinexUSDTick)!=0){document.getElementById("BitfUSDTicker").style.color=backgroundColor;document.getElementById("BitfUSDTicker").style.background="#29CB1C";setTimeout(function(){updateTickerColor("BitfUSDTicker","#29CB1C")},1000)}if(parseFloat(lastBitfinexUSDTick)>parseFloat(b.ticker.lastPrice).toFixed(2)&&parseInt(lastBitfinexUSDTick)!=0){document.getElementById("BitfUSDTicker").style.color=backgroundColor;document.getElementById("BitfUSDTicker").style.background="red";setTimeout(function(){updateTickerColor("BitfUSDTicker","red")},1000)}lastBitfinexUSDTick=parseFloat(b.ticker.lastPrice).toFixed(2);if(currentExchange=="bitfinex"){lastUpdate=new Date().getTime();last=b.ticker.lastPrice;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"krakenEURTicker":document.getElementById("KraEURTicker").firstChild.nodeValue=parseFloat(b.ticker.lastPrice).toFixed(3);if(parseFloat(lastKrakenEURTick)<parseFloat(b.ticker.lastPrice).toFixed(2)&&parseInt(lastKrakenEURTick)!=0){document.getElementById("KraEURTicker").style.color=backgroundColor;document.getElementById("KraEURTicker").style.background="#29CB1C";setTimeout(function(){updateTickerColor("KraEURTicker","#29CB1C")},1000)}if(parseFloat(lastKrakenEURTick)>parseFloat(b.ticker.lastPrice).toFixed(2)&&parseInt(lastKrakenEURTick)!=0){document.getElementById("KraEURTicker").style.color=backgroundColor;document.getElementById("KraEURTicker").style.background="red";setTimeout(function(){updateTickerColor("KraEURTicker","red")},1000)}lastKrakenEURTick=parseFloat(b.ticker.lastPrice).toFixed(2);if(currentExchange=="kraken"){lastUpdate=new Date().getTime();last=b.ticker.lastPrice;firstTickReceived=true;buy=b.ticker.bid;sell=b.ticker.ask;updateLast()}break;case"btcchinaTrades":if(currentExchange=="btcchina"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"coinbaseTrades":if(currentExchange=="coinbase"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"coinbaseethbtcTrades":if(currentExchange=="coinbaseeth"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"coinbasebchusdTrades":if(currentExchange=="coinbasebch"&&currentCurrency=="USD"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"bitstampUSDTrades":if(currentExchange=="stamp"&&currentCurrency=="USD"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"stampbchusdTrades":if(currentExchange=="stampbch"&&currentCurrency=="USD"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"coinbasebchbtcTrades":if(currentExchange=="coinbasebch"&&currentCurrency=="BTC"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"geminiUSDTrades":if(currentExchange=="gemini"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"bitfinexTrades":if(currentExchange=="bitfinex"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"bitfinexTradesBCH":if(currentExchange=="bitfinexbch"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"bitfinexTradesETHBTC":if(currentExchange=="bitfinexeth"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"krakenEURTrades":if(currentExchange=="kraken"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"huobiTrades":if(currentExchange=="huobi"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"okcoinCNYTrades":if(currentExchange=="okcoin"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"btceTrades":if(currentExchange=="btce"){lastUpdate=new Date().getTime();if(parseFloat(b.trade.amount)>maxvol){maxvol=Math.round(b.trade.amount+50)}lastVol=parseFloat(b.trade.amount);price=parseFloat(b.trade.price);lastTradeTime=b.trade.date;if(b.trade.trade_type=="bid"){periodBought=periodBought+parseFloat(b.trade.amount);curTradeType=1}else{if(b.trade.trade_type=="ask"){periodSold=periodSold+parseFloat(b.trade.amount);curTradeType=0}}updateBoughtSoldText();updateLastTrade();if(showCand){updateLastCandTrade()}}break;case"users":document.getElementById("connUsers").firstChild.nodeValue=b.users;break;case"volstats":i=0;for(var a in b.volstats){if(b.volstats.hasOwnProperty(a)){document.getElementById("exch"+i).firstChild.nodeValue=b.volstats[a].exch+": ";document.getElementById("vol"+i).firstChild.nodeValue=parseFloat(b.volstats[a].vol).toFixed(3);document.getElementById("vol"+i).style.color="#29CB1C";i++}}break;case"alerts":alertQueue.push(b.alerts);if(processingAlerts==false){processingAlerts=true;displayAlert()}break;case"newsstream":newsData.unshift([((b.newsstream.newsDate)*1000),b.newsstream.title,b.newsstream.publisher,b.newsstream.unescapedurl,b.newsstream.id,0,0]);newsDataGraph.push({min:((b.newsstream.newsDate)*1000),max:((b.newsstream.newsDate)*1000),eventType:b.newsstream.unescapedurl,title:b.newsstream.title,description:b.newsstream.publisher});break;case"mtgoxlag":if(currentExchange=="mtgox"){c=(parseFloat(b.mtgoxlag.mtgoxlag/1000000));if(parseFloat(c)<2){}if(parseFloat(c)>=2&&parseFloat(c)<5){}if(parseFloat(c)>=5){}}break;default:break}});var dataIncr=0;var depthOptions={xaxis:{position:"bottom"},yaxes:[{position:"right"}],crosshair:{mode:"x"},grid:{hoverable:true,clickable:true,borderWidth:1,mouseActiveRadius:30,backgroundColor:{colors:["#000000","#000000"]}}};var options={yaxes:[{min:min,max:max,position:"right",labelWidth:labelWidthRight},{min:minvol,max:maxvol,position:"left",labelWidth:labelWidthLeft}],xaxis:{mode:"time",timezone:"browser"},crosshair:{mode:"x"},legend:{show:showLegend,position:"nw"},grid:{hoverable:true,clickable:true,borderWidth:1,backgroundColor:{colors:[backgroundColor,backgroundColor]}}};function secondsToHms(e){e=Number(e);var c=Math.floor(e/3600/24);var a=Math.floor(e%3600/60);var b=Math.floor(e%3600%60);return((c>0?c+":":"")+(a>0?(c>0&&a<10?"0":"")+a+":":"0:")+(b<10?"0":"")+b)}function pad(a){return("0"+a).slice(-2)}function init(){for(var a=1;a<31;a++){depthmap["depthBid"+a]=document.getElementById("depthBid"+a);depthmap["depthAsk"+a]=document.getElementById("depthAsk"+a);depthmap["depthVol"+a]=document.getElementById("depthVol"+a);depthmap["depthPrice"+a]=document.getElementById("depthPrice"+a);depthmap["depthBid"+a+"left"]=document.getElementById("depthBid"+a+"left");depthmap["depthAsk"+a+"left"]=document.getElementById("depthAsk"+a+"left");depthmap["depthVol"+a+"left"]=document.getElementById("depthVol"+a+"left");depthmap["depthPrice"+a+"left"]=document.getElementById("depthPrice"+a+"left");depthmap["depthcell"+a]=document.getElementById("depthcell"+a);depthmap["depthcell"+a+"left"]=document.getElementById("depthcell"+a+"left")}depthCellsInitiated=true;boughtSoldData=[{label:"Pause",data:150},{label:"No Pause",data:100},{label:"Sleeping",data:250}];timeDisplay=document.createTextNode("");connUsersDisplay=document.createTextNode("");lastTradeDisplay=document.createTextNode("");currencyDisplay=document.createTextNode("");setHighThreshMsg=document.createTextNode("");setLowThreshMsg=document.createTextNode("");highTradeDisplay=document.createTextNode("");lowTradeDisplay=document.createTextNode("");buyDisplay=document.createTextNode("");sellDisplay=document.createTextNode("");boughtDisplay=document.createTextNode("");soldDisplay=document.createTextNode("");newsDisplay=document.createTextNode("");newsTypeDisplay=document.createTextNode("");centChangeDisplay=document.createTextNode("");lagChangeDisplay=document.createTextNode("");depthVol1Display=document.createTextNode("");depthVol2Display=document.createTextNode("");depthVol3Display=document.createTextNode("");depthVol4Display=document.createTextNode("");depthVol5Display=document.createTextNode("");depthVol6Display=document.createTextNode("");depthVol7Display=document.createTextNode("");depthVol8Display=document.createTextNode("");depthVol9Display=document.createTextNode("");depthVol10Display=document.createTextNode("");depthVol11Display=document.createTextNode("");depthVol12Display=document.createTextNode("");depthVol13Display=document.createTextNode("");depthVol14Display=document.createTextNode("");depthVol15Display=document.createTextNode("");depthVol16Display=document.createTextNode("");depthVol17Display=document.createTextNode("");depthVol18Display=document.createTextNode("");depthVol19Display=document.createTextNode("");depthVol20Display=document.createTextNode("");depthVol21Display=document.createTextNode("");depthVol22Display=document.createTextNode("");depthVol23Display=document.createTextNode("");depthVol24Display=document.createTextNode("");depthVol25Display=document.createTextNode("");depthVol26Display=document.createTextNode("");depthVol27Display=document.createTextNode("");depthVol28Display=document.createTextNode("");depthVol29Display=document.createTextNode("");depthVol30Display=document.createTextNode("");depthPrice1Display=document.createTextNode("");depthPrice2Display=document.createTextNode("");depthPrice3Display=document.createTextNode("");depthPrice4Display=document.createTextNode("");depthPrice5Display=document.createTextNode("");depthPrice6Display=document.createTextNode("");depthPrice7Display=document.createTextNode("");depthPrice8Display=document.createTextNode("");depthPrice9Display=document.createTextNode("");depthPrice10Display=document.createTextNode("");depthPrice11Display=document.createTextNode("");depthPrice12Display=document.createTextNode("");depthPrice13Display=document.createTextNode("");depthPrice14Display=document.createTextNode("");depthPrice15Display=document.createTextNode("");depthPrice16Display=document.createTextNode("");depthPrice17Display=document.createTextNode("");depthPrice18Display=document.createTextNode("");depthPrice19Display=document.createTextNode("");depthPrice20Display=document.createTextNode("");depthPrice21Display=document.createTextNode("");depthPrice22Display=document.createTextNode("");depthPrice23Display=document.createTextNode("");depthPrice24Display=document.createTextNode("");depthPrice25Display=document.createTextNode("");depthPrice26Display=document.createTextNode("");depthPrice27Display=document.createTextNode("");depthPrice28Display=document.createTextNode("");depthPrice29Display=document.createTextNode("");depthPrice30Display=document.createTextNode("");document.getElementById("clock").appendChild(timeDisplay);document.getElementById("HighThreshSetMsg").appendChild(setHighThreshMsg);document.getElementById("LowThreshSetMsg").appendChild(setLowThreshMsg);document.getElementById("connUsers").appendChild(connUsersDisplay);document.getElementById("lastTrade").appendChild(lastTradeDisplay);document.getElementById("currency").appendChild(currencyDisplay);document.getElementById("high").appendChild(highTradeDisplay);document.getElementById("low").appendChild(lowTradeDisplay);document.getElementById("buy").appendChild(buyDisplay);document.getElementById("sell").appendChild(sellDisplay);document.getElementById("bought").appendChild(boughtDisplay);document.getElementById("sold").appendChild(soldDisplay);document.getElementById("newsTicker").appendChild(newsDisplay);document.getElementById("newsBox").appendChild(newsTypeDisplay);document.getElementById("centval").appendChild(centChangeDisplay);document.getElementById("depthVol1").appendChild(depthVol1Display);document.getElementById("depthVol2").appendChild(depthVol2Display);document.getElementById("depthVol3").appendChild(depthVol3Display);document.getElementById("depthVol4").appendChild(depthVol4Display);document.getElementById("depthVol5").appendChild(depthVol5Display);document.getElementById("depthVol6").appendChild(depthVol6Display);document.getElementById("depthVol7").appendChild(depthVol7Display);document.getElementById("depthVol8").appendChild(depthVol8Display);document.getElementById("depthVol9").appendChild(depthVol9Display);document.getElementById("depthVol10").appendChild(depthVol10Display);document.getElementById("depthVol11").appendChild(depthVol11Display);document.getElementById("depthVol12").appendChild(depthVol12Display);document.getElementById("depthVol13").appendChild(depthVol13Display);document.getElementById("depthVol14").appendChild(depthVol14Display);document.getElementById("depthVol15").appendChild(depthVol15Display);document.getElementById("depthVol16").appendChild(depthVol16Display);document.getElementById("depthVol17").appendChild(depthVol17Display);document.getElementById("depthVol18").appendChild(depthVol18Display);document.getElementById("depthVol19").appendChild(depthVol19Display);document.getElementById("depthVol20").appendChild(depthVol20Display);document.getElementById("depthVol21").appendChild(depthVol21Display);document.getElementById("depthVol22").appendChild(depthVol22Display);document.getElementById("depthVol23").appendChild(depthVol23Display);document.getElementById("depthVol24").appendChild(depthVol24Display);document.getElementById("depthVol25").appendChild(depthVol25Display);document.getElementById("depthVol26").appendChild(depthVol26Display);document.getElementById("depthVol27").appendChild(depthVol27Display);document.getElementById("depthVol28").appendChild(depthVol28Display);document.getElementById("depthVol29").appendChild(depthVol29Display);document.getElementById("depthVol30").appendChild(depthVol30Display);document.getElementById("depthPrice1").appendChild(depthPrice1Display);document.getElementById("depthPrice2").appendChild(depthPrice2Display);document.getElementById("depthPrice3").appendChild(depthPrice3Display);document.getElementById("depthPrice4").appendChild(depthPrice4Display);document.getElementById("depthPrice5").appendChild(depthPrice5Display);document.getElementById("depthPrice6").appendChild(depthPrice6Display);document.getElementById("depthPrice7").appendChild(depthPrice7Display);document.getElementById("depthPrice8").appendChild(depthPrice8Display);document.getElementById("depthPrice9").appendChild(depthPrice9Display);document.getElementById("depthPrice10").appendChild(depthPrice10Display);document.getElementById("depthPrice11").appendChild(depthPrice11Display);document.getElementById("depthPrice12").appendChild(depthPrice12Display);document.getElementById("depthPrice13").appendChild(depthPrice13Display);document.getElementById("depthPrice14").appendChild(depthPrice14Display);document.getElementById("depthPrice15").appendChild(depthPrice15Display);document.getElementById("depthPrice16").appendChild(depthPrice16Display);document.getElementById("depthPrice17").appendChild(depthPrice17Display);document.getElementById("depthPrice18").appendChild(depthPrice18Display);document.getElementById("depthPrice19").appendChild(depthPrice19Display);document.getElementById("depthPrice20").appendChild(depthPrice20Display);document.getElementById("depthPrice21").appendChild(depthPrice21Display);document.getElementById("depthPrice22").appendChild(depthPrice22Display);document.getElementById("depthPrice23").appendChild(depthPrice23Display);document.getElementById("depthPrice24").appendChild(depthPrice24Display);document.getElementById("depthPrice25").appendChild(depthPrice25Display);document.getElementById("depthPrice26").appendChild(depthPrice26Display);document.getElementById("depthPrice27").appendChild(depthPrice27Display);document.getElementById("depthPrice28").appendChild(depthPrice28Display);document.getElementById("depthPrice29").appendChild(depthPrice29Display);document.getElementById("depthPrice30").appendChild(depthPrice30Display);document.getElementById("currency").firstChild.nodeValue=currentCurrency+"/"+currentCrypto;document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a"}function onLoad(){init();expiryDate=new Date();expiryDate.setDate(expiryDate.getDate()+5*365);cookieValue=getCookie("updateInterval");if(cookieValue==""){updateInterval=2000}else{updateInterval=parseInt(cookieValue);$("#updateInterval").val(updateInterval)}cookieValue=getCookie("highlightvol");if(cookieValue==""){highlightvol=10}else{highlightvol=parseInt(cookieValue);$("#highlightvol").val(highlightvol)}cookieValue=getCookie("showLegend");if(cookieValue==""){showLegend=true;options.legend.show=true;$("#legendToggle input[type=checkbox]").prop("checked",true)}else{if(cookieValue=="true"){showLegend=true;options.legend.show=true;$("#legendToggle input[type=checkbox]").prop("checked",true)}else{showLegend=false;options.legend.show=false;$("#legendToggle input[type=checkbox]").prop("checked",false)}}cookieValue=getCookie("playticksound");if(cookieValue==""){playticksound=false}else{if(cookieValue=="true"){playticksound=true;$("#ticksoundToggle input[type=checkbox]").prop("checked",true);if(beepSoundLoaded==false){beepSound=new Audio("tick.mp3");beepSoundLoaded=true}}else{playticksound=false;$("#ticksoundToggle input[type=checkbox]").prop("checked",false)}}cookieValue=getCookie("alertTypeChrome");if(cookieValue==""){alertTypeChrome=false}else{if(cookieValue=="true"){alertTypeChrome=true;$("#tickChromeAlert input[type=checkbox]").prop("checked",true);var a=Notification.permission;if(a!=="granted"){Notification.requestPermission()}}else{alertTypeChrome=false;$("#tickChromeAlert input[type=checkbox]").prop("checked",false)}}cookieValue=getCookie("alertTypeSound");if(cookieValue==""){alertTypeSound=false}else{if(cookieValue=="true"){alertTypeSound=true;$("#ticksoundAlert input[type=checkbox]").prop("checked",true);var a=Notification.permission;if(a!=="granted"){Notification.requestPermission()}}else{alertTypeSound=false;$("#tickChromeAlert input[type=checkbox]").prop("checked",false)}}cookieValue=getCookie("highThreshVal");if(cookieValue==""){}else{highThreshVal=parseFloat(cookieValue);$("#highThreshVal").val(parseFloat(highThreshVal).toFixed(pricePrecision))}cookieValue=getCookie("lowThreshVal");if(cookieValue==""){}else{lowThreshVal=parseFloat(cookieValue);$("#lowThreshVal").val(parseFloat(lowThreshVal).toFixed(pricePrecision))}cookieValue=getCookie("incrementThreshVal");if(cookieValue==""){}else{incrementThreshVal=parseFloat(cookieValue);$("#incrementThreshVal").val(parseFloat(incrementThreshVal).toFixed(pricePrecision))}cookieValue=getCookie("highThreshValSet");if(cookieValue==""){highThreshValSet=false}else{if(cookieValue=="true"){highThreshValSet=true;$("#incrementThreshVal").attr("disabled","disabled");$("#incrementThreshVal").attr("readonly","readonly");$("#tickChromeAlertBox").attr("disabled","disabled");$("#tickSoundAlertBox").attr("disabled","disabled");$("#tickChromeAlertBox").attr("readonly","readonly");$("#tickSoundAlertBox").attr("readonly","readonly")}else{highThreshValSet=false}}cookieValue=getCookie("lowThreshValSet");if(cookieValue==""){lowThreshValSet=false}else{if(cookieValue=="true"){lowThreshValSet=true;$("#incrementThreshVal").attr("disabled","disabled");$("#incrementThreshVal").attr("readonly","readonly");$("#tickChromeAlertBox").attr("disabled","disabled");$("#tickSoundAlertBox").attr("disabled","disabled");$("#tickChromeAlertBox").attr("readonly","readonly");$("#tickSoundAlertBox").attr("readonly","readonly")}else{lowThreshValSet=false}}cookieValue=getCookie("incrementThreshSet");if(cookieValue==""){incrementThreshSet=false}else{if(cookieValue=="true"){incrementThreshSet=true;incrementLowVal=parseFloat(parseFloat(tradeData[tradeData.length-1][1])-parseFloat(incrementThreshVal)).toFixed(pricePrecision);incrementHighVal=parseFloat(parseFloat(tradeData[tradeData.length-1][1])+parseFloat(incrementThreshVal)).toFixed(pricePrecision);$("#lowThreshVal").attr("disabled","disabled");$("#lowThreshVal").attr("readonly","readonly");$("#highThreshVal").attr("disabled","disabled");$("#highThreshVal").attr("readonly","readonly");$("#incrementThreshVal").attr("disabled","disabled");$("#incrementThreshVal").attr("readonly","readonly");$("#tickChromeAlertBox").attr("disabled","disabled");$("#tickSoundAlertBox").attr("disabled","disabled");$("#tickChromeAlertBox").attr("readonly","readonly");$("#tickSoundAlertBox").attr("readonly","readonly")}else{incrementThreshSet=false}}cookieValue=getCookie("rounddepth");if(cookieValue==""){displayRoundedDepth=false;$("#roundDepthToggle input[type=checkbox]").prop("checked",false)}else{if(cookieValue=="true"){displayRoundedDepth=true;$("#roundDepthToggle input[type=checkbox]").prop("checked",true)}else{displayRoundedDepth=false}}cookieValue=getCookie("doAnimation");if(cookieValue==""){doAnimation=true;$("#animateToggle input[type=checkbox]").prop("checked",true)}else{if(cookieValue=="true"){doAnimation=true;$("#animateToggle input[type=checkbox]").prop("checked",true)}else{doAnimation=false}}cookieValue=getCookie("showBidAskLines");if(cookieValue==""){showBidAskLines=true;$("#bidaskToggle input[type=checkbox]").prop("checked",true)}else{if(cookieValue=="true"){showBidAskLines=true;$("#bidaskToggle input[type=checkbox]").prop("checked",true)}else{showBidAskLines=false}}tickerToggleButn=document.getElementById("showhidetick");tickerToggleButn.onclick=toggleTicker;document.getElementById("showhidetick").firstChild.nodeValue="Hide Ticker";themeToggleButn=document.getElementById("toggleTheme");themeToggleButn.onclick=toggleTheme;expandOrderButn=document.getElementById("expandArrowText");expandOrderButn.onclick=toggleOrderExpand;document.getElementById("toggleTheme").firstChild.nodeValue="Light Theme";document.getElementById("expandArrowText").firstChild.nodeValue="\u25C0 Expand";document.getElementById("USDTicker").firstChild.nodeValue="0.000";document.getElementById("GBPTicker").firstChild.nodeValue="0.000";document.getElementById("EURTicker").firstChild.nodeValue="0.000";document.getElementById("AUDTicker").firstChild.nodeValue="0.000";plusToggleButn=document.getElementById("plusDepth");plusToggleButn.onclick=plusDepth;minusToggleButn=document.getElementById("minusDepth");minusToggleButn.onclick=minusDepth;screenWidth=$(window).width();screenHeight=$(window).height();graphWidth=screenWidth-600;graphHeight=screenHeight/2;cookieValue=getCookie("ordersExpanded");if(cookieValue=="true"){toggleOrderExpand()}cookieValue=getCookie("darkTheme");if(cookieValue=="false"){toggleTheme()}updatelastBuySumData();updatelastSellSumData();if(!displayRoundedDepth){updateDepthCells(true)}else{updateDepthCellsRounded(true)}clearZeroVolume();loadNews()}function updateGraphBids(a){for(j=0;j<buyDepthGraph.length;j++){if(parseFloat(a)<parseFloat(buyDepthGraph[j][0])){buyDepthGraph.splice(j,1);j--}}for(j=0;j<sellDepthGraph.length;j++){if(parseFloat(a)>parseFloat(sellDepthGraph[j][0])){sellDepthGraph.splice(j,1);j--}}}function updateBids(a){for(j=0;j<buyDepthData.length;j++){if(parseFloat(a)<parseFloat(buyDepthData[j][0])){buyDepthData.splice(j,1);j--}}for(j=0;j<sellDepthData.length;j++){if(parseFloat(a)>parseFloat(sellDepthData[j][0])){sellDepthData.splice(j,1);j--}}}function updateLast(){seconds=new Date().getTime();num3=last;num3=parseFloat(num3).toFixed(pricePrecision);document.title=num3+" "+currentCurrency+"/"+currentCrypto;lastTradePrice=num3;if(bidsUpdated==false&&last!=0){bidsUpdated=true;updateBids(last);updateGraphBids(last)}if((firstTickReceived==false||firstTradeReceived==false)&&num3!=0){document.getElementById("lastTrade").firstChild.nodeValue=num3;firstTradeReceived=true}document.getElementById("high").firstChild.nodeValue=maxOrig;document.getElementById("low").firstChild.nodeValue=minOrig;if(firstTickReceived==true){num3=buy;i=0;if(buyDepthData.length!=0){while(parseFloat(buyDepthData[i][0])>parseFloat(num3)){if((currentExchange=="bitfinex"&&(seconds-buyDepthData[i][2])>10000)||currentExchange!="bitfinex"){curPrice=parseFloat(parseFloat(buyDepthData[i][0]));lastDepthChange=0-parseFloat(buyDepthData[i][1]);depthPrice=curPrice*priceDivisor;lastDepthVol=0;updateLastBuy();updateGraphLastBuy()}i++}}if(buyDepthGraphRounded.length!=0){while(parseFloat(buyDepthGraphRounded[0][0])>parseFloat(num3)){buyDepthGraphRounded.splice(0,1);if(buyDepthGraphRounded1.length!=0){buyDepthGraphRounded1.splice(0,1)}if(buyDepthGraphRounded5min.length!=0){buyDepthGraphRounded5min.splice(0,1)}}}num3=parseFloat(num3).toFixed(pricePrecision);document.getElementById("buy").firstChild.nodeValue=num3;num3=sell;i=0;if(sellDepthData.length!=0){while(parseFloat(sellDepthData[i][0])<parseFloat(num3)){if((currentExchange=="bitfinex"&&(seconds-sellDepthData[i][2])>10000)||currentExchange!="bitfinex"){curPrice=parseFloat(parseFloat(sellDepthData[i][0]));lastDepthChange=0-parseFloat(sellDepthData[i][1]);depthPrice=curPrice*priceDivisor;lastDepthVol=0;updateLastSell();updateGraphLastSell()}i++}}if(sellDepthGraphRounded.length!=0){while(parseFloat(sellDepthGraphRounded[0][0])<parseFloat(num3)){sellDepthGraphRounded.splice(0,1);if(sellDepthGraphRounded1.length!=0){sellDepthGraphRounded1.splice(0,1)}if(sellDepthGraphRounded5min.length!=0){sellDepthGraphRounded5min.splice(0,1)}}}num3=parseFloat(num3).toFixed(pricePrecision);document.getElementById("sell").firstChild.nodeValue=num3}else{if(buyDepthData.length!=0){document.getElementById("buy").firstChild.nodeValue=parseFloat(buyDepthData[0][0]).toFixed(pricePrecision)}if(sellDepthData.length!=0){document.getElementById("sell").firstChild.nodeValue=parseFloat(sellDepthData[0][0]).toFixed(pricePrecision)}}updateCentChange()}function updateLastTrade(){firstTradeReceived=true;if(tradeDataLoaded==false){setTimeout(function(){updateLastTrade()},20);return}var x;var s=0;var v;var B;var q;var w;var C;var g;var c;var p;var r;var h;var f;var e;var o=false;var t=false;var b=false;var A=false;var m;if(playticksound){beepSound.currentTime=0;beepSound.play()}curTime=new Date();rounded=new Date((Math.floor(curTime.getTime()/coeff)*coeff));seconds=new Date().getTime();if(currentExchange=="btce"||currentExchange=="btcchina"){seconds=new Date(lastTradeTime*1000);rounded=new Date((Math.floor(seconds.getTime()/coeff)*coeff))}if(volData[volData.length-1][0]==rounded.getTime()){volData[volData.length-1][1]=volData[volData.length-1][1]+lastVol;if(currentExchange=="btce"){if(curTradeType==0){soldHistData[soldHistData.length-1][1]=(soldHistData[soldHistData.length-1][1])+(parseFloat(lastVol))}else{boughtHistData[boughtHistData.length-1][1]=(boughtHistData[boughtHistData.length-1][1])+(parseFloat(lastVol))}}if(parseFloat(volData[volData.length-1][1])>maxvol){maxvol=Math.round(parseFloat(volData[volData.length-1][1]))+50}}else{volData.push([rounded.getTime(),lastVol]);if(currentExchange=="btce"){if(curTradeType==0){soldHistData.push([rounded.getTime(),parseFloat(lastVol)]);boughtHistData.push([rounded.getTime(),parseInt(0)])}else{soldHistData.push([rounded.getTime(),parseFloat(0)]);boughtHistData.push([rounded.getTime(),parseFloat(lastVol)])}}if(volData.length!=0){for(var z=0;z<(volData.length/5);z++){difference=(rounded.getTime())-volData[z][0];if(difference>((keepMins*60*1000))){delete volData[z];if(currentExchange=="btce"){delete soldHistData[z];delete boughtHistData[z]}volData.splice(z,1);if(currentExchange=="btce"){soldHistData.splice(z,1);boughtHistData.splice(z,1)}z--;t=true}}}if(currentExchange=="btce"){if(soldHistData.length!=0){for(var z=0;z<(volData.length/5);z++){difference=(rounded.getTime())-soldHistData[z][0];if(difference>((keepMins*60*1000))){delete soldHistData[z];delete boughtHistData[z];soldHistData.splice(z,1);boughtHistData.splice(z,1);z--}}}}if(t){m=volData.reduce(function(D,k){return Math.max(D,k[1])},-Infinity);if(parseFloat(m)>20){maxvol=Math.round(parseFloat(m))+50}else{maxvol=20}}if(tradeData.length!=0){for(var z=0;z<(tradeData.length/5);z++){difference=(rounded.getTime())-tradeData[z][0];if(difference>(keepMins*60*1000)){delete tradeData[z];tradeData.splice(z,1);z--;o=true}}}if(o){m=tradeData.reduce(function(D,k){return Math.max(D,k[1])},-Infinity);max=parseFloat(m)+graphPaddingSize;max=parseFloat(max).toFixed(pricePrecision);maxOrig=parseFloat(m).toFixed(pricePrecision);document.getElementById("high").firstChild.nodeValue=maxOrig;m=tradeData.reduce(function(D,k){return Math.min(D,k[1])},Infinity);min=parseFloat(m)-graphPaddingSize;min=parseFloat(min).toFixed(pricePrecision);minOrig=parseFloat(m).toFixed(pricePrecision);document.getElementById("low").firstChild.nodeValue=minOrig;if(currentExchange=="btce"&&keepMins<=180){periodSold=0;periodBought=0;for(n in tradeData){if(tradeData[n][4]==0){periodSold=periodSold+parseFloat(tradeData[n][2])}else{periodBought=periodBought+parseFloat(tradeData[n][2])}}updateBoughtSoldText()}if(currentExchange=="btce"&&keepMins>180){periodSold=0;periodBought=0;for(n in tradeData){periodBought=periodBought+parseFloat(tradeData[n][4]);periodSold=periodSold+parseFloat(tradeData[n][5])}updateBoughtSoldText()}}if(showSMA){if(smaData.length!=0){for(var z=0;z<(smaData.length/5);z++){difference=(rounded.getTime())-smaData[z][0];if(difference>(keepMins*60*1000)){delete smaData[z];smaData.splice(z,1);z--}}}}if(showEMA){if(emaData.length!=0){for(var z=0;z<(emaData.length/5);z++){difference=(rounded.getTime())-emaData[z][0];if(difference>(keepMins*60*1000)){delete emaData[z];emaData.splice(z,1);z--}}}}if(showDOC){if(docData.length!=0){for(var z=0;z<(docData.length/5);z++){difference=(rounded.getTime())-docData[z][0];if(difference>(keepMins*60*1000)){delete docData[z];docData.splice(z,1);z--}}}}if(showRANGE){if(maxRangeData.length!=0){for(var z=0;z<(maxRangeData.length/5);z++){difference=(rounded.getTime())-maxRangeData[z][0];if(difference>(keepMins*60*1000)){delete maxRangeData[z];maxRangeData.splice(z,1);z--;A=true}}max=parseFloat(Math.max.apply(Math,maxRangeData.map(function(k){return k[1]})))}if(minRangeData.length!=0){for(var z=0;z<(minRangeData.length/5);z++){difference=(rounded.getTime())-minRangeData[z][0];if(difference>(keepMins*60*1000)){delete minRangeData[z];minRangeData.splice(z,1);z--;b=true}}min=parseFloat(Math.min.apply(Math,minRangeData.map(function(k){return k[1]})))}}}num3=price;num3=parseFloat(num3).toFixed(pricePrecision);if(currentExchange=="btcchina"||currentExchange=="okcoin"||currentExchange=="huobi"){document.getElementById("lastTrade").firstChild.nodeValue=parseFloat(num3).toFixed(2)}else{document.getElementById("lastTrade").firstChild.nodeValue=num3}document.title=num3+" "+currentCurrency+"/"+currentCrypto;if(parseFloat(num3)>parseFloat(maxOrig)){max=parseFloat(num3)+graphPaddingSize;max=parseFloat(max).toFixed(pricePrecision);maxOrig=parseFloat(num3).toFixed(pricePrecision);document.getElementById("high").firstChild.nodeValue=maxOrig;if(showDOC){if(parseFloat(docMax)>parseFloat(max)){max=calcDocGraphMax(docMin,docMax)}}}if(parseFloat(num3)<parseFloat(minOrig)){min=parseFloat(num3)-graphPaddingSize;min=parseFloat(min).toFixed(pricePrecision);minOrig=parseFloat(num3).toFixed(pricePrecision);document.getElementById("low").firstChild.nodeValue=minOrig;if(showDOC){if(parseFloat(docMin)<parseFloat(min)){min=calcDocGraphMin(docMin,docMax);if(parseFloat(min)<0){min=0}}}}if(tradeDataTicks.length!=0){if(tradeDataTicks[tradeDataTicks.length-1][1]<=num3){tradeDataTicks.push([seconds,num3,lastVol,1,0]);appendTradeCells(seconds,num3,lastVol,1,false,true)}else{tradeDataTicks.push([seconds,num3,lastVol,0,0]);appendTradeCells(seconds,num3,lastVol,0,false,true)}}else{tradeDataTicks.push([seconds,num3,lastVol,1,0]);appendTradeCells(seconds,num3,lastVol,1,false,true)}if(incrementThreshSet){if(tradeDataTicks[tradeDataTicks.length-1][1]>incrementHighVal){e=new Date(seconds);if(alertTypeSound){alertSound.play()}if(alertTypeChrome){var a=new Notification("Bitcoin Ticker Alert",{icon:"btcNotification.png",body:"Price now "+parseFloat(tradeDataTicks[tradeDataTicks.length-1][1]).toFixed(pricePrecision)+" at "+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())});a.onclick=function(){window.focus()}}incrementHighVal=parseFloat(parseFloat(tradeDataTicks[tradeDataTicks.length-1][1])+parseFloat(incrementThreshVal)).toFixed(pricePrecision);incrementLowVal=parseFloat(parseFloat(tradeDataTicks[tradeDataTicks.length-1][1])-parseFloat(incrementThreshVal)).toFixed(pricePrecision)}else{if(tradeDataTicks[tradeDataTicks.length-1][1]<incrementLowVal){e=new Date(seconds);if(alertTypeSound){alertSound.play()}if(alertTypeChrome){var a=new Notification("Bitcoin Ticker Alert",{icon:"btcNotification.png",body:"Price now "+parseFloat(tradeDataTicks[tradeDataTicks.length-1][1]).toFixed(pricePrecision)+" at "+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())});a.onclick=function(){window.focus()}}incrementHighVal=parseFloat(parseFloat(tradeDataTicks[tradeDataTicks.length-1][1])+parseFloat(incrementThreshVal)).toFixed(pricePrecision);incrementLowVal=parseFloat(parseFloat(tradeDataTicks[tradeDataTicks.length-1][1])-parseFloat(incrementThreshVal)).toFixed(pricePrecision)}}}if(highThreshValSet){if(tradeDataTicks[tradeDataTicks.length-1][1]>highThreshVal){e=new Date(seconds);highThreshValSet=false;setCookie("highThreshValSet","false",expiryDate,"/");if(lowThreshValSet==false){$("#incrementThreshVal").removeAttr("disabled");$("#incrementThreshVal").removeAttr("readonly");$("#tickChromeAlertBox").removeAttr("disabled");$("#tickSoundAlertBox").removeAttr("disabled");$("#tickChromeAlertBox").removeAttr("readonly");$("#tickSoundAlertBox").removeAttr("readonly")}document.getElementById("HighThreshSetMsg").style.color="yellow";document.getElementById("HighThreshSetMsg").firstChild.nodeValue="Price rose above "+highThreshVal+" at "+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds());if(alertTypeSound){alertSound.play()}if(alertTypeChrome){var a=new Notification("Bitcoin Ticker Alert",{icon:"btcNotification.png",body:"Price rose above "+highThreshVal+" at "+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())});a.onclick=function(){window.focus()}}}}if(lowThreshValSet){if(tradeDataTicks[tradeDataTicks.length-1][1]<lowThreshVal){e=new Date(seconds);lowThreshValSet=false;setCookie("lowThreshValSet","false",expiryDate,"/");if(highThreshValSet==false){$("#incrementThreshVal").removeAttr("disabled");$("#incrementThreshVal").removeAttr("readonly");$("#tickChromeAlertBox").removeAttr("disabled");$("#tickSoundAlertBox").removeAttr("disabled");$("#tickChromeAlertBox").removeAttr("readonly");$("#tickSoundAlertBox").removeAttr("readonly")}document.getElementById("LowThreshSetMsg").style.color="yellow";document.getElementById("LowThreshSetMsg").firstChild.nodeValue="Price fell below "+lowThreshVal+" at "+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds());if(alertTypeSound){alertSound.play()}if(alertTypeChrome){var a=new Notification("Bitcoin Ticker Alert",{icon:"btcNotification.png",body:"Price fell below "+lowThreshVal+" at "+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())});a.onclick=function(){window.focus()}}}}if(tradeData.length!=0){if(keepMins<=180){if(tradeData[tradeData.length-1][1]<=num3){tradeData.push([seconds,num3,lastVol,1,curTradeType])}else{tradeData.push([seconds,num3,lastVol,0,curTradeType])}}else{if(tradeData[tradeData.length-1][0]==rounded.getTime()){sumTradeDat[sumTradeDat.length]=num3;var u=0;var d=0;for(var z=0;z<(sumTradeDat.length);z++){u=parseFloat(u)+parseFloat(sumTradeDat[z]);d++}var l=u/d;if(tradeData[tradeData.length-2][1]<=l){tradeData[tradeData.length-1][1]=parseFloat(l).toFixed(pricePrecision);tradeData[tradeData.length-1][2]=volData[volData.length-1][1];tradeData[tradeData.length-1][3]=1}else{tradeData[tradeData.length-1][1]=parseFloat(l).toFixed(pricePrecision);tradeData[tradeData.length-1][2]=volData[volData.length-1][1];tradeData[tradeData.length-1][3]=0}if(currentExchange=="btce"){if(curTradeType==1){tradeData[tradeData.length-1][4]=parseFloat(tradeData[tradeData.length-1][4])+parseFloat(lastVol)}else{tradeData[tradeData.length-1][5]=parseFloat(tradeData[tradeData.length-1][5])+parseFloat(lastVol)}}}else{sumTradeDat=[];sumTradeDat[sumTradeDat.length]=num3;var u=0;var d=0;for(var z=0;z<(sumTradeDat.length);z++){u=parseFloat(u)+parseFloat(sumTradeDat[z]);d++}var l=u/d;if(currentExchange=="btce"){if(tradeData[tradeData.length-2][1]<=l){if(curTradeType==1){tradeData.push([rounded.getTime(),parseFloat(l).toFixed(pricePrecision),volData[volData.length-1][1],1,parseFloat(lastVol),0])}else{tradeData.push([rounded.getTime(),parseFloat(l).toFixed(pricePrecision),volData[volData.length-1][1],1,0,parseFloat(lastVol)])}}else{if(curTradeType==1){tradeData.push([rounded.getTime(),parseFloat(l).toFixed(pricePrecision),volData[volData.length-1][1],0,parseFloat(lastVol),0])}else{tradeData.push([rounded.getTime(),parseFloat(l).toFixed(pricePrecision),volData[volData.length-1][1],0,0,parseFloat(lastVol)])}}}else{if(tradeData[tradeData.length-2][1]<=l){tradeData.push([rounded.getTime(),parseFloat(l).toFixed(pricePrecision),volData[volData.length-1][1],1])}else{tradeData.push([rounded.getTime(),parseFloat(l).toFixed(pricePrecision),volData[volData.length-1][1],0])}}}}}else{tradeData.push([seconds,price,lastVol,1])}if(showSMA&&smaData.length!=0){B=new Date(smaData[smaData.length-1][0]);q=new Date((Math.floor(B.getTime()/coeff)*coeff));w=new Date(seconds);C=new Date((Math.floor(w.getTime()/coeff)*coeff));if(C.getTime()!=q.getTime()){g=0;for(var y=0;y<smaData.length;y++){g+=parseFloat(smaData[y][2])}g+=parseFloat(tradeData[tradeData.length-2][1]);s=parseFloat(parseFloat(g)/parseInt(y+1));smaData.push([tradeData[tradeData.length-1][0],parseFloat(s),parseFloat(tradeData[tradeData.length-2][1])])}}if(showEMA&&emaData.length!=0){B=new Date(emaData[emaData.length-1][0]);q=new Date((Math.floor(B.getTime()/coeff)*coeff));w=new Date(seconds);C=new Date((Math.floor(w.getTime()/coeff)*coeff));if(C.getTime()!=q.getTime()){ema=0;v=parseFloat(2/(emaPeriod+1));ema=parseFloat(tradeData[tradeData.length-2][1])*v+emaData[emaData.length-1][1]*(1-v);emaData.push([tradeData[tradeData.length-1][0],parseFloat(ema)])}}if(showDOC){if(docData.length!=0){B=new Date(parseInt(docData[docData.length-1][0]));q=new Date((Math.floor(B.getTime()/coeff)*coeff));w=new Date(seconds);C=new Date((Math.floor(w.getTime()/coeff)*coeff));if(C.getTime()!=q.getTime()){h=docMax;f=docMin;if(docData.length!=0){if(docData.length<20){c=1}else{c=parseInt(parseInt(docData.length)-19)}r=parseFloat(docData[parseInt(c-1)][3]);p=parseFloat(docData[parseInt(c-1)][4]);for(y=c;y<docData.length;y++){if(parseFloat(docData[y][3])>parseFloat(r)){r=parseFloat(docData[y][3])}if(parseFloat(docData[y][4])<parseFloat(p)){p=parseFloat(docData[y][4])}}if(parseFloat(r)>parseFloat(docMax)){docMax=r}if(parseFloat(p)<parseFloat(docMin)){docMin=p}}if(parseFloat(docMin)<parseFloat(min)){min=calcDocGraphMin(docMin,docMax);if(parseFloat(min)<0){min=0}}if(parseFloat(docMax)>parseFloat(max)){max=calcDocGraphMax(docMin,docMax)}B=new Date(tradeData[tradeData.length-1][0]);q=new Date((Math.floor(B.getTime()/coeff)*coeff));docData.push([q.getTime(),parseFloat(docMax),parseFloat(docMin),parseFloat(h),parseFloat(f)]);docMin=parseFloat(tradeData[tradeData.length-1][1]);docMax=parseFloat(tradeData[tradeData.length-1][1])}else{if(parseFloat(tradeData[tradeData.length-1][1])>docMax){docMax=parseFloat(tradeData[tradeData.length-1][1])}if(parseFloat(tradeData[tradeData.length-1][1])<docMin){docMin=parseFloat(tradeData[tradeData.length-1][1])}}}}if(showRANGE&&keepMins>180&&(maxRangeData.length>0&&minRangeData.length>0)){B=new Date(parseInt(maxRangeData[maxRangeData.length-1][0]));q=new Date((Math.floor(B.getTime()/coeff)*coeff));w=new Date(seconds);C=new Date((Math.floor(w.getTime()/coeff)*coeff));if(C.getTime()!=q.getTime()){maxRangeData.push([C.getTime(),parseFloat(num3),parseFloat(num3)]);minRangeData.push([C.getTime(),parseFloat(num3),parseFloat(num3)])}else{if(parseFloat(num3)>parseFloat(maxRangeData[maxRangeData.length-1][1])){maxRangeData[maxRangeData.length-1][1]=parseFloat(num3)}if(parseFloat(num3)<parseFloat(minRangeData[minRangeData.length-1][1])){minRangeData[minRangeData.length-1][1]=parseFloat(num3)}maxRangeData[maxRangeData.length-1][2]=parseFloat(tradeData[tradeData.length-1][1]);minRangeData[minRangeData.length-1][2]=parseFloat(tradeData[tradeData.length-1][1])}}updateCentChange()}function appendclearTrades(){while(firstdivID<lastdivID){$("#rowdiv"+firstdivID).remove();firstdivID++}firstdivID=1;lastdivID=1}function clearTrades(){return;var c=1;var a=(tradeData.length-31);a=0;for(var b=30;b>a;b--){if(isOdd(c)!=true){document.getElementById("tradecell"+c).style.background=tradeCellBckColor;document.getElementById("tradeT"+c).style.background=tradeCellBckColor;document.getElementById("tradeVol"+c).style.background=tradeCellBckColor;document.getElementById("tradePrice"+c).style.background=tradeCellBckColor}else{document.getElementById("tradecell"+c).style.background=backgroundColor;document.getElementById("tradeT"+c).style.background=backgroundColor;document.getElementById("tradeVol"+c).style.background=backgroundColor;document.getElementById("tradePrice"+c).style.background=backgroundColor}document.getElementById("tradeT"+c).firstChild.nodeValue="";document.getElementById("tradeT"+c).style.color="#29CB1C";document.getElementById("tradeVol"+c).firstChild.nodeValue="";document.getElementById("tradeVol"+c).style.color="#29CB1C";document.getElementById("tradePrice"+c).firstChild.nodeValue="";document.getElementById("tradePrice"+c).style.color="#29CB1C";c++}}function updateGraphLastSellnoStyle(c){var b=parseFloat(depthPrice);var a=parseFloat(lastDepthVol);if(a!=0){sellDepthGraph.unshift([parseFloat(depthPrice).toFixed(depthPrecision),a.toFixed(depthPrecision),c,1])}}function updateGraphLastSellnoStyleRounded(){var a=new Date();var d=a.getTime();var c=parseFloat(depthPrice);var b=parseFloat(lastDepthVol);if(b!=0){sellDepthGraphRounded.unshift([parseFloat(depthPrice),b,d,1])}}function updateLastSellRoundednoStyle(){var d=new Date();var c=d.getTime();var k=0;var l=true;var o=10;var e=0;var g=parseFloat(depthPrice);var h=parseFloat(lastDepthVol);var b;var m=false;var a=-1;var f=false;if(h!=0){sellDepthData.unshift([parseFloat(depthPrice).toFixed(depthPrecision),h.toFixed(depthPrecision),c,1]);m=true}if(1==3){if(buyDepthData.length>0){for(k=0;k<sellDepthData.length;k++){if(sellDepthData[k][1]==0||sellDepthData[k][0]<buyDepthData[0][0]){sellDepthData.splice(k,1)}}}b=sellDepthData.length;for(k=0;(k<b&&m==false);k++){if((g==sellDepthData[k][0])&&m==false){if(h<sellDepthData[k][1]){a=k;f=false;sellDepthData[k][3]=-1}if(h>sellDepthData[k][1]){a=k;f=true;sellDepthData[k][3]=1}sellDepthData[k][1]=h.toFixed(depthPrecision);sellDepthData[k][2]=c;if(sellDepthData[k][1]==0){}m=true}if(g<sellDepthData[k][0]&&m==false){if(h!=0){sellDepthData.splice(k,0,[g.toFixed(depthPrecision),h.toFixed(depthPrecision),c,1]);a=k;f=true}m=true}}if(m==false){sellDepthData.push([parseFloat(depthPrice).toFixed(depthPrecision),h.toFixed(depthPrecision),c,1])}}}function updateLastSellnoStyle(c){var b=parseFloat(depthPrice);var a=parseFloat(lastDepthVol);if(a!=0){sellDepthData.unshift([parseFloat(depthPrice).toFixed(depthPrecision),a.toFixed(depthPrecision),c,1])}}function updateGraphLastSell(){if(depthGraphLoaded==false||depthGraphRoundedLoaded==false){return}var d=new Date();var c=d.getTime();var k=0;var l=true;var o=10;var e=0;var g=parseFloat(depthPrice/priceDivisor);var h=parseFloat(lastDepthVol/100000000);var b;var m=false;var a=-1;var f=false;if(sellDepthGraph.length==0&&h!=0){sellDepthGraph.push([parseFloat(depthPrice/priceDivisor).toFixed(depthPrecision),h.toFixed(depthPrecision),c,1])}else{if(tradeData.length==0||g<parseFloat(tradeData[tradeData.length-1][1])+(tradeData[tradeData.length-1][1]*0.1)){if(buyDepthGraph.length>0&&sellDepthGraph.length>0){while(parseFloat(buyDepthGraph[0][0])>parseFloat(sellDepthGraph[0][0])){buyDepthGraph.splice(0,1)}}b=sellDepthGraph.length;k=0;while(k<b&&m==false){if(m==false){if((g==sellDepthGraph[k][0])&&m==false){if(h<sellDepthGraph[k][1]){a=k;f=false;sellDepthGraph[k][3]=-1}if(h>sellDepthGraph[k][1]){a=k;f=true;sellDepthGraph[k][3]=1}sellDepthGraph[k][1]=h.toFixed(depthPrecision);sellDepthGraph[k][2]=c;if(sellDepthGraph[k][1]==0){}m=true}if(g<sellDepthGraph[k][0]&&m==false){if(h!=0){sellDepthGraph.splice(k,0,[g.toFixed(depthPrecision),h.toFixed(depthPrecision),c,1]);a=k;f=true}m=true}}k++}if(m==false){sellDepthGraph.push([parseFloat(depthPrice/priceDivisor).toFixed(depthPrecision),h.toFixed(depthPrecision),c,1])}}}}function updateLastSell(){if(depthGraphLoaded==false||depthGraphRoundedLoaded==false){return}var d=new Date();var c=d.getTime();var l=0;var o=true;var q=10;var e=0;var h=parseFloat(depthPrice/priceDivisor);var k=parseFloat(lastDepthVol/100000000);var b;var p=false;var a=-1;var g=false;var f;if(currentCurrency=="USD"){f=(Math.round(parseFloat(h)*2)/2).toFixed(1)}else{if(currentCurrency=="BTC"){f=h.toFixed(5)}}if(sellDepthData.length==0&&k!=0){sellDepthData.push([parseFloat(depthPrice/priceDivisor).toFixed(depthPrecision),k.toFixed(depthPrecision),c,1])}else{if(tradeData.length==0||h<parseFloat(tradeData[tradeData.length-1][1])+(tradeData[tradeData.length-1][1]*0.1)){b=sellDepthData.length;var m=binarySearch2d(sellDepthData,h);if(m.found==true){if(k<sellDepthData[m.pos][1]){g=false;sellDepthData[m.pos][3]=-1}if(k>sellDepthData[m.pos][1]){g=true;sellDepthData[m.pos][3]=1}sellDepthData[m.pos][1]=k.toFixed(depthPrecision);sellDepthData[m.pos][2]=c}else{if(k!=0){sellDepthData.splice(m.pos,0,[h.toFixed(depthPrecision),k.toFixed(depthPrecision),c,1]);a=m.pos;g=true}}}}b=sellDepthGraphRounded.length;foundBuy=false;var m=binarySearch2d(sellDepthGraphRounded,parseFloat(f));if(m.found==true){sellDepthGraphRounded[m.pos][1]=parseFloat(sellDepthGraphRounded[m.pos][1])+lastDepthChange;if(sellDepthGraphRounded[m.pos][1]<0){sellDepthGraphRounded[m.pos][1]=0}sellDepthGraphRounded[m.pos][2]=c;if(lastDepthChange>0){sellDepthGraphRounded[m.pos][3]=1}else{sellDepthGraphRounded[m.pos][3]=-1}}else{if(k!=0){sellDepthGraphRounded.splice(m.pos,0,[f,k.toFixed(depthPrecision),c,1]);sellDepthGraphRounded1.splice(m.pos,0,[f,0,c,1]);sellDepthGraphRounded5min.splice(m.pos,0,[f,0,c,1])}}if(!displayRoundedDepth){updateDepthCells(false)}else{updateDepthCellsRounded(false)}}function updateGraphLastBuynoStyleRounded(c){var b=parseFloat(depthPrice).toFixed(1);var a=parseFloat(lastDepthVol);if(a!=0){buyDepthGraphRounded.push([parseFloat(depthPrice),parseFloat(lastDepthVol),c,1])}}function updateGraphLastBuynoStyle(d){var a=new Date();var d=a.getTime();var c=parseFloat(depthPrice);var b=parseFloat(lastDepthVol);if(b!=0){buyDepthGraph.push([parseFloat(depthPrice).toFixed(depthPrecision),parseFloat(lastDepthVol).toFixed(depthPrecision),d,1])}}function updateLastBuynoStyle(c){var b=parseFloat(depthPrice);var a=parseFloat(lastDepthVol);if(a!=0){buyDepthData.push([parseFloat(depthPrice).toFixed(depthPrecision),parseFloat(lastDepthVol).toFixed(depthPrecision),c,1])}}function updateGraphLastBuy(){if(depthGraphLoaded==false||depthGraphRoundedLoaded==false){return}var d=new Date();var c=d.getTime();var k=0;var m=true;var o=10;var e=0;var g=parseFloat(depthPrice/priceDivisor);var h=parseFloat(lastDepthVol/100000000);var b;var l=false;var a=-1;var f=false;if(buyDepthGraph.length==0&&h!=0){buyDepthGraph.push([parseFloat(depthPrice/priceDivisor).toFixed(depthPrecision),parseFloat(lastDepthVol/100000000).toFixed(depthPrecision),c,1])}else{if(tradeData.length==0||g>parseFloat(tradeData[tradeData.length-1][1])-(tradeData[tradeData.length-1][1]*0.1)){if(sellDepthGraph.length>0&&buyDepthGraph.length>0){while(parseFloat(sellDepthGraph[0][0])<parseFloat(buyDepthGraph[0][0])){sellDepthGraph.splice(0,1)}}b=buyDepthGraph.length;k=0;while(k<b&&l==false){if(l==false){if((g==buyDepthGraph[k][0])&&l==false){if(h<buyDepthGraph[k][1]){a=k;f=false;buyDepthGraph[k][3]=-1}if(h>buyDepthGraph[k][1]){a=k;f=true;buyDepthGraph[k][3]=1}buyDepthGraph[k][1]=h.toFixed(depthPrecision);buyDepthGraph[k][2]=c;if(buyDepthGraph[k][1]==0){}l=true}if(g>buyDepthGraph[k][0]&&l==false){if(h!=0){buyDepthGraph.splice(k,0,[g.toFixed(depthPrecision),h.toFixed(depthPrecision),c,1]);a=k;f=true}l=true}}k++}if(l==false){buyDepthGraph.push([parseFloat(depthPrice/priceDivisor).toFixed(depthPrecision),h.toFixed(depthPrecision),c,1])}}}}function updateLastBuy(){if(depthGraphLoaded==false||depthGraphRoundedLoaded==false){return}var d=new Date();var c=d.getTime();var m=0;var q=true;var r=10;var e=0;var h=parseFloat(depthPrice/priceDivisor);var k=parseFloat(lastDepthVol/100000000);var b;var o=false;var l=false;var a=-1;var g=false;var f;if(currentCurrency=="USD"){f=(Math.round(parseFloat(h)*2)/2).toFixed(1)}else{if(currentCurrency=="BTC"){f=h.toFixed(5)}}if(buyDepthData.length==0&&k!=0){buyDepthData.push([parseFloat(depthPrice/priceDivisor).toFixed(depthPrecision),parseFloat(lastDepthVol/100000000).toFixed(depthPrecision),c,1])}else{if(tradeData.length==0||h>parseFloat(tradeData[tradeData.length-1][1])-(tradeData[tradeData.length-1][1]*0.1)){b=buyDepthData.length;var p=binarySearch2dReverse(buyDepthData,h);if(p.found==true){if(k<buyDepthData[p.pos][1]){g=false;buyDepthData[p.pos][3]=-1}if(k>buyDepthData[p.pos][1]){g=true;buyDepthData[p.pos][3]=1}buyDepthData[p.pos][1]=k.toFixed(depthPrecision);buyDepthData[p.pos][2]=c}else{if(k!=0){buyDepthData.splice(p.pos,0,[h.toFixed(depthPrecision),k.toFixed(depthPrecision),c,1]);g=true}}}}b=buyDepthGraphRounded.length;o=false;var p=binarySearch2dReverse(buyDepthGraphRounded,parseFloat(f));if(p.found==true){buyDepthGraphRounded[p.pos][1]=parseFloat(buyDepthGraphRounded[p.pos][1])+lastDepthChange;if(buyDepthGraphRounded[p.pos][1]<0){buyDepthGraphRounded[p.pos][1]=0}buyDepthGraphRounded[p.pos][2]=c;if(lastDepthChange>0){buyDepthGraphRounded[p.pos][3]=1}else{buyDepthGraphRounded[p.pos][3]=-1}}else{if(k!=0){buyDepthGraphRounded.splice(p.pos,0,[parseFloat(f),k.toFixed(depthPrecision),c,1]);buyDepthGraphRounded1.splice(p.pos,0,[parseFloat(f),0,c,1]);buyDepthGraphRounded5min.splice(p.pos,0,[parseFloat(f),0,c,1])}}if(!displayRoundedDepth){updateDepthCells(false)}else{updateDepthCellsRounded(false)}}function fadeoutNews(){if(!document.hidden){$("#newsBar").fadeTo("medium",0)}else{$("#newsBar").css("opacity",0)}}function updateNews(c){if(newsData.length==0){if(c){setTimeout(function(){updateNews(true)},10000);return}else{return}}var b=new Date();var a=b-newsData[currentNewsItem][0];if(a<7200000){a=Math.round(a/60000);document.getElementById("newsTicker").firstChild.nodeValue=a+" Mins ago -  "+newsData[currentNewsItem][1]+" - "+newsData[currentNewsItem][2]+" - ";$("#newsBox").css("background-color","#000000");$("#newsBox").css("color","yellow");$("#newsTicker").css("background-color","#000000");$("#newsTicker").css("color","yellow");$("#newsTicker").css("font-weight","bold");document.getElementById("newsBox").firstChild.nodeValue="BREAKING: "}else{a=Math.round(a/3600000);document.getElementById("newsTicker").firstChild.nodeValue=a+" Hours ago -  "+newsData[currentNewsItem][1]+" - "+newsData[currentNewsItem][2]+" - ";$("#newsBox").css("background-color",backgroundColor);$("#newsBox").css("color",textColor);$("#newsTicker").css("background-color",backgroundColor);$("#newsTicker").css("color",textColor);$("#newsTicker").css("font-weight","normal");document.getElementById("newsBox").firstChild.nodeValue="Latest: "}$("a#newslink").attr("href",newsData[currentNewsItem][3]);if(parseInt(newsData[currentNewsItem][5])==0){$("#upvotes").html("")}else{$("#upvotes").html('<a href="https://bitcointicker.co/news/index.php?id='+newsData[currentNewsItem][4]+'" target="_blank">Votes ('+newsData[currentNewsItem][5]+")</a>")}if(parseInt(newsData[currentNewsItem][6])==0){$("#commentLinkid").html('<a href="https://bitcointicker.co/news/index.php?id='+newsData[currentNewsItem][4]+'" target="_blank">Discuss</a>')}else{$("#commentLinkid").html('<a href="https://bitcointicker.co/news/index.php?id='+newsData[currentNewsItem][4]+'" target="_blank">Comments ('+newsData[currentNewsItem][6]+")</a>")}currentNewsItem++;if((currentNewsItem)==newsData.length){currentNewsItem=0}if(c){if(!document.hidden){$("#newsBar").fadeTo("medium",1)}else{$("#newsBar").css("opacity",1)}if(globalNewsFadeTimer){clearTimeout(globalNewsFadeTimer);globalNewsFadeTimer=null}if(globalNewsTimer){clearTimeout(globalNewsTimer);globalNewsTimer=null}globalNewsFadeTimer=setTimeout(fadeoutNews,9400);globalNewsTimer=setTimeout(function(){updateNews(true)},10000)}}function clearZeroVolume(){var a;for(a=0;(a<30&&a<buyDepthData.length);a++){if((buyDepthData[a][1]==0)){buyDepthData.splice(a,1);a--}}for(a=0;(a<30&&a<sellDepthData.length);a++){if(sellDepthData[a][1]==0){sellDepthData.splice(a,1);a--}}setTimeout(function(){clearZeroVolume()},5000)}function updateDepthCellsRounded(g){if(displayRoundedDepth==false){return}var d=0;var a=new Date();var c=a.getTime();var f="Ask";if(ordersExpanded!=true){for(var b=15;b>0;b--){if(d<sellDepthGraphRounded.length){if((c-sellDepthGraphRounded[d][2])>1000){sellDepthGraphRounded[d][3]=0}if(sellDepthGraphRounded[d][3]==1){document.getElementById("depthAsk"+b).style.color=backgroundColor;document.getElementById("depthAsk"+b).style.background="red";document.getElementById("depthPrice"+b).style.color=backgroundColor;document.getElementById("depthPrice"+b).style.background="red";document.getElementById("depthVol"+b).style.color=backgroundColor;document.getElementById("depthVol"+b).style.background="red";document.getElementById("depthcell"+b).style.background="red"}if(sellDepthGraphRounded[d][3]==0){if((c-sellDepthGraphRounded[d][2])>60000){document.getElementById("depthAsk"+b).style.color="#8F0000";document.getElementById("depthPrice"+b).style.color="#8F0000";document.getElementById("depthVol"+b).style.color="#8F0000"}else{document.getElementById("depthAsk"+b).style.color="red";document.getElementById("depthPrice"+b).style.color="red";document.getElementById("depthVol"+b).style.color="red"}if(isOdd(d)){document.getElementById("depthAsk"+b).style.background=backgroundColor;document.getElementById("depthPrice"+b).style.background=backgroundColor;document.getElementById("depthVol"+b).style.background=backgroundColor;document.getElementById("depthcell"+b).style.background=backgroundColor}else{document.getElementById("depthAsk"+b).style.background=backgroundColor;document.getElementById("depthPrice"+b).style.background=backgroundColor;document.getElementById("depthVol"+b).style.background=backgroundColor;document.getElementById("depthcell"+b).style.background=backgroundColor}}if(sellDepthGraphRounded[d][3]==-1){document.getElementById("depthAsk"+b).style.color=backgroundColor;document.getElementById("depthAsk"+b).style.background="#29CB1C";document.getElementById("depthPrice"+b).style.color=backgroundColor;document.getElementById("depthPrice"+b).style.background="#29CB1C";document.getElementById("depthVol"+b).style.color=backgroundColor;document.getElementById("depthVol"+b).style.background="#29CB1C";document.getElementById("depthcell"+b).style.background="#29CB1C"}document.getElementById("depthPrice"+b).firstChild.nodeValue=""+sellDepthGraphRounded[d][0].toFixed(4);document.getElementById("depthVol"+b).firstChild.nodeValue="Vol: "+getVolDisplayTxt(sellDepthGraphRounded[d][1])}d++}}else{for(var b=1;(b<31&&b<sellDepthGraphRounded.length);b++){if(b>15){f="Bid"}if(d<sellDepthGraphRounded.length){if((c-sellDepthGraphRounded[d][2])>1000){sellDepthGraphRounded[d][3]=0}if(sellDepthGraphRounded[d][3]==1){document.getElementById("depth"+(f.concat(b))).style.color=backgroundColor;document.getElementById("depth"+f+b).style.background="red";document.getElementById("depthPrice"+b).style.color=backgroundColor;document.getElementById("depthPrice"+b).style.background="red";document.getElementById("depthVol"+b).style.color=backgroundColor;document.getElementById("depthVol"+b).style.background="red";document.getElementById("depthcell"+b).style.background="red"}if(sellDepthGraphRounded[d][3]==0){if((c-sellDepthGraphRounded[d][2])>60000){document.getElementById("depth"+(f.concat(b))).style.color="#8F0000";document.getElementById("depthPrice"+b).style.color="#8F0000";document.getElementById("depthVol"+b).style.color="#8F0000"}else{document.getElementById("depth"+(f.concat(b))).style.color="red";document.getElementById("depthPrice"+b).style.color="red";document.getElementById("depthVol"+b).style.color="red"}if(isOdd(d)){document.getElementById("depth"+(f.concat(b))).style.background=backgroundColor;document.getElementById("depthPrice"+b).style.background=backgroundColor;document.getElementById("depthVol"+b).style.background=backgroundColor;document.getElementById("depthcell"+b).style.background=backgroundColor}else{document.getElementById("depth"+f+b).style.background=backgroundColor;document.getElementById("depthPrice"+b).style.background=backgroundColor;document.getElementById("depthVol"+b).style.background=backgroundColor;document.getElementById("depthcell"+b).style.background=backgroundColor}}if(sellDepthGraphRounded[d][3]==-1){document.getElementById("depth"+f+b).style.color=backgroundColor;document.getElementById("depth"+f+b).style.background="#29CB1C";document.getElementById("depthPrice"+b).style.color=backgroundColor;document.getElementById("depthPrice"+b).style.background="#29CB1C";document.getElementById("depthVol"+b).style.color=backgroundColor;document.getElementById("depthVol"+b).style.background="#29CB1C";document.getElementById("depthcell"+b).style.background="#29CB1C"}document.getElementById("depthPrice"+b).firstChild.nodeValue=""+parseFloat(sellDepthGraphRounded[d][0]).toFixed(4);document.getElementById("depthVol"+b).firstChild.nodeValue="Vol: "+getVolDisplayTxt(sellDepthGraphRounded[d][1])}d++}}if(ordersExpanded){var e=1;f="left"}else{var e=16;f=""}d=0;for(var b=e;(b<31&&b<buyDepthGraphRounded.length);b++){if(d<buyDepthGraphRounded.length){if((c-buyDepthGraphRounded[d][2])>1000){buyDepthGraphRounded[d][3]=0}if(buyDepthGraphRounded[d][3]==1){document.getElementById("depthBid"+b+f).style.color=backgroundColor;document.getElementById("depthBid"+b+f).style.background="#29CB1C";document.getElementById("depthPrice"+b+f).style.color=backgroundColor;document.getElementById("depthPrice"+b+f).style.background="#29CB1C";document.getElementById("depthVol"+b+f).style.color=backgroundColor;document.getElementById("depthVol"+b+f).style.background="#29CB1C";document.getElementById("depthcell"+b+f).style.background="#29CB1C"}if(buyDepthGraphRounded[d][3]==0){if((c-buyDepthGraphRounded[d][2])>60000){document.getElementById("depthBid"+b+f).style.color="#005500";document.getElementById("depthPrice"+b+f).style.color="#005500";document.getElementById("depthVol"+b+f).style.color="#005500"}else{document.getElementById("depthBid"+b+f).style.color="#29CB1C";document.getElementById("depthPrice"+b+f).style.color="#29CB1C";document.getElementById("depthVol"+b+f).style.color="#29CB1C"}if(isOdd(d)!=true){document.getElementById("depthBid"+b+f).style.background=backgroundColor;document.getElementById("depthPrice"+b+f).style.background=backgroundColor;document.getElementById("depthVol"+b+f).style.background=backgroundColor;document.getElementById("depthcell"+b+f).style.background=backgroundColor}else{document.getElementById("depthBid"+b+f).style.background=backgroundColor;document.getElementById("depthPrice"+b+f).style.background=backgroundColor;document.getElementById("depthVol"+b+f).style.background=backgroundColor;document.getElementById("depthcell"+b+f).style.background=backgroundColor}}if(buyDepthGraphRounded[d][3]==-1){document.getElementById("depthBid"+b+f).style.color=backgroundColor;document.getElementById("depthBid"+b+f).style.background="red";document.getElementById("depthPrice"+b+f).style.color=backgroundColor;document.getElementById("depthPrice"+b+f).style.background="red";document.getElementById("depthVol"+b+f).style.color=backgroundColor;document.getElementById("depthVol"+b+f).style.background="red";document.getElementById("depthcell"+b+f).style.background="red"}document.getElementById("depthPrice"+b+f).firstChild.nodeValue=""+parseFloat(buyDepthGraphRounded[d][0]).toFixed(4);document.getElementById("depthVol"+b+f).firstChild.nodeValue="Vol: "+getVolDisplayTxt(buyDepthGraphRounded[d][1])}d++}if(g==true){setTimeout(function(){updateDepthCellsRounded(true)},500)}}function updateDepthCells(g){if(displayRoundedDepth==true){return}var d=0;var a=new Date();var c=a.getTime();if((g==false&&((c-lastDepthCellsUpdate)<100))||depthCellsInitiated==false){return}var f="Ask";if(ordersExpanded!=true){for(var b=15;b>0;b--){if(d<sellDepthData.length){if((c-sellDepthData[d][2])>1000){sellDepthData[d][3]=0}if(sellDepthData[d][3]==1){depthmap["depthAsk"+b].style.color=backgroundColor;depthmap["depthAsk"+b].style.background="red";depthmap["depthPrice"+b].style.color=backgroundColor;depthmap["depthPrice"+b].style.background="red";depthmap["depthVol"+b].style.color=backgroundColor;depthmap["depthVol"+b].style.background="red";depthmap["depthcell"+b].style.background="red"}if(sellDepthData[d][3]==0){if((c-sellDepthData[d][2])>60000){depthmap["depthAsk"+b].style.color="#777";depthmap["depthPrice"+b].style.color="#8F0000";if(parseFloat(sellDepthData[d][1])>parseFloat(highlightvol)){depthmap["depthVol"+b].style.color="#999900"}else{depthmap["depthVol"+b].style.color="#777"}}else{if(sellDepthData[d][1]==0){depthmap["depth"+(f.concat(b))].style.color="#3E3E3E";depthmap["depthPrice"+b].style.color="#3E3E3E";depthmap["depthVol"+b].style.color="#3E3E3E"}else{depthmap["depth"+(f.concat(b))].style.color="#CCC";depthmap["depthPrice"+b].style.color="red";if(parseFloat(sellDepthData[d][1])>parseFloat(highlightvol)){depthmap["depthVol"+b].style.color="#ffd700"}else{depthmap["depthVol"+b].style.color="#CCC"}}}if(isOdd(d)){depthmap["depthAsk"+b].style.background=backgroundColor;depthmap["depthPrice"+b].style.background=backgroundColor;depthmap["depthVol"+b].style.background=backgroundColor;depthmap["depthcell"+b].style.background=backgroundColor}else{depthmap["depthAsk"+b].style.background=backgroundColor;depthmap["depthPrice"+b].style.background=backgroundColor;depthmap["depthVol"+b].style.background=backgroundColor;depthmap["depthcell"+b].style.background=backgroundColor}}if(sellDepthData[d][3]==-1){depthmap["depthAsk"+b].style.color=backgroundColor;depthmap["depthAsk"+b].style.background="#29CB1C";depthmap["depthPrice"+b].style.color=backgroundColor;depthmap["depthPrice"+b].style.background="#29CB1C";depthmap["depthVol"+b].style.color=backgroundColor;depthmap["depthVol"+b].style.background="#29CB1C";depthmap["depthcell"+b].style.background="#29CB1C"}depthmap["depthPrice"+b].firstChild.nodeValue=""+sellDepthData[d][0];depthmap["depthVol"+b].firstChild.nodeValue="Vol: "+getVolDisplayTxt(sellDepthData[d][1])}d++}}else{for(var b=1;(b<31&&b<sellDepthData.length);b++){if(b>15){f="Bid"}if(d<sellDepthData.length){if((c-sellDepthData[d][2])>1000){sellDepthData[d][3]=0;if(parseFloat(sellDepthData[d][0])%100==0){depthmap["depthPrice"+b].style.textDecoration="underline";depthmap["depthPrice"+b].style.textDecorationColor="yellow"}else{depthmap["depthPrice"+b].style.textDecoration="none"}}if(sellDepthData[d][3]==1){depthmap["depth"+(f.concat(b))].style.color=backgroundColor;depthmap["depth"+f+b].style.background="red";depthmap["depthPrice"+b].style.color=backgroundColor;depthmap["depthPrice"+b].style.background="red";depthmap["depthVol"+b].style.color=backgroundColor;depthmap["depthVol"+b].style.background="red";depthmap["depthcell"+b].style.background="red"}if(sellDepthData[d][3]==0){if((c-sellDepthData[d][2])>60000){depthmap["depth"+(f.concat(b))].style.color="#777";depthmap["depthPrice"+b].style.color="#8F0000";if(parseFloat(sellDepthData[d][1])>parseFloat(highlightvol)){depthmap["depthVol"+b].style.color="#999900"}else{depthmap["depthVol"+b].style.color="#777"}}else{if(sellDepthData[d][1]==0){depthmap["depth"+(f.concat(b))].style.color="#3E3E3E";depthmap["depthPrice"+b].style.color="#3E3E3E";depthmap["depthVol"+b].style.color="#3E3E3E"}else{depthmap["depth"+(f.concat(b))].style.color="#CCC";depthmap["depthPrice"+b].style.color="red";if(parseFloat(sellDepthData[d][1])>parseFloat(highlightvol)){depthmap["depthVol"+b].style.color="#ffd700"}else{depthmap["depthVol"+b].style.color="#CCC"}}}depthmap["depth"+(f.concat(b))].style.background=backgroundColor;depthmap["depthPrice"+b].style.background=backgroundColor;depthmap["depthVol"+b].style.background=backgroundColor;depthmap["depthcell"+b].style.background=backgroundColor}if(sellDepthData[d][3]==-1){depthmap["depth"+f+b].style.color=backgroundColor;depthmap["depth"+f+b].style.background="#29CB1C";depthmap["depthPrice"+b].style.color=backgroundColor;depthmap["depthPrice"+b].style.background="#29CB1C";depthmap["depthVol"+b].style.color=backgroundColor;depthmap["depthVol"+b].style.background="#29CB1C";depthmap["depthcell"+b].style.background="#29CB1C"}depthmap["depthPrice"+b].firstChild.nodeValue=""+sellDepthData[d][0];depthmap["depthVol"+b].firstChild.nodeValue="Vol: "+getVolDisplayTxt(sellDepthData[d][1])}d++}}if(ordersExpanded){var e=1;f="left"}else{var e=16;f=""}d=0;for(var b=e;(b<31&&b<buyDepthData.length);b++){if(d<buyDepthData.length){if((c-buyDepthData[d][2])>1000){buyDepthData[d][3]=0;if(parseFloat(buyDepthData[d][0])%100==0){depthmap["depthPrice"+b+f].style.textDecoration="underline";depthmap["depthPrice"+b+f].style.textDecorationColor="yellow"}else{depthmap["depthPrice"+b+f].style.textDecoration="none"}}if(buyDepthData[d][3]==1){depthmap["depthBid"+b+f].style.color=backgroundColor;depthmap["depthBid"+b+f].style.background="#29CB1C";depthmap["depthPrice"+b+f].style.color=backgroundColor;depthmap["depthPrice"+b+f].style.background="#29CB1C";depthmap["depthVol"+b+f].style.color=backgroundColor;depthmap["depthVol"+b+f].style.background="#29CB1C";depthmap["depthcell"+b+f].style.background="#29CB1C"}if(buyDepthData[d][3]==0){if((c-buyDepthData[d][2])>60000){depthmap["depthBid"+b+f].style.color="#777";depthmap["depthPrice"+b+f].style.color="#005500";if(parseFloat(buyDepthData[d][1])>parseFloat(highlightvol)){depthmap["depthVol"+b+f].style.color="#999900"}else{depthmap["depthVol"+b+f].style.color="#777"}}else{if(buyDepthData[d][1]==0){depthmap["depthBid"+b+f].style.color="#3E3E3E";depthmap["depthPrice"+b+f].style.color="#3E3E3E";depthmap["depthVol"+b+f].style.color="#3E3E3E"}else{depthmap["depthBid"+b+f].style.color="#CCC";depthmap["depthPrice"+b+f].style.color="#29CB1C";if(parseFloat(buyDepthData[d][1])>parseFloat(highlightvol)){depthmap["depthVol"+b+f].style.color="#ffd700"}else{depthmap["depthVol"+b+f].style.color="#CCC"}}}depthmap["depthBid"+b+f].style.background=backgroundColor;depthmap["depthPrice"+b+f].style.background=backgroundColor;depthmap["depthVol"+b+f].style.background=backgroundColor;depthmap["depthcell"+b+f].style.background=backgroundColor}if(buyDepthData[d][3]==-1){depthmap["depthBid"+b+f].style.color=backgroundColor;depthmap["depthBid"+b+f].style.background="red";depthmap["depthPrice"+b+f].style.color=backgroundColor;depthmap["depthPrice"+b+f].style.background="red";depthmap["depthVol"+b+f].style.color=backgroundColor;depthmap["depthVol"+b+f].style.background="red";depthmap["depthcell"+b+f].style.background="red"}depthmap["depthPrice"+b+f].firstChild.nodeValue=""+buyDepthData[d][0];depthmap["depthVol"+b+f].firstChild.nodeValue="Vol: "+getVolDisplayTxt(buyDepthData[d][1])}d++}lastDepthCellsUpdate=new Date().getTime();if(g==true){setTimeout(function(){updateDepthCells(true)},500)}}function updateDepthData(){if(typeof tradeData[tradeData.length-1]==="undefined"||sellDepthGraphRounded.length==0||buyDepthGraphRounded.length==0||depthGraphLoaded==false||depthGraphRoundedLoaded==false){setTimeout(function(){updateDepthData()},20);return}var c=0;var d=[];var a=[];var b;for(b=0;b<buyDepthGraph.length-1;b++){a.push([buyDepthGraph[b][0],(parseFloat(buyDepthGraph[b][1])+c)]);c=(a[a.length-1][1])}c=0;for(b=0;b<sellDepthGraph.length-1;b++){d.push([sellDepthGraph[b][0],(parseFloat(sellDepthGraph[b][1])+c)]);c=(d[d.length-1][1])}sellSumData1=[];buySumData1=[];sellSumData1=$.extend(true,[],d);buySumData1=$.extend(true,[],a);d=[];a=[];c=0;for(b=0;b<buyDepthGraphRounded.length-1;b++){a.push([buyDepthGraphRounded[b][0],(parseFloat(buyDepthGraphRounded[b][1])+c)]);c=(a[a.length-1][1])}c=0;for(b=0;b<sellDepthGraphRounded.length-1;b++){d.push([sellDepthGraphRounded[b][0],(parseFloat(sellDepthGraphRounded[b][1])+c)]);c=(d[d.length-1][1])}sellSumDataRounded1=[];buySumDataRounded1=[];sellSumDataRounded1=$.extend(true,[],d);buySumDataRounded1=$.extend(true,[],a);updateDepthDataLastRun=new Date()}function updateDepthData5Min(a){if(typeof tradeData[tradeData.length-1]==="undefined"||sellDepthGraphRounded.length==0||buyDepthGraphRounded.length==0||depthGraphLoaded==false||depthGraphRoundedLoaded==false){setTimeout(function(){updateDepthData5Min(a)},20);return}sellSumData2=[];buySumData2=[];sellSumData2=$.extend(true,[],sellSumData1);buySumData2=$.extend(true,[],buySumData1);sellSumDataRounded2=[];buySumDataRounded2=[];sellSumDataRounded2=$.extend(true,[],sellSumDataRounded1);buySumDataRounded2=$.extend(true,[],buySumDataRounded1);buyDepthGraphRounded5min=[];sellDepthGraphRounded5min=[];if(firstSnapshot==true){buyDepthGraphRounded5min=$.extend(true,[],buyDepthGraphRounded);sellDepthGraphRounded5min=$.extend(true,[],sellDepthGraphRounded);firstSnapshot=false}else{buyDepthGraphRounded5min=$.extend(true,[],buyDepthGraphRounded1);sellDepthGraphRounded5min=$.extend(true,[],sellDepthGraphRounded1)}buyDepthGraphRounded1=[];sellDepthGraphRounded1=[];buyDepthGraphRounded1=$.extend(true,[],buyDepthGraphRounded);sellDepthGraphRounded1=$.extend(true,[],sellDepthGraphRounded);updateDepthData5MinLastRun=new Date()}$(function(){$("#updateInterval").keyup(function(e){if(e.keyCode==13){$("#updateInterval").blur()}});$("#updateInterval").val(updateInterval).change(function(){var e=$(this).val();if(e&&!isNaN(+e)){updateInterval=+e;if(updateInterval<1){updateInterval=1}else{if(updateInterval>1000000){updateInterval=2000}}$(this).val(""+updateInterval);setCookie("updateInterval",updateInterval,expiryDate,"/")}});$("#highlightvol").keyup(function(e){if(e.keyCode==13){$("#highlightvol").blur()}});$("#highlightvol").val(highlightvol).change(function(){var e=$(this).val();if(e&&!isNaN(+e)){highlightvol=+e;if(highlightvol<1){highlightvol=1}else{if(highlightvol>1000000){highlightvol=2000}}$(this).val(""+highlightvol);setCookie("highlightvol",highlightvol,expiryDate,"/")}});if(!showCand){var c=$.plot("#placeholder",[{data:maxRangeData,color:"#24d620",label:"max",lines:{show:showRANGE,fill:true,lineWidth:0}},{data:minRangeData,color:"#ff0000",label:"min",lines:{show:showRANGE,fill:true,lineWidth:0}},{data:docData,color:"#5A5A9D",label:"DOC",lines:{show:showDOC,fill:true,lineWidth:0}},{data:tradeData,label:"Last Trade",lines:{show:true,lineWidth:1.5}},{data:volData,color:volBarColor,bars:{show:true,fill:true,lineWidth:2},label:"volume",yaxis:2},{data:smaData,color:"#0000D9",label:"SMA",lines:{show:showSMA,lineWidth:1.5}},{data:emaData,color:"#FF0000",label:"EMA",lines:{show:showEMA,lineWidth:1.5}}],options)}var a=$.plot("#placeholder2",[{data:buySumData}]);function b(){voldate=new Date();rounded=new Date((Math.floor(voldate/coeff)*coeff));if(volData.length!=0){for(var e=0;e<(volData.length/5);e++){difference=(rounded.getTime())-volData[e][0];if(difference>(keepMins*60*1000)){delete volData[e];volData.splice(e,1)}}}if(tradeData.length!=0){for(var e=0;e<(tradeData.length/5);e++){difference=(rounded.getTime())-tradeData[e][0];if(difference>(keepMins*60*1000)){delete tradeData[e];tradeData.splice(e,1)}}}setTimeout(b,(coeff/2))}$("#placeholder").bind("mouseleave",removeTooltip);$("#placeholder2").bind("mouseleave",removeTooltip);update(true);updateDepthData();updateDepthData5Min(true);function d(){setTimeout(d,1000);var e=0;for(var g=0;g<(volData.length-1);++g){var k=new Date(volData[g][0]);var h=k.getMinutes();var l=new Date(volData[g+1][0]);var f=l.getMinutes();if(h==f){volData[g+1][1]=volData[g+1][1]+volData[g][1];if(volData[g+1][1]>maxvol){maxvol=volData[g+1][1]}volData.splice(g,1)}}}$("#footer").prepend("Flot "+$.plot.version+" &ndash; ")});function updateClock(){var d=new Date();var f=d.getHours();var a=d.getMinutes();var e=d.getSeconds();a=(a<10?"0":"")+a;e=(e<10?"0":"")+e;var b=(f<12)?"AM":"PM";f=(f>12)?f-12:f;f=(f==0)?12:f;var c=f+":"+a+":"+e+" "+b;document.getElementById("clock").firstChild.nodeValue=c}function loadNews(){var b=Math.round((new Date()).getTime()/1000);var a=b-259200;$.getJSON("https://api.bitcointicker.co/news/"+a+"/",function(c){var d;for(d in c){newsData.push([((c[d].newsDate)*1000),c[d].title,c[d].publisher,c[d].unescapedurl,c[d].id,c[d].votes,c[d].comments]);newsDataGraph.push({min:((c[d].newsDate)*1000),max:((c[d].newsDate)*1000),eventType:c[d].unescapedurl,title:c[d].title,description:c[d].publisher})}updateNews(true)})}function changeGraphHist(a){appendclearTrades();boughtHistData=[];soldHistData=[];keepMins=parseInt(a);if(showCand){changeCandleGraphHist(a);return}docMin=null;docMax=null;min=0;max=0.06;minOrig=0;maxOrig=0.000001;minvol=0;maxvol=20;flotBarWidth=60000;emaPeriod=22;periodSold=0;periodBought=0;coeff=(1000*60);var c;tradeDataLoaded=false;tradeData=[];tradeDataTicks=[];volData=[];smaData=[];emaData=[];docData=[];maxRangeData=[];minRangeData=[];newsDataGraph.length=0;updateNewsDataGraph(parseInt(a*60));$.ajax({type:"GET",url:"https://api.bitcointicker.co/trades/"+curExchange+"/"+curPair+"/"+a+"/",dataType:"json",success:function(e){for(c in e){if(e[c].tradeType=="ask"){periodSold=periodSold+parseFloat(e[c].amount);curTradeType=0}else{periodBought=periodBought+parseFloat(e[c].amount);curTradeType=1}if(tradeData.length>0){if(tradeData[tradeData.length-1][0]>e[c].time*1000){}}num3=parseFloat(e[c].price);if(num3>parseFloat(maxOrig)){max=parseFloat(num3+graphPaddingSize).toFixed(pricePrecision);maxOrig=parseFloat(num3).toFixed(pricePrecision)}if(minOrig==0||num3<parseFloat(minOrig)){min=parseFloat(num3-graphPaddingSize).toFixed(pricePrecision);minOrig=parseFloat(num3).toFixed(pricePrecision)}if(e[c].price<price){tradeData.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,0,curTradeType]);tradeDataTicks.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,0,1]);if(e.length-c<34){appendTradeCells(e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,0,false,false)}}else{tradeData.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,1,curTradeType]);tradeDataTicks.push([e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,1,1]);if(e.length-c<34){appendTradeCells(e[c].time*1000,parseFloat(e[c].price).toFixed(pricePrecision),e[c].amount,1,false,false)}}price=e[c].price;last=e[c].price;voldate=([e[c].time]*1000);rounded=new Date((Math.floor(voldate/coeff)*coeff));seconds=new Date();if(volData.length==0){volData.push([rounded.getTime(),parseFloat(e[c].amount)]);if(currentExchange=="btce"){if(e[c].tradeType=="ask"){soldHistData.push([rounded.getTime(),parseFloat(e[c].amount)]);boughtHistData.push([rounded.getTime(),parseInt(0)])}else{soldHistData.push([rounded.getTime(),parseInt(0)]);boughtHistData.push([rounded.getTime(),parseFloat(e[c].amount)])}}}else{if(volData[volData.length-1][0]==rounded.getTime()){volData[volData.length-1][1]=(volData[volData.length-1][1])+(parseFloat(e[c].amount));if(currentExchange=="btce"){if(e[c].tradeType=="ask"){soldHistData[soldHistData.length-1][1]=(soldHistData[soldHistData.length-1][1])+(parseFloat(e[c].amount))}else{boughtHistData[boughtHistData.length-1][1]=(boughtHistData[boughtHistData.length-1][1])+(parseFloat(e[c].amount))}}if(volData[volData.length-1][1]>maxvol){maxvol=Math.round(volData[volData.length-1][1])+50}}else{volData.push([rounded.getTime(),parseFloat(e[c].amount)]);if(currentExchange=="btce"){if(e[c].tradeType=="ask"){soldHistData.push([rounded.getTime(),parseFloat(e[c].amount)]);boughtHistData.push([rounded.getTime(),parseInt(0)])}else{soldHistData.push([rounded.getTime(),parseFloat(0)]);boughtHistData.push([rounded.getTime(),parseFloat(e[c].amount)])}}if(e[c].amount>maxvol){maxvol=Math.round(volData[volData.length-1][1])+50}}}}if(tradeData.length!=0&&1==2){var g=1;var d=(tradeData.length-31);if(d<0){d=0}for(var f=tradeData.length-1;f>d;f--){volnum3=tradeData[f][2];volnum3=parseFloat(volnum3).toFixed(pricePrecision);seconds=new Date(tradeData[f][0]);if(tradeData[f][3]==1){if(keepMins>43200){document.getElementById("tradeT"+g).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+g).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+g).style.color="#29CB1C";if(parseFloat(volnum3)>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}else{document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}document.getElementById("tradeVol"+g).style.color="#29CB1C";document.getElementById("tradePrice"+g).firstChild.nodeValue="Price: "+tradeData[f][1];document.getElementById("tradePrice"+g).style.color="#29CB1C"}else{if(keepMins>43200){document.getElementById("tradeT"+g).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+g).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+g).style.color="red";if(volnum3>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}else{document.getElementById("tradeVol"+g).firstChild.nodeValue="Vol: "+volnum3}document.getElementById("tradeVol"+g).style.color="red";document.getElementById("tradePrice"+g).firstChild.nodeValue="Price: "+tradeData[f][1];document.getElementById("tradePrice"+g).style.color="red"}g++}}if(showSMA){initSma()}if(showEMA){initEma()}if(showDOC){initDoc()}if(showRANGE){initMaxRange()}tradeDataLoaded=true;updateCentChange();updateLast();drawLineGraph()},data:{},async:true});if(currentExchange=="btce"){updateBoughtSoldText();drawBoughtSoldGraph()}else{document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a"}if(depthDisplayType=="boughtsold"){drawBoughtSoldSumGraph()}if(currentExchange.endsWith(currentCrypto.toLowerCase())){var b=currentExchange.replace(currentCrypto.toLowerCase(),"")}else{var b=currentExchange}if(!firstPageLoad){history.pushState(null,"","/"+b+"/"+currentCrypto.toLowerCase()+"/"+currentCurrency.toLowerCase()+"/"+getTimePeriodString(keepMins)+"/")}else{firstPageLoad=false}}function toggleOptions(){if(showOptions==false){document.getElementById("showhideoptions").firstChild.nodeValue="Hide Options";$(".optionsContainer").slideDown();showOptions=true}else{document.getElementById("showhideoptions").firstChild.nodeValue="Show Options";$(".optionsContainer").slideUp();showOptions=false}}function toggleTicker(){if(showTicker==true){document.getElementById("showhidetick").firstChild.nodeValue="Show Ticker";showTicker=false;document.getElementById("trades").style.visibility="hidden";document.getElementById("orders2").style.visibility="hidden";document.getElementById("orders1").style.visibility="hidden";document.getElementById("changeExchangesandcur").style.visibility="hidden";screenWidth=$(window).width();screenHeight=$(window).height();graphWidth=screenWidth-460;graphHeight=screenHeight/2;$(".demo-placeholder").css("width",(screenWidth-100));$(".volumeplaceholder").css("width",(screenWidth-100));$("#trades").css("width",0);$("#trades").css("margin","0");$("#orders").css("width",0);$("#orders").css("margin","0")}else{screenWidth=$(window).width();screenHeight=$(window).height();graphWidth=screenWidth-600;graphHeight=screenHeight/2;$(".demo-placeholder").css("width","100%");$(".volumeplaceholder").css("width","100%");$("#trades").css("width",260);$("#trades").css("margin","5px 5px 0px");$("#orders2").css("width",180);$("#orders2").css("margin","5px 5px 0px 5px");document.getElementById("orders2").style.visibility="visible";$("#orders1").css("width",160);$("#orders1").css("margin","5px 5px 0px 5px");document.getElementById("orders1").style.visibility="visible";document.getElementById("showhidetick").firstChild.nodeValue="Hide Ticker";showTicker=true;document.getElementById("trades").style.visibility="visible";document.getElementById("changeExchangesandcur").style.visibility="visible"}drawDepthGraph(false);drawLineGraph()}function toggleOrderExpand(){if(ordersExpanded==false){document.getElementById("expandArrowText").firstChild.nodeValue="\u25B6";document.getElementById("ordertext").firstChild.nodeValue="Asks";ordersExpanded=true;$("#orderleft").css("display","block");$("#ordertdspacerleft").css("display","block");$(".depthcell").css("width","150px");$(".depthcellfirst").css("width","150px");$(".depthcelllast").css("width","150px");$("#centChange2").css("width","150px");$("#orderstd").css("width","150px");$("#lagtext").css("width","150px");$("#orders2").css("width","150px");$("#orderticker").css("width","150px");$("#ordertext").css("padding-left","40px");for(var a=1;a<16;a++){document.getElementById("depthAsk"+a).firstChild.nodeValue=""}for(a=16;a<31;a++){document.getElementById("depthBid"+a).firstChild.nodeValue=""}if(typeof plotSum!=="undefined"){plotSum.resize()}drawDepthGraph(false);drawLineGraph();drawBoughtSoldGraph();setCookie("ordersExpanded","true",expiryDate,"/")}else{document.getElementById("expandArrowText").firstChild.nodeValue="\u25C0";document.getElementById("ordertext").firstChild.nodeValue="Orders";ordersExpanded=false;$("#orderleft").css("display","none");$("#ordertdspacerleft").css("display","none");$(".depthcell").css("width","180px");$(".depthcellfirst").css("width","180px");$(".depthcelllast").css("width","180px");$("#centChange2").css("width","180px");$("#orderstd").css("width","180px");$("#lagtext").css("width","180px");$("#orders2").css("width","180px");$("#orderticker").css("width","180px");$("#ordertext").css("padding-left","50px");for(var a=1;a<16;a++){document.getElementById("depthAsk"+a).firstChild.nodeValue="Ask:"}for(a=16;a<31;a++){document.getElementById("depthBid"+a).firstChild.nodeValue="Bid:"}setCookie("ordersExpanded","false",expiryDate,"/");if(typeof plotSum!=="undefined"){plotSum.resize()}drawDepthGraph(false);drawLineGraph()}}function toggleTheme(){if(darkTheme==true){document.getElementById("toggleTheme").firstChild.nodeValue="Dark Theme";darkTheme=false;setCookie("darkTheme","false",expiryDate,"/");$("body").css("background-color","#F0F0F0");$("body").css("color","#000000");$(".displayTick a").css("color","#000000");$(".displayOptions a").css("color","#000000");$(".toggleThemec a").css("color","#000000");$(".expandArrow a").css("color","#000000");$(".tradePrice").css("font-weight","bold");$(".tradeTime").css("font-weight","bold");$(".tradeVol").css("font-weight","bold");$(".depthPrice").css("font-weight","bold");$(".depthVol").css("font-weight","bold");$("#USDTickText").css("color","#000000");$("#StampUSDTickText").css("color","#000000");$("#BtceUSDTickText").css("color","#000000");$("#GBPTickText").css("color","#000000");$("#EURTickText").css("color","#000000");$("#AUDTickText").css("color","#000000");$(document.head).append("<style>.mins.active a{	color:#000000;font-weight:bold;text-decoration: underline;}</style>");$(document.head).append("<style>.exchange.active a{	color:#000000;font-weight:bold;text-decoration: underline;}</style>");$(document.head).append("<style>.currency.active a{	color:#000000;font-weight:bold;text-decoration: underline;}</style>");$(document.head).append("<style>.currency.active a{	color:#000000;font-weight:bold;text-decoration: underline;}</style>");backgroundColor="#F0F0F0";tradeCellBckColor="#F3F3F3";textColor="#000000";volBarColor="#02497F";document.getElementById("USDTicker").style.background=backgroundColor;document.getElementById("StampUSDTicker").style.background=backgroundColor;document.getElementById("BtceUSDTickText").style.background=backgroundColor;document.getElementById("CNYTicker").style.background=backgroundColor;document.getElementById("geminiUSDTicker").style.background=backgroundColor;document.getElementById("BitfUSDBCHTicker").style.background=backgroundColor;document.getElementById("BitfETHBTCTicker").style.background=backgroundColor;document.getElementById("BitfUSDTicker").style.background=backgroundColor;document.getElementById("KraEURTicker").style.background=backgroundColor;document.getElementById("GBPTicker").style.background=backgroundColor;document.getElementById("EURTicker").style.background=backgroundColor;document.getElementById("AUDTicker").style.background=backgroundColor;$(".clickme").css("color","#000");$(".clickme").css("background",backgroundColor);refreshOptions(showNews,backgroundColor);if(!displayRoundedDepth){updateDepthCells(false)}else{updateDepthCellsRounded(false)}updateNews(false)}else{document.getElementById("toggleTheme").firstChild.nodeValue="Light Theme";$("body").css("background-color","#000000");$("body").css("color","#FFFFFF");$(".displayTick a").css("color","#FFFFFF");$(".displayOptions a").css("color","#FFFFFF");$(".toggleThemec a").css("color","#FFFFFF");$(".expandArrow a").css("color","#FFFFFF");$(".tradePrice").css("font-weight","normal");$(".tradeTime").css("font-weight","normal");$(".tradeVol").css("font-weight","normal");$(".depthPrice").css("font-weight","normal");$(".depthVol").css("font-weight","normal");$("#USDTickText").css("color","#FFFFFF");$("#StampUSDTickText").css("color","#FFFFFF");$("#BtceUSDTickText").css("color","#FFFFFF");$("#GBPTickText").css("color","#FFFFFF");$("#EURTickText").css("color","#FFFFFF");$("#AUDTickText").css("color","#FFFFFF");$(document.head).append("<style>.mins.active a{	color:#FFFFFF;font-weight:bold;text-decoration: underline;}</style>");$(document.head).append("<style>.exchange.active a{	color:#FFFFFF;font-weight:bold;text-decoration: underline;}</style>");$(document.head).append("<style>.currency.active a{	color:#FFFFFF;font-weight:bold;text-decoration: underline;}</style>");backgroundColor="#000000";tradeCellBckColor="#101010";textColor="#FFFFFF";volBarColor="#AFD8F8";document.getElementById("USDTicker").style.background=backgroundColor;document.getElementById("StampUSDTicker").style.background=backgroundColor;document.getElementById("BtceUSDTickText").style.background=backgroundColor;document.getElementById("CNYTicker").style.background=backgroundColor;document.getElementById("geminiUSDTicker").style.background=backgroundColor;document.getElementById("BitfUSDBCHTicker").style.background=backgroundColor;document.getElementById("BitfETHBTCTicker").style.background=backgroundColor;document.getElementById("BitfUSDTicker").style.background=backgroundColor;document.getElementById("KraEURTicker").style.background=backgroundColor;document.getElementById("GBPTicker").style.background=backgroundColor;document.getElementById("EURTicker").style.background=backgroundColor;document.getElementById("AUDTicker").style.background=backgroundColor;$(".clickme").css("color","#FFF");$(".clickme").css("background",backgroundColor);refreshOptions(showNews,backgroundColor);darkTheme=true;setCookie("darkTheme","true",expiryDate,"/");if(!displayRoundedDepth){updateDepthCells(false)}else{updateDepthCellsRounded(false)}updateNews(false)}var a=firstdivID;while(a<lastdivID){if(isOdd(a)){$("#rowdiv"+a).css({"background-color":backgroundColor})}else{$("#rowdiv"+a).css({"background-color":tradeCellBckColor})}a++}drawDepthGraph(false);drawLineGraph();drawBoughtSoldGraph()}function drawBoughtSoldGraph(){if(ordersExpanded==false){return}var c;var a;if(periodBought>999&&periodBought<1000000){c=parseFloat(periodBought/1000).toFixed(periodBought%1000!=0)+"k"}else{if(periodBought>999999){c=parseFloat(periodBought/1000000).toFixed(periodBought%1000000!=0)+"m"}else{c=parseFloat(periodBought).toFixed(pricePrecision)}}if(periodSold>999&&periodSold<1000000){a=parseFloat(periodSold/1000).toFixed(periodSold%1000!=0)+"k"}else{if(periodSold>999999){a=parseFloat(periodSold/1000000).toFixed(periodSold%1000000!=0)+"m"}else{a=parseFloat(periodSold).toFixed(pricePrecision)}}if(currentExchange=="btce"){boughtSoldData=[{label:"Sold",data:parseFloat(periodSold),color:"#F00"},{label:"Bought",data:parseFloat(periodBought),color:"#29CB1C"}];var b=$.plot($("#boughtsoldratio"),boughtSoldData,{series:{pie:{show:true,label:{show:false},stroke:{color:"#FFF",width:0}}},legend:{show:false},grid:{hoverable:true}});b.setupGrid();b.draw();$("#boughtsoldratio").bind("plothover",function(h,l,g){if(g){if(previousPoint!=g.series.label){seconds=new Date(tradeData[0][0]);var f=new Date();var e;if((((f-seconds)/60)/60)>43200){e=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{e=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}var k;var d;if(periodBought>999&&periodBought<1000000){k=parseFloat(periodBought/1000).toFixed(periodBought%1000!=0)+"k"}else{if(periodBought>999999){k=parseFloat(periodBought/1000000).toFixed(periodBought%1000000!=0)+"m"}else{k=parseFloat(periodBought).toFixed(pricePrecision)}}if(periodSold>999&&periodSold<1000000){d=parseFloat(periodSold/1000).toFixed(periodSold%1000!=0)+"k"}else{if(periodSold>999999){d=parseFloat(periodSold/1000000).toFixed(periodSold%1000000!=0)+"m"}else{d=parseFloat(periodSold).toFixed(pricePrecision)}}previousPoint=g.series.label;$("#tooltip").remove();if(g.series.label=="Sold"){showBoughtSoldTip(l.pageX,l.pageY,d+" coins have been sold since "+e)}if(g.series.label=="Bought"){showBoughtSoldTip(l.pageX,l.pageY,k+" coins have been bought since "+e)}}}else{$("#tooltip").remove();previousPoint=null}});document.getElementById("bought").firstChild.nodeValue=c;document.getElementById("sold").firstChild.nodeValue=a}else{$("#boughtsoldratio").empty()}}function deepCopy(b){var c=b,a;if(b&&typeof b==="object"){c=Object.prototype.toString.call(b)==="[object Array]"?[]:{};for(a in b){c[a]=deepCopy(b[a])}}return c}function diff(d,c){return Math.abs(d-c)}function calcDelta(e,c){var f;var g=0;f=diff(e,c);g=f*0.05;if(g<0.1){return 0.1}else{return g}}function mergeTargetBuyArray(){var e=false;var b;var d;var a;for(d=0;d<lastBuySumTarget.length;d++){var c=binarySearch2dReverse(lastBuySumData,parseFloat(lastBuySumTarget[d][0]));if(c.found!=true){if(c.pos!=lastBuySumData.length){lastBuySumData.splice(c.pos,0,[lastBuySumTarget[d][0],lastBuySumData[c.pos][1]])}else{lastBuySumData.push([lastBuySumTarget[d][0],lastBuySumTarget[d][1]])}}}d=lastBuySumData.length-1;while(d>=0){var c=binarySearch2dReverse(lastBuySumTarget,parseFloat(lastBuySumData[d][0]));if(c.found==false){lastBuySumData.splice(d,1)}d--}}function mergeTargetSellArray(){var a=false;var c;var e;var b;for(e=0;e<lastSellSumTarget.length;e++){var d=binarySearch2d(lastSellSumData,parseFloat(lastSellSumTarget[e][0]));if(d.found!=true){if(d.pos!=lastSellSumData.length){lastSellSumData.splice(d.pos,0,[lastSellSumTarget[e][0],lastSellSumData[d.pos][1]])}else{lastSellSumData.push([lastSellSumTarget[e][0],lastSellSumTarget[e][1]])}}}e=lastSellSumData.length-1;while(e>=0){var d=binarySearch2d(lastSellSumTarget,parseFloat(lastSellSumData[e][0]));if(d.found==false){lastSellSumData.splice(e,1)}e--}}function updatelastSellSumData(g){var c=new Date();var b=0;var d=0;var f;var e=0;var a=c-lastSellAnimateTime;if(lastSellSumData.length==0){lastSellSumData=$.extend(true,[],sellSumData);for(d=0;d<lastSellSumData.length;d++){lastSellSumData[d][1]=0}f=true;return true}else{for(d=0;d<lastSellSumData.length&&d<lastSellSumTarget.length;d++){if(lastSellSumData[d][0]==lastSellSumTarget[d][0]){if(lastSellSumData[d][1]!=lastSellSumTarget[d][1]){f=true;e++;if(lastSellSumData[d][1]<lastSellSumTarget[d][1]){lastSellSumData[d][1]=parseFloat(lastSellSumData[d][1]+parseFloat(calcDelta(lastSellSumData[d][1],lastSellSumTarget[d][1])));if(lastSellSumData[d][1]>lastSellSumTarget[d][1]){lastSellSumData[d][1]=parseFloat(lastSellSumTarget[d][1])}}else{lastSellSumData[d][1]=parseFloat(lastSellSumData[d][1]-parseFloat(calcDelta(lastSellSumData[d][1],lastSellSumTarget[d][1])));if(lastSellSumData[d][1]<lastSellSumTarget[d][1]){lastSellSumData[d][1]=parseFloat(lastSellSumTarget[d][1])}}}}}}return f}function updatelastBuySumData(g){var c=new Date();var b=0;var d=0;var f;var e=0;var a=c-lastBuyAnimateTime;if(lastBuySumData.length==0){lastBuySumData=$.extend(true,[],buySumData);for(d=0;d<lastBuySumData.length;d++){lastBuySumData[d][1]=0}f=true;return true}else{for(d=0;d<lastBuySumData.length&&d<lastBuySumTarget.length;d++){if(lastBuySumData[d][0]==lastBuySumTarget[d][0]){if(lastBuySumData[d][1]!=lastBuySumTarget[d][1]){f=true;e++;if(lastBuySumData[d][1]<lastBuySumTarget[d][1]){lastBuySumData[d][1]=parseFloat(lastBuySumData[d][1]+parseFloat(calcDelta(lastBuySumData[d][1],lastBuySumTarget[d][1])));if(lastBuySumData[d][1]>lastBuySumTarget[d][1]){lastBuySumData[d][1]=parseFloat(lastBuySumTarget[d][1])}}else{lastBuySumData[d][1]=parseFloat(lastBuySumData[d][1]-parseFloat(calcDelta(lastBuySumData[d][1],lastBuySumTarget[d][1])));if(lastBuySumData[d][1]<lastBuySumTarget[d][1]||diff(lastBuySumData[d][1],lastBuySumTarget[d][1])<0.5){lastBuySumData[d][1]=parseFloat(lastBuySumTarget[d][1])}}}}}}return f}function drawLineGraph(){if(showCand){updateCandle();return}var a=$("#placeholder");options.yaxes[0].max=max;options.yaxes[0].min=min;options.yaxes[1].max=maxvol;if(buyDepthData.length!=0&&sellDepthData.length!=0){if(parseFloat(min)>parseFloat(getHighBid())){options.yaxes[0].min=parseFloat(getHighBid())}if(parseFloat(max)<parseFloat(getLowAsk())){options.yaxes[0].max=parseFloat(getLowAsk())}}if(logScale){options.yaxes[0].transform=function(c){if(parseFloat(c)>1){var b=(Math.log(c)/Math.log(10));return(Math.log(c)/Math.log(10))}else{return c}}}else{options.yaxes[0].transform=null}plot=$.plot("#placeholder",[{data:maxRangeData,color:"#24d620",label:"max",lines:{show:showRANGE,fill:true,lineWidth:0}},{data:minRangeData,color:"#ff0000",label:"min",lines:{show:showRANGE,fill:true,lineWidth:0}},{data:docData,color:"#5A5A9D",label:"DOC",lines:{show:showDOC,fill:true,lineWidth:0}},{data:tradeData,label:"Last Trade",lines:{show:true,lineWidth:1.5}},{data:volData,color:volBarColor,bars:{show:true,fill:true,fillColor:{colors:[{opacity:0.1},{opacity:0.5}]},lineWidth:0.3,barWidth:flotBarWidth,colors:[{opacity:0.1},{opacity:1}]},label:"Volume",yaxis:2},{data:smaData,color:"#0000D9",label:"SMA",lines:{show:showSMA,lineWidth:1.5}},{data:emaData,color:"#FF0000",label:"EMA",lines:{show:showEMA,lineWidth:1.5}}],options);plot.setupGrid();plot.draw();if(showBidAskLines){drawBidAskLines(plot,"ask");drawBidAskLines(plot,"bid")}if(typeof tradeData[tradeData.length-1]!=="undefined"){minVal=tradeData[0][1];minPos=tradeData[0][0];maxVal=tradeData[0][1];maxPos=tradeData[0][0];for(i=1;i<tradeData.length;i++){if(parseFloat(tradeData[i][1])<parseFloat(minVal)){minVal=tradeData[i][1];minPos=tradeData[i][0]}if(parseFloat(tradeData[i][1])>parseFloat(maxVal)){maxVal=tradeData[i][1];maxPos=tradeData[i][0]}}drawHighLowPoints(minVal,minPos,maxVal,maxPos)}}function drawDepthGraph(e){var f=false;var h=false;var l;var c;var g;if(depthGraphLoaded==false){return}if(e==false&&animationInProgress==true){return}if(e&&animationInProgress==false&&typeof tradeData[tradeData.length-1]!=="undefined"){animationStartMin=parseFloat(tradeData[tradeData.length-1][1])-(depthRange);animationStartMax=parseFloat(tradeData[tradeData.length-1][1])+(depthRange);animationInProgress=true;lastSellSumTarget=[];lastBuySumTarget=[];lastBuySumTarget=deepCopy(buySumData);lastSellSumTarget=deepCopy(sellSumData);mergeTargetBuyArray();mergeTargetSellArray()}if(depthDisplayType=="sum"){drawDepthBidSumGraph();return}if(depthDisplayType=="boughtsold"){drawBoughtSoldSumGraph();return}if(e==true&&animationInProgress==true){f=updatelastSellSumData();h=updatelastBuySumData()}if(tradeData.length==0){var d=1000}else{var d=parseFloat(tradeData[tradeData.length-1][1])}var b=depthRange;if(e){l=animationStartMin;c=animationStartMax}else{if(typeof tradeData[tradeData.length-1]!=="undefined"){l=parseFloat(tradeData[tradeData.length-1][1])-(depthRange);c=parseFloat(tradeData[tradeData.length-1][1])+(depthRange)}}depthOptions={xaxis:{min:l,max:c,position:"bottom"},yaxes:[{position:"right",min:0,max:graphMaxValue},{position:"left",min:(maxchangeVol*-1),max:maxchangeVol}],crosshair:{mode:"x"},legend:{show:false},grid:{hoverable:true,clickable:true,borderWidth:1,mouseActiveRadius:30,backgroundColor:{colors:[backgroundColor,backgroundColor]},markings:[{color:"grey",lineWidth:1,y2axis:{from:0,to:0}}]}};var k;if(e){if(b<zoomedDepthThresh){k=[{data:buySumData2,color:"#004000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumData2,color:"#8F0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:buySumData1,color:"#009900",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumData1,color:"#AA0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:lastBuySumData,color:"#29CB1C",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:lastSellSumData,color:"#FF0000",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:buySumDataRoundedDiffHigher,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:buySumDataRoundedDiffLower,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffHigher,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffLower,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2}];if(typeof plotSum==="undefined"){plotSum=$.plot("#placeholder2",k,depthOptions)}else{plotSum.setData(k)}}else{k=[{data:buySumDataRounded2,color:"#004000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumDataRounded2,color:"#8F0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:buySumDataRounded1,color:"#009900",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumDataRounded1,color:"#AA0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:lastBuySumData,color:"#29CB1C",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:lastSellSumData,color:"#FF0000",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:buySumDataRoundedDiffHigher,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:buySumDataRoundedDiffLower,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffHigher,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffLower,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2}];if(typeof plotSum==="undefined"){plotSum=$.plot("#placeholder2",k,depthOptions)}else{plotSum.setData(k)}}}else{if(b<zoomedDepthThresh){k=[{data:buySumData2,color:"#004000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumData2,color:"#8F0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:buySumData1,color:"#009900",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumData1,color:"#AA0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:buySumData,color:"#29CB1C",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:sellSumData,color:"#FF0000",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:buySumDataRoundedDiffHigher,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:buySumDataRoundedDiffLower,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffHigher,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffLower,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2}];if(typeof plotSum==="undefined"){plotSum=$.plot("#placeholder2",k,depthOptions)}else{plotSum.setData(k)}}else{k=[{data:buySumDataRounded2,color:"#004000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumDataRounded2,color:"#8F0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:buySumDataRounded1,color:"#009900",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:sellSumDataRounded1,color:"#AA0000",label:"cumulative",hoverable:false,lines:{show:true,lineWidth:1}},{data:buySumData,color:"#29CB1C",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:sellSumData,color:"#FF0000",label:"firstCumulative",lines:{show:true,lineWidth:2}},{data:buySumDataRoundedDiffHigher,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:buySumDataRoundedDiffLower,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffHigher,color:"#6F0000",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2},{data:sellSumDataRoundedDiffLower,color:"#005500",label:"Diff",bars:{show:true,barWidth:depthBarGraphWidth},yaxis:2}];if(typeof plotSum==="undefined"){plotSum=$.plot("#placeholder2",k,depthOptions)}else{plotSum.setData(k)}}}var a=plotSum.getOptions();a.xaxes[0].min=depthOptions.xaxis.min;a.xaxes[0].max=depthOptions.xaxis.max;a.yaxes[0].min=depthOptions.yaxes[0].min;a.yaxes[0].max=depthOptions.yaxes[0].max;a.yaxes[1].min=depthOptions.yaxes[1].min;a.yaxes[1].max=depthOptions.yaxes[1].max;plotSum.setupGrid();plotSum.draw();$("#placeholder2").unbind("plothover");$("#placeholder2").bind("plothover",function(r,C,E){plotSum.unhighlight();var z,y,p,w=plotSum.getData();var x=w[4];var D=null;for(y=0;y<x.data.length;++y){if(x.data[y][0]<C.x){break}}var u=w[5];for(p=0;p<u.data.length;++p){if(u.data[p][0]>C.x){break}}if((y!=0&&y<x.data.length)||(p!=0&&p<u.data.length)){var t;var v;if(y!=0){t=x;v=y;if(w[6].data.length>0){var m=parseFloat(t.data[v][0]);if(b<zoomedDepthThresh){if(currentCurrency=="USD"){m=roundHalf(m)}else{if(currentCurrency=="BTC"){m=parseFloat(m.toFixed(5))}}}var B=binarySearch2dReverse(w[6].data,m);if(B.found==true){D=w[6].data[B.pos][1];plotSum.highlight(w[6],w[6].data[B.pos])}else{if(w[7].data.length>0){B=binarySearch2dReverse(w[7].data,m);if(B.found==true){D=w[7].data[B.pos][1];plotSum.highlight(w[7],w[7].data[B.pos])}}}}}if(p!=0){t=u;v=p;if(w[8].data.length>0){var m=parseFloat(t.data[v][0]);if(b<zoomedDepthThresh){if(currentCurrency=="USD"){m=roundHalf(m)}else{if(currentCurrency=="BTC"){m=parseFloat(m.toFixed(5))}}}var B=binarySearch2d(w[8].data,m);if(B.found==true){D=w[8].data[B.pos][1];plotSum.highlight(w[8],w[8].data[B.pos])}else{if(w[9].data.length>0){B=binarySearch2d(w[9].data,m);if(B.found==true){D=w[9].data[B.pos][1];plotSum.highlight(w[9],w[9].data[B.pos])}}}}}xpoint=parseFloat(t.data[v][1]).toFixed(pricePrecision);ypoint=t.data[v][0];var s=plotSum.pointOffset({x:C.x,y:C.y});plotSum.highlight(t,t.data[v]);var A;if(D==null){A=""}else{A="</br>Change was <strong>"+D.toFixed(pricePrecision)+"</strong>"}showTooltip(s.left,s.top+450,"<strong>"+xpoint+"</strong> coins to take us to <strong>"+ypoint+"</strong>"+A)}return;if(E){if(previousPoint!=E.dataIndex){previousPoint=E.dataIndex;$("#tooltip").remove();if(E.series.label=="firstCumulative"){xpoint=parseFloat(E.datapoint[0]).toFixed(pricePrecision);ypoint=parseInt(E.datapoint[1]);showTooltip(E.pageX,E.pageY,"<strong>"+ypoint+"</strong> coins to take us to <strong>"+xpoint+"</strong>")}if(E.series.label=="Diff"){xpoint=parseFloat(E.datapoint[0]).toFixed(pricePrecision);ypoint=parseFloat(E.datapoint[1]).toFixed(pricePrecision);if(ypoint<0){showTooltip(E.pageX,E.pageY,"Decrease of <strong>"+ypoint+"</strong> coins at <strong>"+xpoint+"</strong>")}else{showTooltip(E.pageX,E.pageY,"Increase of <strong>"+ypoint+"</strong> coins at <strong>"+xpoint+"</strong>")}}}}else{$("#tooltip").remove();previousPoint=null}});if(e){if((f||h)){setTimeout(function(){drawDepthGraph(true)},2)}else{animationInProgress=false}}if(e&&animationInProgress==false){lastBuySumData=[];lastSellSumData=[];lastBuySumData=deepCopy(buySumData);lastSellSumData=deepCopy(sellSumData);drawDepthGraph(false)}if(e==false){g=new Date();if((g-updateDepthDataLastRun)>60000){updateDepthData()}if((g-updateDepthData5MinLastRun)>300000){updateDepthData5Min()}}}function drawBoughtSoldSumGraph(){var d=boughtHistData.reduce(function(g,f){return Math.max(g,f[1])},-Infinity);var a=soldHistData.reduce(function(g,f){return Math.max(g,f[1])},-Infinity);var e;if(parseFloat(d)>parseFloat(a)){e=d}else{e=a}var b={yaxes:[{position:"left",labelWidth:labelWidthLeft+4,max:e,tickFormatter:function c(f){if(parseFloat(f)>999&&parseFloat(f)<10000){return(f/1000).toFixed(0)+"k"}if(parseFloat(f)>9999&&parseFloat(f)<100000){return(f/1000).toFixed(2)+"k"}if(parseFloat(f)>99999){return(f/1000000).toFixed(1)+"0m"}return f}},{position:"right",labelWidth:labelWidthRight-6,max:e,tickFormatter:function c(f){if(parseFloat(f)>999&&parseFloat(f)<10000){return(f/1000).toFixed(0)+"k"}if(parseFloat(f)>9999&&parseFloat(f)<100000){return(f/1000).toFixed(0)+"k"}if(parseFloat(f)>99999){return(f/1000000).toFixed(1)+"0m"}return f}}],xaxis:{mode:"time",timezone:"browser"},legend:{show:true,position:"nw"},grid:{hoverable:false,clickable:false,borderWidth:1,backgroundColor:{colors:[backgroundColor,backgroundColor]}}};plotSum=$.plot("#placeholder2",[{data:volData,color:volBarColor,bars:{show:true,fill:false,fillColor:{colors:[{opacity:0},{opacity:0}]},lineWidth:0,barWidth:flotBarWidth,colors:[{opacity:0},{opacity:0}]}},{data:boughtHistData,color:"#29CB1C",label:"Coins Bought",lines:{show:true},yaxis:1},{data:soldHistData,color:"#FF0000",label:"Coins Sold",lines:{show:true},yaxis:2}],b);plotSum.setupGrid();plotSum.draw();$("#placeholder2").unbind("plothover");$("#placeholder2").bind("plothover",function(g,h,f){if(f){if(previousPoint!=f.dataIndex){previousPoint=f.dataIndex;$("#tooltip").remove();if(f.series.label=="Coins Bought"){xpoint=new Date((f.datapoint[0]));xpoint=xpoint.getFullYear()+"/"+pad((xpoint.getMonth())+1)+"/"+pad(xpoint.getDate())+" "+pad(xpoint.getHours())+":"+pad(xpoint.getMinutes())+":"+pad(xpoint.getSeconds());ypoint=formatNumber(f.datapoint[1].toFixed(2));showTooltip(f.pageX,f.pageY,"At <strong>"+xpoint+"</strong> Coins Bought was <strong>"+ypoint+"</strong>")}if(f.series.label=="Coins Sold"){xpoint=new Date((f.datapoint[0]));xpoint=xpoint.getFullYear()+"/"+pad((xpoint.getMonth())+1)+"/"+pad(xpoint.getDate())+" "+pad(xpoint.getHours())+":"+pad(xpoint.getMinutes())+":"+pad(xpoint.getSeconds());ypoint=formatNumber(f.datapoint[1].toFixed(2));showTooltip(f.pageX,f.pageY,"At <strong>"+xpoint+"</strong> Coins Sold was <strong>"+ypoint+"</strong>")}}}else{$("#tooltip").remove();previousPoint=null}})}function drawDepthBidSumGraph(){var a={yaxes:[{position:"left",tickFormatter:function b(c){if(parseFloat(c)>999&&parseFloat(c)<10000){return(c/1000).toFixed(1)+"k"}if(parseFloat(c)>9999&&parseFloat(c)<100000){return(c/1000).toFixed(2)+"k"}if(parseFloat(c)>99999){return(c/1000000).toFixed(1)+"0m"}return c}},{position:"right",tickFormatter:function b(c){if(parseFloat(c)>999&&parseFloat(c)<10000){return(c/1000).toFixed(1)+"k"}if(parseFloat(c)>9999&&parseFloat(c)<100000){return(c/1000).toFixed(2)+"k"}if(parseFloat(c)>99999){return(c/1000000).toFixed(1)+"0m"}return c}}],xaxis:{mode:"time",timezone:"browser"},legend:{show:true,position:"nw"},grid:{hoverable:true,clickable:true,borderWidth:1,backgroundColor:{colors:[backgroundColor,backgroundColor]}}};plotSum=$.plot("#placeholder2",[{data:depthBidSum,color:"#29CB1C",label:"BidSum "+currentCurrency,lines:{show:true},yaxis:1},{data:depthAskSum,color:"#FF0000",label:"AskSum "+currentCrypto,lines:{show:true},yaxis:2}],a);plotSum.setupGrid();plotSum.draw();$("#placeholder2").unbind("plothover");$("#placeholder2").bind("plothover",function(d,e,c){if(c){if(previousPoint!=c.dataIndex){previousPoint=c.dataIndex;$("#tooltip").remove();if(c.series.label=="BidSum "+currentCurrency){xpoint=new Date((c.datapoint[0]));xpoint=xpoint.getFullYear()+"/"+pad((xpoint.getMonth())+1)+"/"+pad(xpoint.getDate())+" "+pad(xpoint.getHours())+":"+pad(xpoint.getMinutes())+":"+pad(xpoint.getSeconds());ypoint=parseFloat(c.datapoint[1]/1000000).toFixed(c.datapoint[1]%1000000!=0)+"m";showTooltip(c.pageX,c.pageY,"At <strong>"+xpoint+"</strong> Bid Sum was <strong>"+ypoint+" "+currentCurrency+"</strong>")}if(c.series.label=="AskSum "+currentCrypto){xpoint=new Date((c.datapoint[0]));xpoint=xpoint.getFullYear()+"/"+pad((xpoint.getMonth())+1)+"/"+pad(xpoint.getDate())+" "+pad(xpoint.getHours())+":"+pad(xpoint.getMinutes())+":"+pad(xpoint.getSeconds());ypoint=parseFloat(c.datapoint[1]/1000).toFixed(c.datapoint[1]%1000!=0)+"k";showTooltip(c.pageX,c.pageY,"At <strong>"+xpoint+"</strong> Ask Sum was <strong>"+ypoint+" BTC</strong>")}}}else{$("#tooltip").remove();previousPoint=null}})}function hourlyGraphHist(a){appendclearTrades();keepMins=parseInt(a);if(depthDisplayType=="boughtsold"){toggleDepthType("boughtsold")}if(showCand){hourlyCandGraphHist(a);return}document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a";$("#boughtsoldratio").empty();emaPeriod=22;newsDataGraph.length=0;periodSold=0;periodBought=0;updateNewsDataGraph(parseInt(a*60));docMin=null;docMax=null;min=0;max=0.06;minOrig=0;maxOrig=0.000001;minvol=0;maxvol=20;flotBarWidth=60000;if(a==720){flotBarWidth=60000*3.5;coeff=(1000*60)*5}if(a==1440){flotBarWidth=60000*3.5;coeff=(1000*60)*5}if(a==4320){flotBarWidth=60000*2.5;coeff=(1000*60)*5}if(a>4320&&a<=10080){coeff=(1000*60)*10}if(a>10080&&a<=43200){coeff=(1000*60)*60}if(a>43200){flotBarWidth=60000*1250;coeff=(1000*60)*1440}keepMins=parseInt(a);var c;tradeDataLoaded=false;tradeData=[];tradeDataTicks=[];volData=[];sumTradeDat=[];smaData=[];emaData=[];docData=[];maxRangeData=[];minRangeData=[];soldHistData=[];boughtHistData=[];$.ajax({type:"GET",url:"https://api.bitcointicker.co/trades/"+curExchange+"/"+curPair+"/"+a+"/",dataType:"json",success:function(g){tradejsonData=g;for(c in tradejsonData){periodSold=periodSold+parseFloat(tradejsonData[c].asksum);periodBought=periodBought+parseFloat(tradejsonData[c].bidsum);num3=parseFloat(tradejsonData[c].price);if(num3>parseFloat(maxOrig)){max=parseFloat(num3+graphPaddingSize).toFixed(pricePrecision);maxOrig=parseFloat(num3).toFixed(pricePrecision)}if(minOrig==0||num3<parseFloat(minOrig)){min=parseFloat(num3-graphPaddingSize).toFixed(pricePrecision);minOrig=parseFloat(num3).toFixed(pricePrecision)}if(tradejsonData[c].price<price){tradeData.push([tradejsonData[c].time*1000,parseFloat(tradejsonData[c].price).toFixed(pricePrecision),tradejsonData[c].amount,0,tradejsonData[c].bidsum,tradejsonData[c].asksum]);tradeDataTicks.push([tradejsonData[c].time*1000,parseFloat(tradejsonData[c].price).toFixed(pricePrecision),tradejsonData[c].amount,0,1]);if(tradejsonData.length-c<34){appendTradeCells(tradejsonData[c].time*1000,parseFloat(tradejsonData[c].price).toFixed(pricePrecision),tradejsonData[c].amount,0,true,false)}}else{tradeData.push([tradejsonData[c].time*1000,parseFloat(tradejsonData[c].price).toFixed(pricePrecision),tradejsonData[c].amount,1,tradejsonData[c].bidsum,tradejsonData[c].asksum]);tradeDataTicks.push([tradejsonData[c].time*1000,parseFloat(tradejsonData[c].price).toFixed(pricePrecision),tradejsonData[c].amount,1,1]);if(tradejsonData.length-c<34){appendTradeCells(tradejsonData[c].time*1000,parseFloat(tradejsonData[c].price).toFixed(pricePrecision),tradejsonData[c].amount,1,true,false)}}price=tradejsonData[c].price;last=tradejsonData[c].price;voldate=([tradejsonData[c].time]*1000);rounded=new Date(voldate);if(volData.length==0){volData.push([[tradejsonData[c].time]*1000,parseFloat(tradejsonData[c].amount)]);maxvol=Math.round(tradejsonData[c].amount)+50;if(currentExchange=="btce"){soldHistData.push([rounded.getTime(),parseFloat(tradejsonData[c].asksum)]);boughtHistData.push([rounded.getTime(),parseFloat(tradejsonData[c].bidsum)])}}else{if(volData[volData.length-1][1]>maxvol){maxvol=Math.round(volData[volData.length-1][1])+50}volData.push([tradejsonData[c].time*1000,parseFloat(tradejsonData[c].amount)]);if(currentExchange=="btce"){soldHistData.push([rounded.getTime(),parseFloat(tradejsonData[c].asksum)]);boughtHistData.push([rounded.getTime(),parseFloat(tradejsonData[c].bidsum)])}}}sumTradeDat[sumTradeDat.length]=tradeData[tradeData.length-1][1];if(tradeData.length!=0&&1==2){var f=1;var d=(tradeData.length-31);if(d<0){d=0}for(var e=tradeData.length-1;e>d;e--){volnum3=tradeData[e][2];volnum3=parseFloat(volnum3).toFixed(pricePrecision);seconds=new Date(tradeData[e][0]);if(tradeData[e][3]==1){if(keepMins>43200){document.getElementById("tradeT"+f).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+f).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+f).style.color="#29CB1C";if(parseFloat(volnum3)>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+f).firstChild.nodeValue="Vol: "+volnum3}else{document.getElementById("tradeVol"+f).firstChild.nodeValue="Vol: "+volnum3}document.getElementById("tradeVol"+f).style.color="#29CB1C";document.getElementById("tradePrice"+f).firstChild.nodeValue="Price: "+tradeData[e][1];document.getElementById("tradePrice"+f).style.color="#29CB1C"}else{if(keepMins>43200){document.getElementById("tradeT"+f).firstChild.nodeValue=(seconds.getFullYear())+"/"+pad((seconds.getMonth())+1)+"/"+pad(seconds.getDate())}else{document.getElementById("tradeT"+f).firstChild.nodeValue=pad(seconds.getHours())+":"+pad(seconds.getMinutes())+":"+pad(seconds.getSeconds())}document.getElementById("tradeT"+f).style.color="red";if(volnum3>999){volnum3=(volnum3/1000).toFixed(volnum3%1000!=0)+"k";document.getElementById("tradeVol"+f).firstChild.nodeValue="Vol: "+volnum3}else{document.getElementById("tradeVol"+f).firstChild.nodeValue="Vol: "+volnum3}document.getElementById("tradeVol"+f).style.color="red";document.getElementById("tradePrice"+f).firstChild.nodeValue="Price: "+tradeData[e][1];document.getElementById("tradePrice"+f).style.color="red"}f++}}if(showSMA){initSma()}if(showEMA){initEma()}if(showDOC){initDoc()}if(showRANGE){initMaxRange()}tradeDataLoaded=true;updateCentChange();updateLast();drawLineGraph()},data:{},async:true});if(currentExchange=="btce"){updateBoughtSoldText();drawBoughtSoldGraph()}else{document.getElementById("bought").firstChild.nodeValue="n/a";document.getElementById("sold").firstChild.nodeValue="n/a"}if(depthDisplayType=="boughtsold"){drawBoughtSoldSumGraph()}if(currentExchange.endsWith(currentCrypto.toLowerCase())){var b=currentExchange.replace(currentCrypto.toLowerCase(),"")}else{var b=currentExchange}if(!firstPageLoad){history.pushState(null,"","/"+b+"/"+currentCrypto.toLowerCase()+"/"+currentCurrency.toLowerCase()+"/"+getTimePeriodString(keepMins)+"/")}else{firstPageLoad=false}};